/*! For license information please see main.97e361e1.js.LICENSE.txt */
(()=>{"use strict";var t={43(t,e,i){t.exports=i(202)},123(t){var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var s,o,l=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),a=1;a<arguments.length;a++){for(var u in s=Object(arguments[a]))i.call(s,u)&&(l[u]=s[u]);if(e){o=e(s);for(var c=0;c<o.length;c++)n.call(s,o[c])&&(l[o[c]]=s[o[c]])}}return l}},129(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=void 0;var n=i(43),r=i(452);e.useNullableRenderData=function(){var t=(0,n.useState)(),e=t[0],i=t[1];return(0,n.useEffect)(function(){var t=function(t){i(t.detail)};r.Streamlit.events.addEventListener(r.Streamlit.RENDER_EVENT,t),r.Streamlit.setComponentReady();return function(){r.Streamlit.events.removeEventListener(r.Streamlit.RENDER_EVENT,t)}},[]),e}},153(t,e,i){var n=i(43),r=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var s=Symbol.for;r=s("react.element"),e.Fragment=s("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,i){var n,s={},u=null,c=null;for(n in void 0!==i&&(u=""+i),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)l.call(e,n)&&!a.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:r,type:t,key:u,ref:c,props:s,_owner:o.current}}e.jsx=u,e.jsxs=u},202(t,e,i){var n=i(123),r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,l=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,b="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function w(t,e,i){this.props=t,this.context=e,this.refs=g,this.updater=i||v}function _(){}function S(t,e,i){this.props=t,this.context=e,this.refs=g,this.updater=i||v}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var x=S.prototype=new _;x.constructor=S,n(x,w.prototype),x.isPureReactComponent=!0;var T={current:null},E=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,i){var n,r={},o=null,l=null;if(null!=e)for(n in void 0!==e.ref&&(l=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,n)&&!M.hasOwnProperty(n)&&(r[n]=e[n]);var a=arguments.length-2;if(1===a)r.children=i;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps)void 0===r[n]&&(r[n]=a[n]);return{$$typeof:s,type:t,key:o,ref:l,props:r,_owner:T.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var I=/\/+/g,N=[];function O(t,e,i,n){if(N.length){var r=N.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function z(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>N.length&&N.push(t)}function D(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var l=!1;if(null===t)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case o:l=!0}}if(l)return i(n,t,""===e?"."+A(t,0):e),1;if(l=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){var u=e+A(r=t[a],a);l+=D(r,u,i,n)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=b&&t[b]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),a=0;!(r=t.next()).done;)l+=D(r=r.value,u=e+A(r,a++),i,n);else if("object"===r)throw i=""+t,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}function L(t,e,i){return null==t?0:D(t,"",e,i)}function A(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function B(t,e){t.func.call(t.context,e,t.count++)}function P(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?R(t,n,i,function(t){return t}):null!=t&&(k(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+i)),n.push(t))}function R(t,e,i,n,r){var s="";null!=i&&(s=(""+i).replace(I,"$&/")+"/"),L(t,P,e=O(e,s,n,r)),z(e)}var F={current:null};function V(){var t=F.current;if(null===t)throw Error(y(321));return t}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,i){if(null==t)return t;var n=[];return R(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;L(t,B,e=O(null,null,e,i)),z(e)},count:function(t){return L(t,function(){return null},null)},toArray:function(t){var e=[];return R(t,e,null,function(t){return t}),e},only:function(t){if(!k(t))throw Error(y(143));return t}},e.Component=w,e.Fragment=l,e.Profiler=u,e.PureComponent=S,e.StrictMode=a,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(y(267,t));var r=n({},t.props),o=t.key,l=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(l=e.ref,a=T.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)E.call(e,c)&&!M.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:s,type:t.type,key:o,ref:l,props:r,_owner:a}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return V().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,i){return V().useReducer(t,e,i)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.14.0"},219(t,e,i){var n=i(763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function a(t){return n.isMemo(t)?o:l[t.$$typeof]||r}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(p){var r=f(i);r&&r!==p&&t(e,r,n)}var o=c(i);h&&(o=o.concat(h(i)));for(var l=a(e),m=a(i),b=0;b<o.length;++b){var y=o[b];if(!s[y]&&(!n||!n[y])&&(!m||!m[y])&&(!l||!l[y])){var g=d(i,y);try{u(e,y,g)}catch(v){}}}}return e}},234(t,e){var i,n,r,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,a=null,u=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(D){throw setTimeout(u,0),D}},c=Date.now();e.unstable_now=function(){return Date.now()-c},i=function(t){null!==l?setTimeout(i,0,t):(l=t,setTimeout(u,0))},n=function(t,e){a=setTimeout(t,e)},r=function(){clearTimeout(a)},s=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var b=d.now();e.unstable_now=function(){return d.now()-b}}var y=!1,v=null,g=-1,w=5,_=0;s=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();_=t+w;try{v(!0,t)?x.postMessage(null):(y=!1,v=null)}catch(D){throw x.postMessage(null),D}}else y=!1},i=function(t){v=t,y||(y=!0,x.postMessage(null))},n=function(t,i){g=f(function(){t(e.unstable_now())},i)},r=function(){p(g),g=-1}}function T(t,e){var i=t.length;t.push(e);t:for(;;){var n=i-1>>>1,r=t[n];if(!(void 0!==r&&0<C(r,e)))break t;t[n]=e,t[i]=r,i=n}}function E(t){return void 0===(t=t[0])?null:t}function M(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length;n<r;){var s=2*(n+1)-1,o=t[s],l=s+1,a=t[l];if(void 0!==o&&0>C(o,i))void 0!==a&&0>C(a,o)?(t[n]=a,t[l]=i,n=l):(t[n]=o,t[s]=i,n=s);else{if(!(void 0!==a&&0>C(a,i)))break t;t[n]=a,t[l]=i,n=l}}}return e}return null}function C(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var k=[],I=[],N=1,O=null,z=3,L=!1,A=!1,B=!1;function P(t){for(var e=E(I);null!==e;){if(null===e.callback)M(I);else{if(!(e.startTime<=t))break;M(I),e.sortIndex=e.expirationTime,T(k,e)}e=E(I)}}function R(t){if(B=!1,P(t),!A)if(null!==E(k))A=!0,i(F);else{var e=E(I);null!==e&&n(R,e.startTime-t)}}function F(t,i){A=!1,B&&(B=!1,r()),L=!0;var o=z;try{for(P(i),O=E(k);null!==O&&(!(O.expirationTime>i)||t&&!s());){var l=O.callback;if(null!==l){O.callback=null,z=O.priorityLevel;var a=l(O.expirationTime<=i);i=e.unstable_now(),"function"===typeof a?O.callback=a:O===E(k)&&M(k),P(i)}else M(k);O=E(k)}if(null!==O)var u=!0;else{var c=E(I);null!==c&&n(R,c.startTime-i),u=!1}return u}finally{O=null,z=o,L=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){A||L||(A=!0,i(F))},e.unstable_getCurrentPriorityLevel=function(){return z},e.unstable_getFirstCallbackNode=function(){return E(k)},e.unstable_next=function(t){switch(z){case 1:case 2:case 3:var e=3;break;default:e=z}var i=z;z=e;try{return t()}finally{z=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=z;z=t;try{return e()}finally{z=i}},e.unstable_scheduleCallback=function(t,s,o){var l=e.unstable_now();if("object"===typeof o&&null!==o){var a=o.delay;a="number"===typeof a&&0<a?l+a:l,o="number"===typeof o.timeout?o.timeout:V(t)}else o=V(t),a=l;return t={id:N++,callback:s,priorityLevel:t,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>l?(t.sortIndex=a,T(I,t),null===E(k)&&t===E(I)&&(B?r():B=!0,n(R,a-l))):(t.sortIndex=o,T(k,t),A||L||(A=!0,i(F))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();P(t);var i=E(k);return i!==O&&null!==O&&null!==i&&null!==i.callback&&i.startTime<=t&&i.expirationTime<O.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=z;return function(){var i=z;z=e;try{return t.apply(this,arguments)}finally{z=i}}}},452(t,e,i){i.r(e),i.d(e,{ArrowTable:()=>no,Streamlit:()=>so,StreamlitComponentBase:()=>ao,withStreamlitConnection:()=>uo});var n,r,s,o,l,a,u,c,h,d=i(219),f=i.n(d),p=i(43);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(n||(n={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(r||(r={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(s||(s={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(o||(o={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(l||(l={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(u||(u={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(c||(c={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(h||(h={}));function m(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{a(n.next(t))}catch(v){s(v)}}function l(t){try{a(n.throw(t))}catch(v){s(v)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,l)}a((n=n.apply(t,e||[])).next())})}Object.create;function b(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function g(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(t,e||[]),s=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(t){return function(e){return Promise.resolve(e).then(t,u)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(t,e){r[t]&&(n[t]=function(e){return new Promise(function(i,n){s.push([t,e,i,n])>1||l(t,e)})},e&&(n[t]=e(n[t])))}function l(t,e){try{!function(t){t.value instanceof y?Promise.resolve(t.value.v).then(a,u):c(s[0][2],t)}(r[t](e))}catch(v){c(s[0][3],v)}}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function w(t){var e,i;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:y(t[n](e)),done:!1}:r?r(e):e}:r}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=b(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise(function(n,r){(function(t,e,i,n){Promise.resolve(n).then(function(e){t({value:e,done:i})},e)})(n,r,(e=t[i](e)).done,e.value)})}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;function S(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return"".concat(t);case"string":return'"'.concat(t,'"')}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?"[".concat([...t].map(t=>S(t)),"]"):"[".concat(t,"]"):ArrayBuffer.isView(t)?"[".concat(t,"]"):JSON.stringify(t,(t,e)=>"bigint"===typeof e?"".concat(e):e)}const x=new TextDecoder("utf-8"),T=t=>x.decode(t),E=new TextEncoder,M=t=>E.encode(t),[C,k]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[I,N]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[O,z]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),D=t=>"number"===typeof t,L=t=>"boolean"===typeof t,A=t=>"function"===typeof t,B=t=>null!=t&&Object(t)===t,P=t=>B(t)&&A(t.then),R=t=>B(t)&&A(t[Symbol.iterator]),F=t=>B(t)&&A(t[Symbol.asyncIterator]),V=t=>B(t)&&B(t.schema),U=t=>B(t)&&"done"in t&&"value"in t,j=t=>B(t)&&A(t.stat)&&D(t.fd),W=t=>B(t)&&H(t.body),$=t=>"_getDOMStream"in t&&"_getNodeStream"in t,H=t=>B(t)&&A(t.cancel)&&A(t.getReader)&&!$(t),K=t=>B(t)&&A(t.read)&&A(t.pipe)&&L(t.readable)&&!$(t),X="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function Y(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,r),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return s.set(o,i),t}function q(t,e){const i=function(t){const e=t[0]?[t[0]]:[];let i,n,r,s;for(let o,l,a=0,u=0,c=t.length;++a<c;)o=e[u],l=t[a],!o||!l||o.buffer!==l.buffer||l.byteOffset<o.byteOffset?l&&(e[++u]=l):(({byteOffset:i,byteLength:r}=o),({byteOffset:n,byteLength:s}=l),i+r<n||n+s<i?l&&(e[++u]=l):e[u]=new Uint8Array(o.buffer,i,n-i+s));return e}(t),n=i.reduce((t,e)=>t+e.byteLength,0);let r,s,o,l=0,a=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,n);for(const c=i.length;++a<c;){if(r=i[a],s=r.subarray(0,Math.min(r.length,u-l)),u<=l+s.length){s.length<r.length?i[a]=r.subarray(s.length):s.length===r.length&&a++,o?Y(o,s,l):o=s;break}Y(o||(o=new Uint8Array(u)),s,l),l+=s.length}return[o||new Uint8Array(0),i.slice(a),n-(o?o.byteLength:0)]}function Q(t,e){let i=U(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=M(i)),i instanceof ArrayBuffer||i instanceof X?new t(i):(t=>B(t)&&A(t.clear)&&A(t.bytes)&&A(t.position)&&A(t.setPosition)&&A(t.capacity)&&A(t.getBufferIdentifier)&&A(t.createLong))(i)?Q(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const J=t=>Q(Int32Array,t),G=t=>Q(Uint8Array,t),Z=t=>(t.next(),t);function*tt(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof X?i(e):R(e)?e:i(e);return yield*Z(function*(e){let i=null;do{i=e.next(yield Q(t,i))}while(!i.done)}(n[Symbol.iterator]())),new t}function et(t,e){return g(this,arguments,function*(){if(P(e))return yield y(yield y(yield*w(_(et(t,yield y(e))))));const i=function(t){return g(this,arguments,function*(){yield yield y(yield y(t))})},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof X?i(e):R(e)?function(t){return g(this,arguments,function*(){yield y(yield*w(_(Z(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))})}(e):F(e)?e:i(e);return yield y(yield*w(_(Z(function(e){return g(this,arguments,function*(){let i=null;do{i=yield y(e.next(yield yield y(Q(t,i))))}while(!i.done)})}(n[Symbol.asyncIterator]()))))),yield y(new t)})}function it(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}const nt=Symbol.for("isArrowBigNum");function rt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(Q(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function st(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function ot(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function lt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function at(t){const{buffer:e,byteOffset:i,length:n,signed:r}=t,s=new Int32Array(e,i,n);let o=0,l=0;const a=s.length;let u,c;for(;l<a;)c=s[l++],u=s[l++],r||(u>>>=0),o+=(c>>>0)+u*Math.pow(l,32);return o}let ut,ct;function ht(t){let e="";const i=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(i[0]=n[s=0];s<o;)n[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[s];n[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e="".concat(i[0]).concat(e)}while(r[0]||r[1]||r[2]||r[3]);return e||"0"}rt.prototype[nt]=!0,rt.prototype.toJSON=function(){return'"'.concat(ut(this),'"')},rt.prototype.valueOf=function(){return at(this)},rt.prototype.toString=function(){return ut(this)},rt.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return at(this);case"string":return ut(this);case"default":return ct(this)}return ut(this)},Object.setPrototypeOf(st.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(ot.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(lt.prototype,Object.create(Uint32Array.prototype)),Object.assign(st.prototype,rt.prototype,{constructor:st,signed:!0,TypedArray:Int32Array,BigIntArray:I}),Object.assign(ot.prototype,rt.prototype,{constructor:ot,signed:!1,TypedArray:Uint32Array,BigIntArray:O}),Object.assign(lt.prototype,rt.prototype,{constructor:lt,signed:!0,TypedArray:Uint32Array,BigIntArray:O}),k?(ct=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:ht(t),ut=t=>8===t.byteLength?"".concat(new t.BigIntArray(t.buffer,t.byteOffset,1)[0]):ht(t)):(ut=ht,ct=ut);class dt{static new(t,e){switch(e){case!0:return new st(t);case!1:return new ot(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case I:return new st(t)}return 16===t.byteLength?new lt(t):new ot(t)}static signed(t){return new st(t)}static unsigned(t){return new ot(t)}static decimal(t){return new lt(t)}constructor(t,e){return dt.new(t,e)}}var ft,pt,mt,bt,yt,vt,gt,wt,_t,St,xt,Tt,Et,Mt,Ct,kt,It,Nt,Ot,zt;class Dt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===c.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===c.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===c.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===c.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===c.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===c.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===c.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===c.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===c.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===c.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===c.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===c.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===c.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===c.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===c.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===c.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===c.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===c.Dictionary}static isDenseUnion(t){return Dt.isUnion(t)&&t.mode===r.Dense}static isSparseUnion(t){return Dt.isUnion(t)&&t.mode===r.Sparse}get typeId(){return c.NONE}}ft=Symbol.toStringTag,Dt[ft]=((zt=Dt.prototype).children=null,zt.ArrayType=Array,zt[Symbol.toStringTag]="DataType");class Lt extends Dt{toString(){return"Null"}get typeId(){return c.Null}}pt=Symbol.toStringTag,Lt[pt]=(t=>t[Symbol.toStringTag]="Null")(Lt.prototype);class At extends Dt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return c.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}mt=Symbol.toStringTag,At[mt]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(At.prototype);class Bt extends At{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends At{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends At{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Bt.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends At{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}.prototype,"ArrayType",{value:BigInt64Array}),Object.defineProperty(class extends At{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends At{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends At{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends At{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}.prototype,"ArrayType",{value:BigUint64Array});class Pt extends Dt{constructor(t){super(),this.precision=t}get typeId(){return c.Float}get ArrayType(){switch(this.precision){case s.HALF:return Uint16Array;case s.SINGLE:return Float32Array;case s.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"Float".concat(this.precision<<5||16)}}bt=Symbol.toStringTag,Pt[bt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Pt.prototype);Object.defineProperty(class extends Pt{constructor(){super(s.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Pt{constructor(){super(s.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends Pt{constructor(){super(s.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class Rt extends Dt{constructor(){super()}get typeId(){return c.Binary}toString(){return"Binary"}}yt=Symbol.toStringTag,Rt[yt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Rt.prototype);class Ft extends Dt{constructor(){super()}get typeId(){return c.Utf8}toString(){return"Utf8"}}vt=Symbol.toStringTag,Ft[vt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Ft.prototype);class Vt extends Dt{constructor(){super()}get typeId(){return c.Bool}toString(){return"Bool"}}gt=Symbol.toStringTag,Vt[gt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Vt.prototype);class Ut extends Dt{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return c.Decimal}toString(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}wt=Symbol.toStringTag,Ut[wt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Ut.prototype);class jt extends Dt{constructor(t){super(),this.unit=t}get typeId(){return c.Date}toString(){return"Date".concat(32*(this.unit+1),"<").concat(o[this.unit],">")}}_t=Symbol.toStringTag,jt[_t]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(jt.prototype);class Wt extends Dt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return c.Time}toString(){return"Time".concat(this.bitWidth,"<").concat(l[this.unit],">")}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}St=Symbol.toStringTag,Wt[St]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Wt.prototype);class $t extends Dt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return c.Timestamp}toString(){return"Timestamp<".concat(l[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}xt=Symbol.toStringTag,$t[xt]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))($t.prototype);class Ht extends Dt{constructor(t){super(),this.unit=t}get typeId(){return c.Interval}toString(){return"Interval<".concat(a[this.unit],">")}}Tt=Symbol.toStringTag,Ht[Tt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Ht.prototype);class Kt extends Dt{constructor(t){super(),this.children=[t]}get typeId(){return c.List}toString(){return"List<".concat(this.valueType,">")}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Et=Symbol.toStringTag,Kt[Et]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Kt.prototype);class Xt extends Dt{constructor(t){super(),this.children=t}get typeId(){return c.Struct}toString(){return"Struct<{".concat(this.children.map(t=>"".concat(t.name,":").concat(t.type)).join(", "),"}>")}}Mt=Symbol.toStringTag,Xt[Mt]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Xt.prototype);class Yt extends Dt{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((t,e,i)=>(t[e]=i)&&t||t,Object.create(null))}get typeId(){return c.Union}toString(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map(t=>"".concat(t.type)).join(" | "),">")}}Ct=Symbol.toStringTag,Yt[Ct]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Yt.prototype);class qt extends Dt{constructor(t){super(),this.byteWidth=t}get typeId(){return c.FixedSizeBinary}toString(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}kt=Symbol.toStringTag,qt[kt]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(qt.prototype);class Qt extends Dt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return c.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}It=Symbol.toStringTag,Qt[It]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Qt.prototype);class Jt extends Dt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return c.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return"Map<{".concat(this.children[0].type.children.map(t=>"".concat(t.name,":").concat(t.type)).join(", "),"}>")}}Nt=Symbol.toStringTag,Jt[Nt]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Jt.prototype);const Gt=(Zt=-1,()=>++Zt);var Zt;class te extends Dt{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?Gt():"number"===typeof i?i:i.low}get typeId(){return c.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}function ee(t){const e=t;switch(t.typeId){case c.Decimal:return t.bitWidth/32;case c.Timestamp:return 2;case c.Date:case c.Interval:return 1+e.unit;case c.FixedSizeList:return e.listSize;case c.FixedSizeBinary:return e.byteWidth;default:return 1}}Ot=Symbol.toStringTag,te[Ot]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(te.prototype);class ie{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map((t,e)=>this.visit(t,...i.map(t=>t[e])))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return ne(t,e,i);if("string"===typeof e&&e in c)return ne(t,c[e],i);if(e&&e instanceof Dt)return ne(t,re(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof Dt)return ne(t,re(e.type),i);return ne(t,c.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return ne(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function ne(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;switch(e){case c.Null:n=t.visitNull;break;case c.Bool:n=t.visitBool;break;case c.Int:n=t.visitInt;break;case c.Int8:n=t.visitInt8||t.visitInt;break;case c.Int16:n=t.visitInt16||t.visitInt;break;case c.Int32:n=t.visitInt32||t.visitInt;break;case c.Int64:n=t.visitInt64||t.visitInt;break;case c.Uint8:n=t.visitUint8||t.visitInt;break;case c.Uint16:n=t.visitUint16||t.visitInt;break;case c.Uint32:n=t.visitUint32||t.visitInt;break;case c.Uint64:n=t.visitUint64||t.visitInt;break;case c.Float:n=t.visitFloat;break;case c.Float16:n=t.visitFloat16||t.visitFloat;break;case c.Float32:n=t.visitFloat32||t.visitFloat;break;case c.Float64:n=t.visitFloat64||t.visitFloat;break;case c.Utf8:n=t.visitUtf8;break;case c.Binary:n=t.visitBinary;break;case c.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case c.Date:n=t.visitDate;break;case c.DateDay:n=t.visitDateDay||t.visitDate;break;case c.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case c.Timestamp:n=t.visitTimestamp;break;case c.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case c.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case c.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case c.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case c.Time:n=t.visitTime;break;case c.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case c.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case c.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case c.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case c.Decimal:n=t.visitDecimal;break;case c.List:n=t.visitList;break;case c.Struct:n=t.visitStruct;break;case c.Union:n=t.visitUnion;break;case c.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case c.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case c.Dictionary:n=t.visitDictionary;break;case c.Interval:n=t.visitInterval;break;case c.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case c.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case c.FixedSizeList:n=t.visitFixedSizeList;break;case c.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error("Unrecognized type '".concat(c[e],"'"))}function re(t){switch(t.typeId){case c.Null:return c.Null;case c.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?c.Int8:c.Uint8;case 16:return i?c.Int16:c.Uint16;case 32:return i?c.Int32:c.Uint32;case 64:return i?c.Int64:c.Uint64}return c.Int}case c.Float:switch(t.precision){case s.HALF:return c.Float16;case s.SINGLE:return c.Float32;case s.DOUBLE:return c.Float64}return c.Float;case c.Binary:return c.Binary;case c.Utf8:return c.Utf8;case c.Bool:return c.Bool;case c.Decimal:return c.Decimal;case c.Time:switch(t.unit){case l.SECOND:return c.TimeSecond;case l.MILLISECOND:return c.TimeMillisecond;case l.MICROSECOND:return c.TimeMicrosecond;case l.NANOSECOND:return c.TimeNanosecond}return c.Time;case c.Timestamp:switch(t.unit){case l.SECOND:return c.TimestampSecond;case l.MILLISECOND:return c.TimestampMillisecond;case l.MICROSECOND:return c.TimestampMicrosecond;case l.NANOSECOND:return c.TimestampNanosecond}return c.Timestamp;case c.Date:switch(t.unit){case o.DAY:return c.DateDay;case o.MILLISECOND:return c.DateMillisecond}return c.Date;case c.Interval:switch(t.unit){case a.DAY_TIME:return c.IntervalDayTime;case a.YEAR_MONTH:return c.IntervalYearMonth}return c.Interval;case c.Map:return c.Map;case c.List:return c.List;case c.Struct:return c.Struct;case c.Union:switch(t.mode){case r.Dense:return c.DenseUnion;case r.Sparse:return c.SparseUnion}return c.Union;case c.FixedSizeBinary:return c.FixedSizeBinary;case c.FixedSizeList:return c.FixedSizeList;case c.Dictionary:return c.Dictionary}throw new Error("Unrecognized type '".concat(c[t.typeId],"'"))}ie.prototype.visitInt8=null,ie.prototype.visitInt16=null,ie.prototype.visitInt32=null,ie.prototype.visitInt64=null,ie.prototype.visitUint8=null,ie.prototype.visitUint16=null,ie.prototype.visitUint32=null,ie.prototype.visitUint64=null,ie.prototype.visitFloat16=null,ie.prototype.visitFloat32=null,ie.prototype.visitFloat64=null,ie.prototype.visitDateDay=null,ie.prototype.visitDateMillisecond=null,ie.prototype.visitTimestampSecond=null,ie.prototype.visitTimestampMillisecond=null,ie.prototype.visitTimestampMicrosecond=null,ie.prototype.visitTimestampNanosecond=null,ie.prototype.visitTimeSecond=null,ie.prototype.visitTimeMillisecond=null,ie.prototype.visitTimeMicrosecond=null,ie.prototype.visitTimeNanosecond=null,ie.prototype.visitDenseUnion=null,ie.prototype.visitSparseUnion=null,ie.prototype.visitIntervalDayTime=null,ie.prototype.visitIntervalYearMonth=null;const se=new Float64Array(1),oe=new Uint32Array(se.buffer);function le(t){const e=(31744&t)>>10,i=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}class ae extends ie{}function ue(t){return(e,i,n)=>{if(e.setValid(i,null!=n))return t(e,i,n)}}const ce=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},he=(t,e,i,n)=>{const{[i]:r,[i+1]:s}=e;null!=r&&null!=s&&t.set(n.subarray(0,s-r),r)},de=(t,e,i)=>{let{values:n}=t;n[e]=i},fe=(t,e,i)=>{let{values:n}=t;n[e]=i},pe=(t,e,i)=>{let{values:n}=t;n[e]=function(t){if(t!==t)return 32256;se[0]=t;const e=(2147483648&oe[1])>>16&65535;let i=2146435072&oe[1],n=0;return i>=1089470464?oe[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&oe[1])>>10):i<=1056964608?(n=1048576+(1048575&oe[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&oe[1])>>10),e|i|65535&n}(i)},me=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(n,e,i.valueOf())},be=(t,e,i)=>{let{values:n}=t;ce(n,2*e,i.valueOf())},ye=(t,e,i)=>{let{values:n}=t;return ce(n,2*e,i/1e3)},ve=(t,e,i)=>{let{values:n}=t;return ce(n,2*e,i)},ge=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(n,2*e,i)},we=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(n,2*e,i)},_e=(t,e,i)=>{let{values:n}=t;n[e]=i},Se=(t,e,i)=>{let{values:n}=t;n[e]=i},xe=(t,e,i)=>{let{values:n}=t;n[e]=i},Te=(t,e,i)=>{let{values:n}=t;n[e]=i},Ee=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Ie.visit(r,t.valueOffsets[e],i)},Me=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Ie.visit(r,e,i)},Ce=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},ke=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};ae.prototype.visitBool=ue((t,e,i)=>{let{offset:n,values:r}=t;const s=n+e;i?r[s>>3]|=1<<s%8:r[s>>3]&=~(1<<s%8)}),ae.prototype.visitInt=ue(de),ae.prototype.visitInt8=ue(de),ae.prototype.visitInt16=ue(de),ae.prototype.visitInt32=ue(de),ae.prototype.visitInt64=ue(de),ae.prototype.visitUint8=ue(de),ae.prototype.visitUint16=ue(de),ae.prototype.visitUint32=ue(de),ae.prototype.visitUint64=ue(de),ae.prototype.visitFloat=ue((t,e,i)=>{switch(t.type.precision){case s.HALF:return pe(t,e,i);case s.SINGLE:case s.DOUBLE:default:return fe(t,e,i)}}),ae.prototype.visitFloat16=ue(pe),ae.prototype.visitFloat32=ue(fe),ae.prototype.visitFloat64=ue(fe),ae.prototype.visitUtf8=ue((t,e,i)=>{let{values:n,valueOffsets:r}=t;he(n,r,e,M(i))}),ae.prototype.visitBinary=ue((t,e,i)=>{let{values:n,valueOffsets:r}=t;return he(n,r,e,i)}),ae.prototype.visitFixedSizeBinary=ue((t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)}),ae.prototype.visitDate=ue((t,e,i)=>{t.type.unit===o.DAY?me(t,e,i):be(t,e,i)}),ae.prototype.visitDateDay=ue(me),ae.prototype.visitDateMillisecond=ue(be),ae.prototype.visitTimestamp=ue((t,e,i)=>{switch(t.type.unit){case l.SECOND:return ye(t,e,i);case l.MILLISECOND:return ve(t,e,i);case l.MICROSECOND:return ge(t,e,i);case l.NANOSECOND:return we(t,e,i)}}),ae.prototype.visitTimestampSecond=ue(ye),ae.prototype.visitTimestampMillisecond=ue(ve),ae.prototype.visitTimestampMicrosecond=ue(ge),ae.prototype.visitTimestampNanosecond=ue(we),ae.prototype.visitTime=ue((t,e,i)=>{switch(t.type.unit){case l.SECOND:return _e(t,e,i);case l.MILLISECOND:return Se(t,e,i);case l.MICROSECOND:return xe(t,e,i);case l.NANOSECOND:return Te(t,e,i)}}),ae.prototype.visitTimeSecond=ue(_e),ae.prototype.visitTimeMillisecond=ue(Se),ae.prototype.visitTimeMicrosecond=ue(xe),ae.prototype.visitTimeNanosecond=ue(Te),ae.prototype.visitDecimal=ue((t,e,i)=>{let{values:n,stride:r}=t;n.set(i.subarray(0,r),r*e)}),ae.prototype.visitList=ue((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,s=Ie.getVisitFn(n);if(Array.isArray(i))for(let o=-1,l=r[e],a=r[e+1];l<a;)s(n,l++,i[++o]);else for(let o=-1,l=r[e],a=r[e+1];l<a;)s(n,l++,i.get(++o))}),ae.prototype.visitStruct=ue((t,e,i)=>{const n=t.type.children.map(t=>Ie.getVisitFn(t.type)),r=i instanceof Map?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(r.name)))(e,i):i instanceof Ki?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(s)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r,s)=>n&&i(n,t,e[s]))(e,i):((t,e)=>(i,n,r,s)=>n&&i(n,t,e[r.name]))(e,i);t.type.children.forEach((e,i)=>r(n[i],t.children[i],e,i))}),ae.prototype.visitUnion=ue((t,e,i)=>{t.type.mode===r.Dense?Ee(t,e,i):Me(t,e,i)}),ae.prototype.visitDenseUnion=ue(Ee),ae.prototype.visitSparseUnion=ue(Me),ae.prototype.visitDictionary=ue((t,e,i)=>{var n;null===(n=t.dictionary)||void 0===n||n.set(t.values[e],i)}),ae.prototype.visitInterval=ue((t,e,i)=>{t.type.unit===a.DAY_TIME?Ce(t,e,i):ke(t,e,i)}),ae.prototype.visitIntervalDayTime=ue(Ce),ae.prototype.visitIntervalYearMonth=ue(ke),ae.prototype.visitFixedSizeList=ue((t,e,i)=>{const{stride:n}=t,r=t.children[0],s=Ie.getVisitFn(r);if(Array.isArray(i))for(let o=-1,l=e*n;++o<n;)s(r,l+o,i[o]);else for(let o=-1,l=e*n;++o<n;)s(r,l+o,i.get(o))}),ae.prototype.visitMap=ue((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,s=Ie.getVisitFn(n);let{[e]:o,[e+1]:l}=r;const a=i instanceof Map?i.entries():Object.entries(i);for(const u of a)if(s(n,o,u),++o>=l)break});const Ie=new ae,Ne=Symbol.for("parent"),Oe=Symbol.for("rowIndex");class ze{constructor(t,e){return this[Ne]=t,this[Oe]=e,new Proxy(this,new Le)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Oe],e=this[Ne],i=e.type.children,n={};for(let r=-1,s=i.length;++r<s;)n[i[r].name]=ii.visit(e.children[r],t);return n}toString(){return"{".concat([...this].map(t=>{let[e,i]=t;return"".concat(S(e),": ").concat(S(i))}).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new De(this[Ne],this[Oe])}}class De{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ii.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(ze.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ne]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Oe]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Le{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ne].type.children.map(t=>t.name)}has(t,e){return-1!==t[Ne].type.children.findIndex(t=>t.name===e)}getOwnPropertyDescriptor(t,e){if(-1!==t[Ne].type.children.findIndex(t=>t.name===e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Ne].type.children.findIndex(t=>t.name===e);if(-1!==i){const n=ii.visit(t[Ne].children[i],t[Oe]);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Ne].type.children.findIndex(t=>t.name===e);return-1!==n?(Ie.visit(t[Ne].children[n],t[Oe],i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}class Ae extends ie{}function Be(t){return(e,i)=>e.getValid(i)?t(e,i):null}const Pe=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),Re=t=>new Date(t),Fe=(t,e,i)=>{const{[i]:n,[i+1]:r}=e;return null!=n&&null!=r?t.subarray(n,r):null},Ve=(t,e)=>{let{values:i}=t;return((t,e)=>Re(((t,e)=>864e5*t[e])(t,e)))(i,e)},Ue=(t,e)=>{let{values:i}=t;return((t,e)=>Re(Pe(t,e)))(i,2*e)},je=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},We=(t,e)=>{let{values:i}=t;return i[e]},$e=(t,e)=>{let{values:i}=t;return 1e3*Pe(i,2*e)},He=(t,e)=>{let{values:i}=t;return Pe(i,2*e)},Ke=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},Xe=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},Ye=(t,e)=>{let{values:i}=t;return i[e]},qe=(t,e)=>{let{values:i}=t;return i[e]},Qe=(t,e)=>{let{values:i}=t;return i[e]},Je=(t,e)=>{let{values:i}=t;return i[e]},Ge=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ii.visit(n,t.valueOffsets[e])},Ze=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ii.visit(n,e)},ti=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},ei=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};Ae.prototype.visitNull=Be((t,e)=>null),Ae.prototype.visitBool=Be((t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)}),Ae.prototype.visitInt=Be((t,e)=>{let{values:i}=t;return i[e]}),Ae.prototype.visitInt8=Be(je),Ae.prototype.visitInt16=Be(je),Ae.prototype.visitInt32=Be(je),Ae.prototype.visitInt64=Be(We),Ae.prototype.visitUint8=Be(je),Ae.prototype.visitUint16=Be(je),Ae.prototype.visitUint32=Be(je),Ae.prototype.visitUint64=Be(We),Ae.prototype.visitFloat=Be((t,e)=>{let{type:i,values:n}=t;return i.precision!==s.HALF?n[e]:le(n[e])}),Ae.prototype.visitFloat16=Be((t,e)=>{let{stride:i,values:n}=t;return le(n[i*e])}),Ae.prototype.visitFloat32=Be(je),Ae.prototype.visitFloat64=Be(je),Ae.prototype.visitUtf8=Be((t,e)=>{let{values:i,valueOffsets:n}=t;const r=Fe(i,n,e);return null!==r?T(r):null}),Ae.prototype.visitBinary=Be((t,e)=>{let{values:i,valueOffsets:n}=t;return Fe(i,n,e)}),Ae.prototype.visitFixedSizeBinary=Be((t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))}),Ae.prototype.visitDate=Be((t,e)=>t.type.unit===o.DAY?Ve(t,e):Ue(t,e)),Ae.prototype.visitDateDay=Be(Ve),Ae.prototype.visitDateMillisecond=Be(Ue),Ae.prototype.visitTimestamp=Be((t,e)=>{switch(t.type.unit){case l.SECOND:return $e(t,e);case l.MILLISECOND:return He(t,e);case l.MICROSECOND:return Ke(t,e);case l.NANOSECOND:return Xe(t,e)}}),Ae.prototype.visitTimestampSecond=Be($e),Ae.prototype.visitTimestampMillisecond=Be(He),Ae.prototype.visitTimestampMicrosecond=Be(Ke),Ae.prototype.visitTimestampNanosecond=Be(Xe),Ae.prototype.visitTime=Be((t,e)=>{switch(t.type.unit){case l.SECOND:return Ye(t,e);case l.MILLISECOND:return qe(t,e);case l.MICROSECOND:return Qe(t,e);case l.NANOSECOND:return Je(t,e)}}),Ae.prototype.visitTimeSecond=Be(Ye),Ae.prototype.visitTimeMillisecond=Be(qe),Ae.prototype.visitTimeMicrosecond=Be(Qe),Ae.prototype.visitTimeNanosecond=Be(Je),Ae.prototype.visitDecimal=Be((t,e)=>{let{values:i,stride:n}=t;return dt.decimal(i.subarray(n*e,n*(e+1)))}),Ae.prototype.visitList=Be((t,e)=>{const{valueOffsets:i,stride:n}=t,{[e*n]:r}=i,{[e*n+1]:s}=i,o=t.children[0].slice(r,s-r);return new Ki([o])}),Ae.prototype.visitStruct=Be((t,e)=>new ze(t,e)),Ae.prototype.visitUnion=Be((t,e)=>t.type.mode===r.Dense?Ge(t,e):Ze(t,e)),Ae.prototype.visitDenseUnion=Be(Ge),Ae.prototype.visitSparseUnion=Be(Ze),Ae.prototype.visitDictionary=Be((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])}),Ae.prototype.visitInterval=Be((t,e)=>t.type.unit===a.DAY_TIME?ti(t,e):ei(t,e)),Ae.prototype.visitIntervalDayTime=Be(ti),Ae.prototype.visitIntervalYearMonth=Be(ei),Ae.prototype.visitFixedSizeList=Be((t,e)=>{const{stride:i}=t,n=t.children[0].slice(e*i,i);return new Ki([n])}),Ae.prototype.visitMap=Be((t,e)=>{const{valueOffsets:i}=t,{[e]:n}=i,{[e+1]:r}=i,s=t.children[0];return new si(s.slice(n,r-n))});const ii=new Ae,ni=Symbol.for("keys"),ri=Symbol.for("vals");class si{constructor(t){return this[ni]=new Ki([t.children[0]]).memoize(),this[ri]=t.children[1],new Proxy(this,new li)}[Symbol.iterator](){return new oi(this[ni],this[ri])}get size(){return this[ni].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ni],e=this[ri],i={};for(let n=-1,r=t.length;++n<r;)i[t.get(n)]=ii.visit(e,n);return i}toString(){return"{".concat([...this].map(t=>{let[e,i]=t;return"".concat(S(e),": ").concat(S(i))}).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class oi{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ii.visit(this.vals,t)]})}}class li{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ni].toArray().map(String)}has(t,e){return t[ni].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[ni].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[ni].indexOf(e);if(-1!==i){const n=ii.visit(Reflect.get(t,ri),i);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[ni].indexOf(e);return-1!==n?(Ie.visit(Reflect.get(t,ri),n,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let ai;function ui(t,e,i,n){const{length:r=0}=t;let s="number"!==typeof e?0:e,o="number"!==typeof i?r:i;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(ai=s,s=o,o=ai),o>r&&(o=r),n?n(t,s,o):[s,o]}Object.defineProperties(si.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ni]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ri]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const ci=t=>t!==t;function hi(t){if("object"!==typeof t||null===t)return ci(t)?ci:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const n of t.values())i[++e]=hi(n);return di(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=hi(t[i]);return di(e)}(t):t instanceof Ki?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=hi(t.get(i));return di(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const n=[];for(let r=-1,s=i.length;++r<s;)n[r]=hi(t[i[r]]);return di(n,i)}(t,!0)}function di(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:return fi(t,i,i.keys());case si:case ze:case Object:case void 0:return fi(t,i,e||Object.keys(i))}return i instanceof Ki&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function fi(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const l=t.length;let a=s.next(),u=n.next(),c=r.next();for(;o<l&&!u.done&&!c.done&&!a.done&&(u.value===c.value&&t[o](a.value));++o,u=n.next(),c=r.next(),a=s.next());return!!(o===l&&u.done&&c.done&&a.done)||(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}class pi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function mi(t){return t.reduce((t,e)=>t+e.nullCount,0)}function bi(t){return t.reduce((t,e,i)=>(t[i+1]=t[i]+e.length,t),new Uint32Array(t.length+1))}function yi(t,e,i,n){const r=[];for(let s=-1,o=t.length;++s<o;){const o=t[s],l=e[s],{length:a}=o;if(l>=n)break;if(i>=l+a)continue;if(l>=i&&l+a<=n){r.push(o);continue}const u=Math.max(0,i-l),c=Math.min(n-l,a);r.push(o.slice(u,c-u))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function vi(t,e,i,n){let r=0,s=0,o=e.length-1;do{if(r>=o-1)return i<e[o]?n(t,r,i-e[r]):null;s=r+Math.trunc(.5*(o-r)),i<e[s]?o=s:r=s}while(r<o)}function gi(t,e){return t.getValid(e)}function wi(t){function e(e,i,n){return t(e[i],n)}return function(t){return vi(this.data,this._offsets,t,e)}}function _i(t){let e;function i(i,n,r){return t(i[n],r,e)}return function(t,n){const r=this.data;e=n;const s=vi(r,this._offsets,t,i);return e=void 0,s}}function Si(t){let e;function i(i,n,r){let s=r,o=0,l=0;for(let a=n-1,u=i.length;++a<u;){const n=i[a];if(~(o=t(n,e,s)))return l+o;s=0,l+=n.length}return-1}return function(t,n){e=t;const r=this.data,s="number"!==typeof n?i(r,0,0):vi(r,this._offsets,n,i);return e=void 0,s}}function xi(t,e,i,n){return 0!==(i&1<<n)}function Ti(t,e,i,n){return(i&1<<n)>>n}function Ei(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):Mi(new Ci(i,t,e,null,xi)).subarray(0,n)),r}return i}function Mi(t){const e=[];let i=0,n=0,r=0;for(const o of t)o&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class Ci{constructor(t,e,i,n,r){this.bytes=t,this.length=i,this.context=n,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function ki(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of new Ci(t,e,i-e,t,Ti))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return ki(t,e,r)+ki(t,n,i)+function(t,e,i){let n=0,r=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:r+i;for(;o-r>=4;)n+=Ii(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=Ii(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=Ii(s.getUint8(r)),r+=1;return n}(t,r>>3,n-r>>3)}function Ii(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Ni extends ie{}function Oi(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of new Ci(i,t.offset+(e||0),t.length,i,xi)){if(!r)return n;++n}return-1}(t,i);const n=ii.getVisitFn(t),r=hi(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}function zi(t,e,i){const n=ii.getVisitFn(t),r=hi(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}Ni.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Ni.prototype.visitBool=Oi,Ni.prototype.visitInt=Oi,Ni.prototype.visitInt8=Oi,Ni.prototype.visitInt16=Oi,Ni.prototype.visitInt32=Oi,Ni.prototype.visitInt64=Oi,Ni.prototype.visitUint8=Oi,Ni.prototype.visitUint16=Oi,Ni.prototype.visitUint32=Oi,Ni.prototype.visitUint64=Oi,Ni.prototype.visitFloat=Oi,Ni.prototype.visitFloat16=Oi,Ni.prototype.visitFloat32=Oi,Ni.prototype.visitFloat64=Oi,Ni.prototype.visitUtf8=Oi,Ni.prototype.visitBinary=Oi,Ni.prototype.visitFixedSizeBinary=Oi,Ni.prototype.visitDate=Oi,Ni.prototype.visitDateDay=Oi,Ni.prototype.visitDateMillisecond=Oi,Ni.prototype.visitTimestamp=Oi,Ni.prototype.visitTimestampSecond=Oi,Ni.prototype.visitTimestampMillisecond=Oi,Ni.prototype.visitTimestampMicrosecond=Oi,Ni.prototype.visitTimestampNanosecond=Oi,Ni.prototype.visitTime=Oi,Ni.prototype.visitTimeSecond=Oi,Ni.prototype.visitTimeMillisecond=Oi,Ni.prototype.visitTimeMicrosecond=Oi,Ni.prototype.visitTimeNanosecond=Oi,Ni.prototype.visitDecimal=Oi,Ni.prototype.visitList=Oi,Ni.prototype.visitStruct=Oi,Ni.prototype.visitUnion=Oi,Ni.prototype.visitDenseUnion=zi,Ni.prototype.visitSparseUnion=zi,Ni.prototype.visitDictionary=Oi,Ni.prototype.visitInterval=Oi,Ni.prototype.visitIntervalDayTime=Oi,Ni.prototype.visitIntervalYearMonth=Oi,Ni.prototype.visitFixedSizeList=Oi,Ni.prototype.visitMap=Oi;const Di=new Ni;class Li extends ie{}function Ai(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===c.Timestamp||e instanceof At&&64!==e.bitWidth||e instanceof Wt&&64!==e.bitWidth||e instanceof Pt&&e.precision!==s.HALF))return new pi(t.data.length,e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()});let i=0;return new pi(t.data.length,e=>{const n=t.data[e].length,r=t.slice(i,i+n);return i+=n,new Bi(r)})}class Bi{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Li.prototype.visitNull=Ai,Li.prototype.visitBool=Ai,Li.prototype.visitInt=Ai,Li.prototype.visitInt8=Ai,Li.prototype.visitInt16=Ai,Li.prototype.visitInt32=Ai,Li.prototype.visitInt64=Ai,Li.prototype.visitUint8=Ai,Li.prototype.visitUint16=Ai,Li.prototype.visitUint32=Ai,Li.prototype.visitUint64=Ai,Li.prototype.visitFloat=Ai,Li.prototype.visitFloat16=Ai,Li.prototype.visitFloat32=Ai,Li.prototype.visitFloat64=Ai,Li.prototype.visitUtf8=Ai,Li.prototype.visitBinary=Ai,Li.prototype.visitFixedSizeBinary=Ai,Li.prototype.visitDate=Ai,Li.prototype.visitDateDay=Ai,Li.prototype.visitDateMillisecond=Ai,Li.prototype.visitTimestamp=Ai,Li.prototype.visitTimestampSecond=Ai,Li.prototype.visitTimestampMillisecond=Ai,Li.prototype.visitTimestampMicrosecond=Ai,Li.prototype.visitTimestampNanosecond=Ai,Li.prototype.visitTime=Ai,Li.prototype.visitTimeSecond=Ai,Li.prototype.visitTimeMillisecond=Ai,Li.prototype.visitTimeMicrosecond=Ai,Li.prototype.visitTimeNanosecond=Ai,Li.prototype.visitDecimal=Ai,Li.prototype.visitList=Ai,Li.prototype.visitStruct=Ai,Li.prototype.visitUnion=Ai,Li.prototype.visitDenseUnion=Ai,Li.prototype.visitSparseUnion=Ai,Li.prototype.visitDictionary=Ai,Li.prototype.visitInterval=Ai,Li.prototype.visitIntervalDayTime=Ai,Li.prototype.visitIntervalYearMonth=Ai,Li.prototype.visitFixedSizeList=Ai,Li.prototype.visitMap=Ai;const Pi=new Li,Ri=(t,e)=>t+e;class Fi extends ie{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return 16}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===l.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return this.visitMany(t.children,t.children.map(()=>e)).reduce(Ri,0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return this.visitMany(t.children,t.children.map(()=>e)).reduce(Ri,0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Vi=(t,e)=>{let{type:i,children:n,typeIds:r,valueOffsets:s}=t;const o=i.typeIdToChildIndex[r[e]];return 8+ji.visit(n[o],s[e])},Ui=(t,e)=>{let{children:i}=t;return 4+ji.visitMany(i,i.map(()=>e)).reduce(Ri,0)};Fi.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Fi.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Fi.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:n,children:r}=t;const s=r[0],{[e*n]:o}=i,{[e*n+1]:l}=i,a=ji.getVisitFn(s.type),u=s.slice(o,l-o);let c=8;for(let h=-1,d=l-o;++h<d;)c+=a(u,h);return c},Fi.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:n}=t;const r=n[0],s=r.slice(e*i,i),o=ji.getVisitFn(r.type);let l=0;for(let a=-1,u=s.length;++a<u;)l+=o(s,a);return l},Fi.prototype.visitUnion=(t,e)=>t.type.mode===r.Dense?Vi(t,e):Ui(t,e),Fi.prototype.visitDenseUnion=Vi,Fi.prototype.visitSparseUnion=Ui;const ji=new Fi;var Wi;const $i={},Hi={};class Ki{constructor(t){var e,i,n;const r=t[0]instanceof Ki?t.flatMap(t=>t.data):t;if(r.some(t=>!(t instanceof Yi)))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:n}=$i[s.typeId],o=r[0];this.isValid=t=>gi(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>n(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,Hi[s.typeId]),this._offsets=bi(r)}this.data=r,this.type=s,this.stride=ee(s),this.numChildren=null!==(n=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==n?n:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=mi(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}get VectorName(){return"".concat(c[this.type.typeId],"Vector")}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Pi.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Ki(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Ki(ui(this,t,e,(t,e,i)=>{let{data:n,_offsets:r}=t;return yi(n,r,e,i)}))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:n,ArrayType:r}=this;switch(t.typeId){case c.Int:case c.Float:case c.Decimal:case c.Time:case c.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,i*n);default:return e.reduce((t,e)=>{let{values:i}=e;return t.array.set(i,t.offset),t.offset+=i.length,t},{array:new r(i*n),offset:0}).array}}return[...this]}toString(){return"[".concat([...this].join(","),"]")}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex(e=>e.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Ki(this.data.map(e=>{let{children:i}=e;return i[t]})):null}get isMemoized(){return!!Dt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Dt.isDictionary(this.type)){const t=new Xi(this.data[0].dictionary),e=this.data.map(e=>{const i=e.clone();return i.dictionary=t,i});return new Ki(e)}return new Xi(this)}unmemoize(){if(Dt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(e=>{const i=e.clone();return i.dictionary=t,i});return new Ki(e)}return this}}Wi=Symbol.toStringTag,Ki[Wi]=(t=>{t.type=Dt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(c).map(t=>c[t]).filter(t=>"number"===typeof t&&t!==c.NONE);for(const i of e){const e=ii.getVisitFnByTypeId(i),n=Ie.getVisitFnByTypeId(i),r=Di.getVisitFnByTypeId(i),s=ji.getVisitFnByTypeId(i);$i[i]={get:e,set:n,indexOf:r,byteLength:s},Hi[i]=Object.create(t,{isValid:{value:wi(gi)},get:{value:wi(ii.getVisitFnByTypeId(i))},set:{value:_i(Ie.getVisitFnByTypeId(i))},indexOf:{value:Si(Di.getVisitFnByTypeId(i))},getByteLength:{value:wi(ji.getVisitFnByTypeId(i))}})}return"Vector"})(Ki.prototype);class Xi extends Ki{constructor(t){super(t.data);const e=this.get,i=this.set,n=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=r[t];if(void 0!==i)return i;const n=e.call(this,t);return r[t]=n,n}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Xi(n.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Ki(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Yi{constructor(t,e,i,n,r){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=o,this.dictionary=l,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),r instanceof Yi?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=ee(t),r&&((s=r[0])&&(this.valueOffsets=s),(s=r[1])&&(this.values=s),(s=r[2])&&(this.nullBitmap=s),(s=r[3])&&(this.typeIds=s))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.children.reduce((t,e)=>t+e.byteLength,t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-ki(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:i,offset:n}=this,r=n+t>>3,s=(n+t)%8,o=i[r]>>s&1;return e?0===o&&(i[r]|=1<<s,this._nullCount=this.nullCount+1):1===o&&(i[r]&=~(1<<s),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Yi(t,e,i,n,r,s,this.dictionary)}slice(t,e){const{stride:i,typeId:n,children:r}=this,s=+(0===this._nullCount)-1,o=16===n?i:1,l=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,s,l,0===r.length||this.valueOffsets?r:this._sliceChildren(r,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===c.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(Ei(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[h.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r;const{buffers:s}=this;return(r=s[h.TYPE])&&(s[h.TYPE]=r.subarray(t,t+e)),(r=s[h.OFFSET])&&(s[h.OFFSET]=r.subarray(t,t+e+1))||(r=s[h.DATA])&&(s[h.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map(t=>t.slice(e,i))}}Yi.prototype.children=Object.freeze([]);class qi extends ie{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:n=0}=t;return new Yi(e,i,n,0)}visitBool(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length>>3,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitInt(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitFloat(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitUtf8(t){const{type:e,offset:i=0}=t,n=G(t.data),r=G(t.nullBitmap),s=J(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,l,[s,n,r])}visitBinary(t){const{type:e,offset:i=0}=t,n=G(t.data),r=G(t.nullBitmap),s=J(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,l,[s,n,r])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitDate(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitTimestamp(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitTime(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitDecimal(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitList(t){const{type:e,offset:i=0,child:n}=t,r=G(t.nullBitmap),s=J(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,l,[s,void 0,r],[n])}visitStruct(t){const{type:e,offset:i=0,children:n=[]}=t,r=G(t.nullBitmap),{length:s=n.reduce((t,e)=>{let{length:i}=e;return Math.max(t,i)},0),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,void 0,r],n)}visitUnion(t){const{type:e,offset:i=0,children:n=[]}=t,r=G(t.nullBitmap),s=Q(e.ArrayType,t.typeIds),{length:o=s.length,nullCount:l=(t.nullBitmap?-1:0)}=t;if(Dt.isSparseUnion(e))return new Yi(e,i,o,l,[void 0,void 0,r,s],n);const a=J(t.valueOffsets);return new Yi(e,i,o,l,[a,void 0,r,s],n)}visitDictionary(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.indices.ArrayType,t.data),{dictionary:s=new Ki([(new qi).visit({type:e.dictionary})])}=t,{length:o=r.length,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,l,[void 0,r,n],[],s)}visitInterval(t){const{type:e,offset:i=0}=t,n=G(t.nullBitmap),r=Q(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,r,n])}visitFixedSizeList(t){const{type:e,offset:i=0,child:n=(new qi).visit({type:e.valueType})}=t,r=G(t.nullBitmap),{length:s=n.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,void 0,r],[n])}visitMap(t){const{type:e,offset:i=0,child:n=(new qi).visit({type:e.childType})}=t,r=G(t.nullBitmap),s=J(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,l,[s,void 0,r],[n])}}function Qi(t){return(new qi).visit(t)}class Ji{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=tn(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return"Schema<{ ".concat(this.fields.map((t,e)=>"".concat(e,": ").concat(t)).join(", ")," }>")}select(t){const e=new Set(t),i=this.fields.filter(t=>e.has(t.name));return new Ji(i,this.metadata)}selectAt(t){const e=t.map(t=>this.fields[t]).filter(Boolean);return new Ji(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof Ji?e[0]:Array.isArray(e[0])?new Ji(e[0]):new Ji(e),r=[...this.fields],s=Zi(Zi(new Map,this.metadata),n.metadata),o=n.fields.filter(t=>{const e=r.findIndex(e=>e.name===t.name);return!~e||(r[e]=t.clone({metadata:Zi(Zi(new Map,r[e].metadata),t.metadata)}))&&!1}),l=tn(o,new Map);return new Ji([...r,...o],s,new Map([...this.dictionaries,...l]))}}Ji.prototype.fields=null,Ji.prototype.metadata=null,Ji.prototype.dictionaries=null;class Gi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new Gi("".concat(n),r,s,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return"".concat(this.name,": ").concat(this.type)}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[n=this.name,r=this.type,s=this.nullable,o=this.metadata]=e,Gi.new(n,r,s,o)}}function Zi(t,e){return new Map([...t||new Map,...e||new Map])}function tn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(Dt.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&tn(n.children,e)}return e}Gi.prototype.type=null,Gi.prototype.name=null,Gi.prototype.nullable=null,Gi.prototype.metadata=null;class en extends ie{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((t,i)=>this.compareFields(t,e[i]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function nn(t,e){return e instanceof t.constructor}function rn(t,e){return t===e||nn(t,e)}function sn(t,e){return t===e||nn(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function on(t,e){return t===e||nn(t,e)&&t.precision===e.precision}function ln(t,e){return t===e||nn(t,e)&&t.unit===e.unit}function an(t,e){return t===e||nn(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function un(t,e){return t===e||nn(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function cn(t,e){return t===e||nn(t,e)&&t.mode===e.mode&&t.typeIds.every((t,i)=>t===e.typeIds[i])&&dn.compareManyFields(t.children,e.children)}function hn(t,e){return t===e||nn(t,e)&&t.unit===e.unit}en.prototype.visitNull=rn,en.prototype.visitBool=rn,en.prototype.visitInt=sn,en.prototype.visitInt8=sn,en.prototype.visitInt16=sn,en.prototype.visitInt32=sn,en.prototype.visitInt64=sn,en.prototype.visitUint8=sn,en.prototype.visitUint16=sn,en.prototype.visitUint32=sn,en.prototype.visitUint64=sn,en.prototype.visitFloat=on,en.prototype.visitFloat16=on,en.prototype.visitFloat32=on,en.prototype.visitFloat64=on,en.prototype.visitUtf8=rn,en.prototype.visitBinary=rn,en.prototype.visitFixedSizeBinary=function(t,e){return t===e||nn(t,e)&&t.byteWidth===e.byteWidth},en.prototype.visitDate=ln,en.prototype.visitDateDay=ln,en.prototype.visitDateMillisecond=ln,en.prototype.visitTimestamp=an,en.prototype.visitTimestampSecond=an,en.prototype.visitTimestampMillisecond=an,en.prototype.visitTimestampMicrosecond=an,en.prototype.visitTimestampNanosecond=an,en.prototype.visitTime=un,en.prototype.visitTimeSecond=un,en.prototype.visitTimeMillisecond=un,en.prototype.visitTimeMicrosecond=un,en.prototype.visitTimeNanosecond=un,en.prototype.visitDecimal=rn,en.prototype.visitList=function(t,e){return t===e||nn(t,e)&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitStruct=function(t,e){return t===e||nn(t,e)&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitUnion=cn,en.prototype.visitDenseUnion=cn,en.prototype.visitSparseUnion=cn,en.prototype.visitDictionary=function(t,e){return t===e||nn(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&dn.visit(t.indices,e.indices)&&dn.visit(t.dictionary,e.dictionary)},en.prototype.visitInterval=hn,en.prototype.visitIntervalDayTime=hn,en.prototype.visitIntervalYearMonth=hn,en.prototype.visitFixedSizeList=function(t,e){return t===e||nn(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitMap=function(t,e){return t===e||nn(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)};const dn=new en;function fn(t,e){return dn.compareSchemas(t,e)}var pn,mn;class bn{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Ji))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Qi({nullCount:0,type:new Xt(this.schema.fields),children:this.schema.fields.map(t=>Qi({type:t.type,nullCount:0}))})]=e,!(this.data instanceof Yi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=yn(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:n,length:r}=Object.keys(t).reduce((e,i,n)=>(e.children[n]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[n]=Gi.new({name:i,type:t[i].type,nullable:!0}),e),{length:0,fields:new Array,children:new Array}),s=new Ji(i),o=Qi({type:new Xt(i),length:r,children:n,nullCount:0});[this.schema,this.data]=yn(s,o.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=vn(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ii.visit(this.data,t)}set(t,e){return Ie.visit(this.data,t,e)}indexOf(t,e){return Di.visit(this.data,t,e)}getByteLength(t){return ji.visit(this.data,t)}[Symbol.iterator](){return Pi.visit(new Ki([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Sn(this.schema,[this,...e])}slice(t,e){const[i]=new Ki([this.data]).slice(t,e).data;return new bn(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex(e=>e.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Ki([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex(e=>e.name===t),e)}setChildAt(t,e){let i=this.schema,n=this.data;if(t>-1&&t<this.numCols){e||(e=new Ki([Qi({type:new Lt,length:this.numRows})]));const r=i.fields.slice(),s=n.children.slice(),o=r[t].clone({type:e.type});[r[t],s[t]]=[o,e.data[0]],i=new Ji(r,new Map(this.schema.metadata)),n=Qi({type:new Xt(r),children:s})}return new bn(i,n)}select(t){const e=this.schema.select(t),i=new Xt(e.fields),n=[];for(const r of t){const t=this.schema.fields.findIndex(t=>t.name===r);~t&&(n[t]=this.data.children[t])}return new bn(e,Qi({type:i,length:this.numRows,children:n}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map(t=>this.data.children[t]).filter(Boolean),n=Qi({type:new Xt(e.fields),length:this.numRows,children:i});return new bn(e,n)}}function yn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce((t,e)=>Math.max(t,e.length),0);var n;const r=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(const[l,a]of t.fields.entries()){const t=e[l];t&&t.length===i||(r[l]=a.clone({nullable:!0}),s[l]=null!==(n=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Qi({type:a.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(r),Qi({type:new Xt(r),length:i,children:s})]}function vn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let n=-1,r=t.length;++n<r;){const r=t[n].type,s=e[n];if(Dt.isDictionary(r))if(i.has(r.id)){if(i.get(r.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&i.set(r.id,s.dictionary);r.children&&r.children.length>0&&vn(r.children,s.children,i)}return i}pn=Symbol.toStringTag,bn[pn]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(bn.prototype);class gn extends bn{constructor(t){const e=t.fields.map(t=>Qi({type:t.type}));super(t,Qi({type:new Xt(t.fields),nullCount:0,children:e}))}}function wn(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce((t,e)=>Math.max(t,e.length),0)};let s=0,o=0,l=-1;const a=e.length;let u,c=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,l=-1;++l<a;)c[l]=u=e[l].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=_n(i,o,c,e,r),o>0&&(n[s++]=Qi({type:new Xt(i),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(i),n.map(e=>new bn(t,e))]}(t,e.map(t=>t.data.concat()))}function _n(t,e,i,n,r){var s;const o=(e+63&-64)>>3;for(let l=-1,a=n.length;++l<a;){const a=i[l],u=null===a||void 0===a?void 0:a.length;if(u>=e)u===e?i[l]=a:(i[l]=a.slice(0,e),r.numBatches=Math.max(r.numBatches,n[l].unshift(a.slice(e,u-e))));else{const n=t[l];t[l]=n.clone({nullable:!0}),i[l]=null!==(s=null===a||void 0===a?void 0:a._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:Qi({type:n.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}class Sn{constructor(){for(var t,e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(0===n.length)return this.batches=[],this.schema=new Ji([]),this._offsets=[0],this;let s,o;n[0]instanceof Ji&&(s=n.shift()),n[n.length-1]instanceof Uint32Array&&(o=n.pop());const l=t=>{if(t){if(t instanceof bn)return[t];if(t instanceof Sn)return t.batches;if(t instanceof Yi){if(t.type instanceof Xt)return[new bn(new Ji(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap(t=>l(t));if("function"===typeof t[Symbol.iterator])return[...t].flatMap(t=>l(t));if("object"===typeof t){const e=Object.keys(t),i=e.map(e=>new Ki([t[e]])),n=new Ji(e.map((t,e)=>new Gi(String(t),i[e].type))),[,r]=wn(n,i);return 0===r.length?[new bn(t)]:r}}}return[]},a=n.flatMap(t=>l(t));if(s=null!==(e=null!==s&&void 0!==s?s:null===(t=a[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Ji([]),!(s instanceof Ji))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof bn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!fn(s,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=a,this._offsets=null!==o&&void 0!==o?o:bi(this.data)}get data(){return this.batches.map(t=>{let{data:e}=t;return e})}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=mi(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return Pi.visit(new Ki(this.data))}toArray(){return[...this]}toString(){return"[\n  ".concat(this.toArray().join(",\n  "),"\n]")}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=this.data.concat(i.flatMap(t=>{let{data:e}=t;return e}));return new Sn(t,r.map(e=>new bn(t,e)))}slice(t,e){const i=this.schema;[t,e]=ui({length:this.numRows},t,e);const n=yi(this.data,this._offsets,t,e);return new Sn(i,n.map(t=>new bn(i,t)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(e=>e.children[t]);if(0===e.length){const{type:i}=this.schema.fields[t],n=Qi({type:i,length:0,nullCount:0});e.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Ki(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex(e=>e.name===t),e)}setChildAt(t,e){let i=this.schema,n=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Ki([Qi({type:new Lt,length:this.numRows})]));const r=i.fields.slice(),s=r[t].clone({type:e.type}),o=this.schema.fields.map((t,e)=>this.getChildAt(e));[r[t],o[t]]=[s,e],[i,n]=wn(i,o)}return new Sn(i,n)}select(t){const e=this.schema.fields.reduce((t,e,i)=>t.set(e.name,i),new Map);return this.selectAt(t.map(t=>e.get(t)).filter(t=>t>-1))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map(e=>e.selectAt(t));return new Sn(e,i)}assign(t){const e=this.schema.fields,[i,n]=t.schema.fields.reduce((t,i,n)=>{const[r,s]=t,o=e.findIndex(t=>t.name===i.name);return~o?s[o]=n:r.push(n),t},[[],[]]),r=this.schema.assign(t.schema),s=[...e.map((t,e)=>[e,n[e]]).map(e=>{let[i,n]=e;return void 0===n?this.getChildAt(i):t.getChildAt(n)}),...i.map(e=>t.getChildAt(e))].filter(Boolean);return new Sn(...wn(r,s))}}mn=Symbol.toStringTag,Sn[mn]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=wi(gi),t.get=wi(ii.getVisitFn(c.Struct)),t.set=_i(Ie.getVisitFn(c.Struct)),t.indexOf=Si(Di.getVisitFn(c.Struct)),t.getByteLength=wi(ji.getVisitFn(c.Struct)),"Table"))(Sn.prototype);class xn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}const Tn=new Int32Array(2),En=new Float32Array(Tn.buffer),Mn=new Float64Array(Tn.buffer),Cn=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class kn{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?kn.ZERO:new kn(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var In,Nn,On,zn,Dn;kn.ZERO=new kn(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(In||(In={}));class Ln{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Ln(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new kn(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new kn(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Tn[0]=this.readInt32(t),En[0]}readFloat64(t){return Tn[Cn?0:1]=this.readInt32(t),Tn[Cn?1:0]=this.readInt32(t+4),Mn[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){En[0]=e,this.writeInt32(t,Tn[0])}writeFloat64(t,e){Mn[0]=e,this.writeInt32(t,Tn[Cn?0:1]),this.writeInt32(t+4,Tn[Cn?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const i=this.readInt32(t);let n="",r=0;if(t+=4,e===In.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){let e;const i=this.readUint8(t+r++);if(i<192)e=i;else{const n=this.readUint8(t+r++);if(i<224)e=(31&i)<<6|63&n;else{const s=this.readUint8(t+r++);if(i<240)e=(15&i)<<12|(63&n)<<6|63&s;else{e=(7&i)<<18|(63&n)<<12|(63&s)<<6|63&this.readUint8(t+r++)}}}e<65536?n+=String.fromCharCode(e):(e-=65536,n+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return n}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return kn.create(t,e)}createScalarList(t,e){const i=[];for(let n=0;n<e;++n)null!==t(n)&&i.push(t(n));return i}createObjList(t,e){const i=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&i.push(e.unpack())}return i}}class An{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=Ln.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const i=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<i+t+e;){const t=this.bb.capacity();this.bb=An.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,n=Ln.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const n=2*(i+2);this.addInt16(n);let r=0;const s=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(t)){for(let e=2;e<n;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const n=i?4:0;if(e){const t=e;if(this.prep(this.minalign,8+n),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+n),this.addOffset(t),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let i=0;for(;i<t.length;){let n;const r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else{n=(r<<10)+t.charCodeAt(i++)+-56613888}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let i=0,n=this.space,r=this.bb.bytes();i<e.length;i++)r[n++]=e[i];return this.endVector()}createLong(t,e){return kn.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(null===n)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(n))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Bn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Bn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Bn).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return Bn.startKeyValue(t),Bn.addKey(t,e),Bn.addValue(t,i),Bn.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Nn||(Nn={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(On||(On={})),function(t){t[t.DenseArray=0]="DenseArray"}(zn||(zn={}));class Pn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return Pn.startInt(t),Pn.addBitWidth(t,e),Pn.addIsSigned(t,i),Pn.endInt(t)}}class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Pn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):zn.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,zn.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(Dn||(Dn={}));class Fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Dn.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Rn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const i=this.bb.__offset(this.bb_pos,14);return i?(e||new Fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new Bn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Dn.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Vn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):On.Little}fields(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Bn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,On.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,n,r){return Vn.startSchema(t),Vn.addEndianness(t,e),Vn.addFields(t,i),Vn.addCustomMetadata(t,n),Vn.addFeatures(t,r),Vn.endSchema(t)}}class Un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Nn.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Vn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new xn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const i=this.bb.__offset(this.bb_pos,10);return i?(e||new xn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Bn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Nn.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var jn=kn,Wn=An,$n=Ln;class Hn{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=t,this.version=e,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}static decode(t){t=new $n(G(t));const e=Un.getRootAsFooter(t),i=Ji.decode(e.schema());return new Kn(i,e)}static encode(t){const e=new Wn,i=Ji.encode(e,t.schema);Un.startRecordBatchesVector(e,t.numRecordBatches);for(const n of[...t.recordBatches()].slice().reverse())Xn.encode(e,n);const r=e.endVector();Un.startDictionariesVector(e,t.numDictionaries);for(const n of[...t.dictionaryBatches()].slice().reverse())Xn.encode(e,n);const s=e.endVector();return Un.startFooter(e),Un.addSchema(e,i),Un.addVersion(e,n.V4),Un.addRecordBatches(e,r),Un.addDictionaries(e,s),Un.finishFooterBuffer(e,Un.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Kn extends Hn{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Xn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Xn.decode(e)}return null}}class Xn{constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Xn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new jn(e.offset,0),r=new jn(e.bodyLength,0);return xn.createBlock(t,n,i,r)}}const Yn={fromIterable:t=>qn(function*(t){let e,i,n,r,s=!1,o=[],l=0;function a(){return"peek"===n?q(o,r)[0]:([i,o,l]=q(o,r),i)}({cmd:n,size:r}=yield null);const u=(c=t,tt(Uint8Array,c))[Symbol.iterator]();var c;try{do{if(({done:e,value:i}=Number.isNaN(r-l)?u.next():u.next(r-l)),!e&&i.byteLength>0&&(o.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield a())}while(r<l)}while(!e)}catch(v){(s=!0)&&"function"===typeof u.throw&&u.throw(v)}finally{!1===s&&"function"===typeof u.return&&u.return(null)}return null}(t)),fromAsyncIterable:t=>qn(function(t){return g(this,arguments,function*(){let e,i,n,r,s=!1,o=[],l=0;function a(){return"peek"===n?q(o,r)[0]:([i,o,l]=q(o,r),i)}({cmd:n,size:r}=yield yield y(null));const u=(c=t,et(Uint8Array,c))[Symbol.asyncIterator]();var c;try{do{if(({done:e,value:i}=Number.isNaN(r-l)?yield y(u.next()):yield y(u.next(r-l))),!e&&i.byteLength>0&&(o.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield yield y(a()))}while(r<l)}while(!e)}catch(v){(s=!0)&&"function"===typeof u.throw&&(yield y(u.throw(v)))}finally{!1===s&&"function"===typeof u.return&&(yield y(u.return(new Uint8Array(0))))}return yield y(null)})}(t)),fromDOMStream:t=>qn(function(t){return g(this,arguments,function*(){let e,i,n,r=!1,s=!1,o=[],l=0;function a(){return"peek"===i?q(o,n)[0]:([e,o,l]=q(o,n),e)}({cmd:i,size:n}=yield yield y(null));const u=new Qn(t);try{do{if(({done:r,value:e}=Number.isNaN(n-l)?yield y(u.read()):yield y(u.read(n-l))),!r&&e.byteLength>0&&(o.push(G(e)),l+=e.byteLength),r||n<=l)do{({cmd:i,size:n}=yield yield y(a()))}while(n<l)}while(!r)}catch(v){(s=!0)&&(yield y(u.cancel(v)))}finally{!1===s?yield y(u.cancel()):t.locked&&u.releaseLock()}return yield y(null)})}(t)),fromNodeStream:t=>qn(function(t){return g(this,arguments,function*(){const e=[];let i,n,r,s="error",o=!1,l=null,a=0,u=[];function c(){return"peek"===i?q(u,n)[0]:([r,u,a]=q(u,n),r)}if(({cmd:i,size:n}=yield yield y(null)),t.isTTY)return yield yield y(new Uint8Array(0)),yield y(null);try{e[0]=Jn(t,"end"),e[1]=Jn(t,"error");do{if(e[2]=Jn(t,"readable"),[s,l]=yield y(Promise.race(e.map(t=>t[2]))),"error"===s)break;if((o="end"===s)||(Number.isFinite(n-a)?(r=G(t.read(n-a)),r.byteLength<n-a&&(r=G(t.read()))):r=G(t.read()),r.byteLength>0&&(u.push(r),a+=r.byteLength)),o||n<=a)do{({cmd:i,size:n}=yield yield y(c()))}while(n<a)}while(!o)}finally{yield y(h(e,"error"===s?l:null))}return yield y(null);function h(e,i){return r=u=null,new Promise((n,r)=>{for(const[i,s]of e)t.off(i,s);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(v){i=v||i}finally{null!=i?r(i):n()}})}})}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},qn=t=>(t.next(),t);class Qn{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return m(this,void 0,void 0,function*(){const{reader:e,source:i}=this;e&&(yield e.cancel(t).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(t){return m(this,void 0,void 0,function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=G(e)),e})}}const Jn=(t,e)=>{const i=t=>n([e,t]);let n;return[e,i,new Promise(r=>(n=r)&&t.once(e,i))]};const Gn=Object.freeze({done:!0,value:void 0});class Zn{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class tr{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class er extends tr{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return m(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Gn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Yn.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Yn.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return m(this,void 0,void 0,function*(){return yield this.abort(t),Gn})}return(t){return m(this,void 0,void 0,function*(){return yield this.close(),Gn})}read(t){return m(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return m(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,e)=>{this.resolvers.push({resolve:t,reject:e})}):Promise.resolve(Gn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class ir extends er{write(t){if((t=G(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?T(this.toUint8Array(!0)):this.toUint8Array(!1).then(T)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?q(this._values)[0]:(()=>m(this,void 0,void 0,function*(){var t,e;const i=[];let n=0;try{for(var r,s=_(this);!(r=yield s.next()).done;){const t=r.value;i.push(t),n+=t.byteLength}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return q(i,n)[0]}))()}}class nr{constructor(t){t&&(this.source=new sr(Yn.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class rr{constructor(t){t instanceof rr?this.source=t.source:t instanceof ir?this.source=new or(Yn.fromAsyncIterable(t)):K(t)?this.source=new or(Yn.fromNodeStream(t)):H(t)?this.source=new or(Yn.fromDOMStream(t)):W(t)?this.source=new or(Yn.fromDOMStream(t.body)):R(t)?this.source=new or(Yn.fromIterable(t)):(P(t)||F(t))&&(this.source=new or(Yn.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class sr{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Gn)}return(t){return Object.create(this.source.return&&this.source.return(t)||Gn)}}class or{constructor(t){this.source=t,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(t){return m(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return m(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return m(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return m(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return m(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||Gn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return m(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||Gn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class lr extends nr{constructor(t,e){super(),this.position=0,this.buffer=G(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class ar extends rr{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>m(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending}))()}readInt32(t){return m(this,void 0,void 0,function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)})}seek(t){return m(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return m(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=n,s=0,o=0;const l=Math.min(i,r+Math.min(i-r,t)),a=new Uint8Array(Math.max(0,(this.position=l)-r));for(;(r+=o)<l&&(s+=o)<a.byteLength;)({bytesRead:o}=yield e.read(a,s,a.byteLength-s,r));return a}return null})}readAt(t,e){return m(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),s=new Uint8Array(r-t);return(yield i.read(s,0,e,t)).buffer}return new Uint8Array(e)})}close(){return m(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return m(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return m(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}function ur(t){return t<0&&(t=4294967295+t+1),"0x".concat(t.toString(16))}const cr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class hr{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return"".concat(ur(this.buffer[1])," ").concat(ur(this.buffer[0]))}}class dr extends hr{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length,n=new dr(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,s=new dr(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),o=new dr(new Uint32Array([cr[e],0]));n.times(o),n.plus(s),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)dr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new dr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new dr(new Uint32Array(t.buffer)).plus(e)}}class fr extends hr{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,i=t.buffer[1]|0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length,r=new fr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new fr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0])),o=new fr(new Uint32Array([cr[e],0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)fr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new fr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new fr(new Uint32Array(t.buffer)).plus(e)}}class pr{constructor(t){this.buffer=t}high(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new dr(new Uint32Array([this.buffer[3],0])),i=new dr(new Uint32Array([this.buffer[2],0])),n=new dr(new Uint32Array([this.buffer[1],0])),r=new dr(new Uint32Array([this.buffer[0],0])),s=new dr(new Uint32Array([t.buffer[3],0])),o=new dr(new Uint32Array([t.buffer[2],0])),l=new dr(new Uint32Array([t.buffer[1],0])),a=new dr(new Uint32Array([t.buffer[0],0]));let u=dr.multiply(r,a);this.buffer[0]=u.low();const c=new dr(new Uint32Array([u.high(),0]));u=dr.multiply(n,a),c.plus(u),u=dr.multiply(r,l),c.plus(u),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(u)?1:0,this.buffer[2]=c.high();return new dr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(dr.multiply(i,a)).plus(dr.multiply(n,l)).plus(dr.multiply(r,o)),this.buffer[3]+=dr.multiply(e,a).plus(dr.multiply(i,l)).plus(dr.multiply(n,o)).plus(dr.multiply(r,s)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return"".concat(ur(this.buffer[3])," ").concat(ur(this.buffer[2])," ").concat(ur(this.buffer[1])," ").concat(ur(this.buffer[0]))}static multiply(t,e){return new pr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new pr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length,r=new pr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new pr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0,0,0])),o=new pr(new Uint32Array([cr[e],0,0,0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)pr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class mr extends ie{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof Gi?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e})}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===r.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class br extends mr{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Mi(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return Q(Uint8Array,Q(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return Q(Uint8Array,Q(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return Dt.isTimestamp(t)||(Dt.isInt(t)||Dt.isTime(t))&&64===t.bitWidth||Dt.isDate(t)&&t.unit===o.MILLISECOND?Q(Uint8Array,fr.convertArray(i[e])):Dt.isDecimal(t)?Q(Uint8Array,pr.convertArray(i[e])):Dt.isBinary(t)||Dt.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=Number.parseInt(e.slice(n,n+2),16);return i}(i[e]):Dt.isBool(t)?Mi(i[e]):Dt.isUtf8(t)?M(i[e].join("")):Q(Uint8Array,Q(t.ArrayType,i[e].map(t=>+t)))}}var yr,vr,gr,wr,_r,Sr,xr,Tr;!function(t){t[t.BUFFER=0]="BUFFER"}(yr||(yr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(vr||(vr={}));class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):vr.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):yr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,vr.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,yr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return Er.startBodyCompression(t),Er.addCodec(t,e),Er.addMethod(t,i),Er.endBodyCompression(t)}}class Mr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Cr).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Mr).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new Er).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Ir).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new Ir).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new kr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(gr||(gr={}));class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,gr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Nr.startFloatingPoint(t),Nr.addPrecision(t,e),Nr.endFloatingPoint(t)}}class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,n){return Or.startDecimal(t),Or.addPrecision(t,e),Or.addScale(t,i),Or.addBitWidth(t,n),Or.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(wr||(wr={}));class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wr.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,wr.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return zr.startDate(t),zr.addUnit(t,e),zr.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(_r||(_r={}));class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return Dr.startTime(t),Dr.addUnit(t,e),Dr.addBitWidth(t,i),Dr.endTime(t)}}class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return Lr.startTimestamp(t),Lr.addUnit(t,e),Lr.addTimezone(t,i),Lr.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(Sr||(Sr={}));class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Sr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Ar.startInterval(t),Ar.addUnit(t,e),Ar.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(xr||(xr={}));class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xr.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,xr.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return Br.startUnion(t),Br.addMode(t,e),Br.addTypeIds(t,i),Br.endUnion(t)}}class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Pr.startFixedSizeBinary(t),Pr.addByteWidth(t,e),Pr.endFixedSizeBinary(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Rr.startFixedSizeList(t),Rr.addListSize(t,e),Rr.endFixedSizeList(t)}}class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Fr.startMap(t),Fr.addKeysSorted(t,e),Fr.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(Tr||(Tr={}));class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Nn.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Tr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Bn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Nn.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Tr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,n,r,s){return Vr.startMessage(t),Vr.addVersion(t,e),Vr.addHeaderType(t,i),Vr.addHeader(t,n),Vr.addBodyLength(t,r),Vr.addCustomMetadata(t,s),Vr.endMessage(t)}}class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Ur.startNull(t),Ur.endNull(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return jr.startBinary(t),jr.endBinary(t)}}class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Wr.startBool(t),Wr.endBool(t)}}class $r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return $r.startUtf8(t),$r.endUtf8(t)}}class Hr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new Hr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new Hr).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Hr.startList(t),Hr.endList(t)}}class Kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Kr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Kr.startStruct_(t),Kr.endStruct_(t)}}var Xr=kn;const Yr=new class extends ie{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Ur.startNull(e),Ur.endNull(e)}visitInt(t,e){return Pn.startInt(e),Pn.addBitWidth(e,t.bitWidth),Pn.addIsSigned(e,t.isSigned),Pn.endInt(e)}visitFloat(t,e){return Nr.startFloatingPoint(e),Nr.addPrecision(e,t.precision),Nr.endFloatingPoint(e)}visitBinary(t,e){return jr.startBinary(e),jr.endBinary(e)}visitBool(t,e){return Wr.startBool(e),Wr.endBool(e)}visitUtf8(t,e){return $r.startUtf8(e),$r.endUtf8(e)}visitDecimal(t,e){return Or.startDecimal(e),Or.addScale(e,t.scale),Or.addPrecision(e,t.precision),Or.addBitWidth(e,t.bitWidth),Or.endDecimal(e)}visitDate(t,e){return zr.startDate(e),zr.addUnit(e,t.unit),zr.endDate(e)}visitTime(t,e){return Dr.startTime(e),Dr.addUnit(e,t.unit),Dr.addBitWidth(e,t.bitWidth),Dr.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Lr.startTimestamp(e),Lr.addUnit(e,t.unit),void 0!==i&&Lr.addTimezone(e,i),Lr.endTimestamp(e)}visitInterval(t,e){return Ar.startInterval(e),Ar.addUnit(e,t.unit),Ar.endInterval(e)}visitList(t,e){return Hr.startList(e),Hr.endList(e)}visitStruct(t,e){return Kr.startStruct_(e),Kr.endStruct_(e)}visitUnion(t,e){Br.startTypeIdsVector(e,t.typeIds.length);const i=Br.createTypeIdsVector(e,t.typeIds);return Br.startUnion(e),Br.addMode(e,t.mode),Br.addTypeIds(e,i),Br.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Rn.startDictionaryEncoding(e),Rn.addId(e,new Xr(t.id,0)),Rn.addIsOrdered(e,t.isOrdered),void 0!==i&&Rn.addIndexType(e,i),Rn.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Pr.startFixedSizeBinary(e),Pr.addByteWidth(e,t.byteWidth),Pr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Rr.startFixedSizeList(e),Rr.addListSize(e,t.listSize),Rr.endFixedSizeList(e)}visitMap(t,e){return Fr.startMap(e),Fr.addKeysSorted(e,t.keysSorted),Fr.endMap(e)}};function qr(t){return new os(t.count,Jr(t.columns),Gr(t.columns))}function Qr(t,e){return(t.children||[]).filter(Boolean).map(t=>Gi.fromJSON(t,e))}function Jr(t){return(t||[]).reduce((t,e)=>{return[...t,new us(e.count,(i=e.VALIDITY,(i||[]).reduce((t,e)=>t+ +(0===e),0))),...Jr(e.children)];var i},[])}function Gr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let i=-1,n=(t||[]).length;++i<n;){const n=t[i];n.VALIDITY&&e.push(new as(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new as(e.length,n.TYPE.length)),n.OFFSET&&e.push(new as(e.length,n.OFFSET.length)),n.DATA&&e.push(new as(e.length,n.DATA.length)),e=Gr(n.children,e)}return e}function Zr(t){return new Map(Object.entries(t||{}))}function ts(t){return new At(t.isSigned,t.bitWidth)}function es(t,e){const i=t.type.name;switch(i){case"NONE":case"null":return new Lt;case"binary":return new Rt;case"utf8":return new Ft;case"bool":return new Vt;case"list":return new Kt((e||[])[0]);case"struct":case"struct_":return new Xt(e||[])}switch(i){case"int":{const e=t.type;return new At(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Pt(s[e.precision])}case"decimal":{const e=t.type;return new Ut(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new jt(o[e.unit])}case"time":{const e=t.type;return new Wt(l[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new $t(l[e.unit],e.timezone)}case"interval":{const e=t.type;return new Ht(a[e.unit])}case"union":{const i=t.type;return new Yt(r[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new qt(e.byteWidth)}case"fixedsizelist":{const i=t.type;return new Qt(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new Jt((e||[])[0],i.keysSorted)}}throw new Error('Unrecognized type: "'.concat(i,'"'))}var is=kn,ns=An,rs=Ln;class ss{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const i=new ss(0,n.V4,e);return i._createHeader=function(t,e){return()=>{switch(e){case u.Schema:return Ji.fromJSON(t);case u.RecordBatch:return os.fromJSON(t);case u.DictionaryBatch:return ls.fromJSON(t)}throw new Error("Unrecognized Message type: { name: ".concat(u[e],", type: ").concat(e," }"))}}(t,e),i}static decode(t){t=new rs(G(t));const e=Vr.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),s=new ss(i,n,r);return s._createHeader=function(t,e){return()=>{switch(e){case u.Schema:return Ji.decode(t.header(new Vn));case u.RecordBatch:return os.decode(t.header(new kr),t.version());case u.DictionaryBatch:return ls.decode(t.header(new Ir),t.version())}throw new Error("Unrecognized Message type: { name: ".concat(u[e],", type: ").concat(e," }"))}}(e,r),s}static encode(t){const e=new ns;let i=-1;return t.isSchema()?i=Ji.encode(e,t.header()):t.isRecordBatch()?i=os.encode(e,t.header()):t.isDictionaryBatch()&&(i=ls.encode(e,t.header())),Vr.startMessage(e),Vr.addVersion(e,n.V4),Vr.addHeader(e,i),Vr.addHeaderType(e,t.headerType),Vr.addBodyLength(e,new is(t.bodyLength,0)),Vr.finishMessageBuffer(e,Vr.endMessage(e)),e.asUint8Array()}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof Ji)return new ss(0,n.V4,u.Schema,t);if(t instanceof os)return new ss(e,n.V4,u.RecordBatch,t);if(t instanceof ls)return new ss(e,n.V4,u.DictionaryBatch,t);throw new Error("Unrecognized Message header: ".concat(t))}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===u.Schema}isRecordBatch(){return this.headerType===u.RecordBatch}isDictionaryBatch(){return this.headerType===u.DictionaryBatch}}class os{constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class ls{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class as{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class us{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function cs(t,e){const i=[];for(let n,r=-1,s=-1,o=t.childrenLength();++r<o;)(n=t.children(r))&&(i[++s]=Gi.decode(n,e));return i}function hs(t){const e=new Map;if(t)for(let i,n,r=-1,s=Math.trunc(t.customMetadataLength());++r<s;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function ds(t){return new At(t.isSigned(),t.bitWidth())}function fs(t,e){const i=t.typeType();switch(i){case Dn.NONE:case Dn.Null:return new Lt;case Dn.Binary:return new Rt;case Dn.Utf8:return new Ft;case Dn.Bool:return new Vt;case Dn.List:return new Kt((e||[])[0]);case Dn.Struct_:return new Xt(e||[])}switch(i){case Dn.Int:{const e=t.type(new Pn);return new At(e.isSigned(),e.bitWidth())}case Dn.FloatingPoint:{const e=t.type(new Nr);return new Pt(e.precision())}case Dn.Decimal:{const e=t.type(new Or);return new Ut(e.scale(),e.precision(),e.bitWidth())}case Dn.Date:{const e=t.type(new zr);return new jt(e.unit())}case Dn.Time:{const e=t.type(new Dr);return new Wt(e.unit(),e.bitWidth())}case Dn.Timestamp:{const e=t.type(new Lr);return new $t(e.unit(),e.timezone())}case Dn.Interval:{const e=t.type(new Ar);return new Ht(e.unit())}case Dn.Union:{const i=t.type(new Br);return new Yt(i.mode(),i.typeIdsArray()||[],e||[])}case Dn.FixedSizeBinary:{const e=t.type(new Pr);return new qt(e.byteWidth())}case Dn.FixedSizeList:{const i=t.type(new Rr);return new Qt(i.listSize(),(e||[])[0])}case Dn.Map:{const i=t.type(new Fr);return new Jt((e||[])[0],i.keysSorted())}}throw new Error('Unrecognized type: "'.concat(Dn[i],'" (').concat(i,")"))}Gi.encode=function(t,e){let i=-1,n=-1,r=-1;const s=e.type;let o=e.typeId;Dt.isDictionary(s)?(o=s.dictionary.typeId,r=Yr.visit(s,t),n=Yr.visit(s.dictionary,t)):n=Yr.visit(s,t);const l=(s.children||[]).map(e=>Gi.encode(t,e)),a=Fn.createChildrenVector(t,l),u=e.metadata&&e.metadata.size>0?Fn.createCustomMetadataVector(t,[...e.metadata].map(e=>{let[i,n]=e;const r=t.createString("".concat(i)),s=t.createString("".concat(n));return Bn.startKeyValue(t),Bn.addKey(t,r),Bn.addValue(t,s),Bn.endKeyValue(t)})):-1;e.name&&(i=t.createString(e.name));Fn.startField(t),Fn.addType(t,n),Fn.addTypeType(t,o),Fn.addChildren(t,a),Fn.addNullable(t,!!e.nullable),-1!==i&&Fn.addName(t,i);-1!==r&&Fn.addDictionary(t,r);-1!==u&&Fn.addCustomMetadata(t,u);return Fn.endField(t)},Gi.decode=function(t,e){let i,n,r,s,o,l;e&&(l=t.dictionary())?e.has(i=l.id().low)?(s=(s=l.indexType())?ds(s):new Bt,o=new te(e.get(i),s,i,l.isOrdered()),n=new Gi(t.name(),o,t.nullable(),hs(t))):(s=(s=l.indexType())?ds(s):new Bt,e.set(i,r=fs(t,cs(t,e))),o=new te(r,s,i,l.isOrdered()),n=new Gi(t.name(),o,t.nullable(),hs(t))):(r=fs(t,cs(t,e)),n=new Gi(t.name(),r,t.nullable(),hs(t)));return n||null},Gi.fromJSON=function(t,e){let i,n,r,s,o,l;return e&&(s=t.dictionary)?e.has(i=s.id)?(n=(n=s.indexType)?ts(n):new Bt,l=new te(e.get(i),n,i,s.isOrdered),r=new Gi(t.name,l,t.nullable,Zr(t.customMetadata))):(n=(n=s.indexType)?ts(n):new Bt,e.set(i,o=es(t,Qr(t,e))),l=new te(o,n,i,s.isOrdered),r=new Gi(t.name,l,t.nullable,Zr(t.customMetadata))):(o=es(t,Qr(t,e)),r=new Gi(t.name,o,t.nullable,Zr(t.customMetadata))),r||null},Ji.encode=function(t,e){const i=e.fields.map(e=>Gi.encode(t,e));Vn.startFieldsVector(t,i.length);const n=Vn.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?Vn.createCustomMetadataVector(t,[...e.metadata].map(e=>{let[i,n]=e;const r=t.createString("".concat(i)),s=t.createString("".concat(n));return Bn.startKeyValue(t),Bn.addKey(t,r),Bn.addValue(t,s),Bn.endKeyValue(t)})):-1;Vn.startSchema(t),Vn.addFields(t,n),Vn.addEndianness(t,ps?On.Little:On.Big),-1!==r&&Vn.addCustomMetadata(t,r);return Vn.endSchema(t)},Ji.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=function(t,e){const i=[];for(let n,r=-1,s=-1,o=t.fieldsLength();++r<o;)(n=t.fields(r))&&(i[++s]=Gi.decode(n,e));return i}(t,e);return new Ji(i,hs(t),e)},Ji.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Ji(function(t,e){return(t.fields||[]).filter(Boolean).map(t=>Gi.fromJSON(t,e))}(t,e),Zr(t.customMetadata),e)},os.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];kr.startNodesVector(t,i.length);for(const o of i.slice().reverse())us.encode(t,o);const r=t.endVector();kr.startBuffersVector(t,n.length);for(const o of n.slice().reverse())as.encode(t,o);const s=t.endVector();return kr.startRecordBatch(t),kr.addLength(t,new is(e.length,0)),kr.addNodes(t,r),kr.addBuffers(t,s),kr.endRecordBatch(t)},os.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4;return new os(t.length(),function(t){const e=[];for(let i,n=-1,r=-1,s=t.nodesLength();++n<s;)(i=t.nodes(n))&&(e[++r]=us.decode(i));return e}(t),function(t,e){const i=[];for(let r,s=-1,o=-1,l=t.buffersLength();++s<l;)(r=t.buffers(s))&&(e<n.V4&&(r.bb_pos+=8*(s+1)),i[++o]=as.decode(r));return i}(t,e))},os.fromJSON=qr,ls.encode=function(t,e){const i=os.encode(t,e.data);return Ir.startDictionaryBatch(t),Ir.addId(t,new is(e.id,0)),Ir.addIsDelta(t,e.isDelta),Ir.addData(t,i),Ir.endDictionaryBatch(t)},ls.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4;return new ls(os.decode(t.data(),e),t.id(),t.isDelta())},ls.fromJSON=function(t){return new ls(qr(t.data),t.id,t.isDelta)},us.encode=function(t,e){return Cr.createFieldNode(t,new is(e.length,0),new is(e.nullCount,0))},us.decode=function(t){return new us(t.length(),t.nullCount())},as.encode=function(t,e){return Mr.createBuffer(t,new is(e.offset,0),new is(e.length,0))},as.decode=function(t){return new as(t.offset(),t.length())};const ps=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),ms=t=>"Expected ".concat(u[t]," Message in stream, but was null or length 0."),bs=t=>"Header pointer of flatbuffer-encoded ".concat(u[t]," Message is null or length 0."),ys=(t,e)=>"Expected to read ".concat(t," metadata bytes, but only read ").concat(e,"."),vs=(t,e)=>"Expected to read ".concat(t," bytes for message body, but only read ").concat(e,".");class gs{constructor(t){this.source=t instanceof nr?t:new nr(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Gn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=G(this.source.read(t));if(e.byteLength<t)throw new Error(vs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=u.Schema,i=this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(bs(e));return n}readMetadataLength(){const t=this.source.read(Ss),e=t&&new Ln(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return Gn;if(e.byteLength<t)throw new Error(ys(t,e.byteLength));return{done:!1,value:ss.decode(e)}}}class ws{constructor(t,e){this.source=t instanceof rr?t:j(t)?new ar(t,e):new rr(t)}[Symbol.asyncIterator](){return this}next(){return m(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Gn:t})}throw(t){return m(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return m(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return m(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value})}readMessageBody(t){return m(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=G(yield this.source.read(t));if(e.byteLength<t)throw new Error(vs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m(this,void 0,void 0,function*(){const e=u.Schema,i=yield this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(bs(e));return n})}readMetadataLength(){return m(this,void 0,void 0,function*(){const t=yield this.source.read(Ss),e=t&&new Ln(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}})}readMetadata(t){return m(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return Gn;if(e.byteLength<t)throw new Error(ys(t,e.byteLength));return{done:!1,value:ss.decode(e)}})}}class _s extends gs{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Zn?t:new Zn(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:ss.fromJSON(t.schema,u.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:ss.fromJSON(e,u.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:ss.fromJSON(e,u.RecordBatch)}}return this._body=[],Gn}readMessageBody(t){return function t(e){return(e||[]).reduce((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)],[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}readSchema(){const t=u.Schema,e=this.readMessage(t),i=null===e||void 0===e?void 0:e.header();if(!e||!i)throw new Error(bs(t));return i}}const Ss=4,xs="ARROW1",Ts=new Uint8Array(6);for(let v=0;v<6;v+=1)Ts[v]=xs.codePointAt(v);function Es(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=Ts.length;++i<n;)if(Ts[i]!==t[e+i])return!1;return!0}const Ms=Ts.length,Cs=Ms+Ss,ks=2*Ms+Ss;class Is extends tr{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return P(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Yn.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Yn.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Is?t:V(t)?function(t){return new Ns(new Fs(t))}(t):j(t)?function(t){return m(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),i=new ar(t,e);return e>=ks&&Es(yield i.readAt(0,Ms+7&-8))?new Ds(new Rs(i)):new Os(new Bs(i))})}(t):P(t)?(()=>m(this,void 0,void 0,function*(){return yield Is.from(yield t)}))():W(t)||H(t)||K(t)||F(t)?function(t){return m(this,void 0,void 0,function*(){const e=yield t.peek(Ms+7&-8);return e&&e.byteLength>=4?Es(e)?new zs(new Ps(yield t.read())):new Os(new Bs(t)):new Os(new Bs(function(){return g(this,arguments,function*(){})}()))})}(new rr(t)):function(t){const e=t.peek(Ms+7&-8);return e&&e.byteLength>=4?Es(e)?new zs(new Ps(t.read())):new Ns(new As(t)):new Ns(new As(function*(){}()))}(new nr(t))}static readAll(t){return t instanceof Is?t.isSync()?Us(t):js(t):V(t)||ArrayBuffer.isView(t)||R(t)||U(t)?Us(t):js(t)}}class Ns extends Is{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return g(this,arguments,function*(){yield y(yield*w(_(this[Symbol.iterator]())))})}}class Os extends Is{constructor(t){super(t),this._impl=t}readAll(){var t,e;return m(this,void 0,void 0,function*(){const i=new Array;try{for(var n,r=_(this);!(n=yield r.next()).done;){const t=n.value;i.push(t)}}catch(s){t={error:s}}finally{try{n&&!n.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return i})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class zs extends Ns{constructor(t){super(t),this._impl=t}}class Ds extends Os{constructor(t){super(t),this._impl=t}}class Ls{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const i=this._loadVectors(t,e,this.schema.fields),n=Qi({type:new Xt(this.schema.fields),length:t.length,children:i});return new bn(this.schema,n)}_loadDictionaryBatch(t,e){const{id:i,isDelta:n}=t,{dictionaries:r,schema:s}=this,o=r.get(i);if(n||!o){const r=s.dictionaries.get(i),l=this._loadVectors(t.data,e,[r]);return(o&&n?o.concat(new Ki(l)):new Ki(l)).memoize()}return o.memoize()}_loadVectors(t,e,i){return new mr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class As extends Ls{constructor(t,e){super(e),this._reader=V(t)?new _s(this._handle=t):new gs(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Vs(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Gn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Gn}next(){if(this.closed)return Gn;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new gn(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Bs extends Ls{constructor(t,e){super(e),this._reader=new ws(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return m(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return m(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Vs(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return m(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Gn})}return(t){return m(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Gn})}next(){return m(this,void 0,void 0,function*(){if(this.closed)return Gn;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new gn(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return m(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class Ps extends As{constructor(t,e){super(t instanceof lr?t:new lr(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(u.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(u.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-Cs,i=t.readInt32(e),n=t.readAt(e-i,i);return Hn.decode(n)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class Rs extends Bs{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,s=i[0]instanceof Map?i.shift():void 0;super(t instanceof ar?t:new ar(t,r),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return m(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return m(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(u.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null})}_readDictionaryBatch(t){var e;return m(this,void 0,void 0,function*(){const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(u.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}})}_readFooter(){return m(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Cs,i=yield t.readInt32(e),n=yield t.readAt(e-i,i);return Hn.decode(n)})}_readNextMessageAndValidate(t){return m(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class Fs extends As{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new br(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function Vs(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*Us(t){const e=Is.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function js(t){return g(this,arguments,function*(){const e=yield y(Is.from(t));try{if(!(yield y(e.open({autoDestroy:!1}))).closed)do{yield yield y(e)}while(!(yield y(e.reset().open())).closed)}finally{yield y(e.cancel())}})}class Ws extends ie{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap(e=>Array.isArray(e)?t(e):e instanceof bn?e.data.children:e.data),e=new Ws;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.visitMany(t(n)),e}visit(t){if(t instanceof Ki)return this.visitMany(t.data),this;const{type:e}=t;if(!Dt.isDictionary(e)){const{length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Dt.isNull(e)||$s.call(this,n<=0?new Uint8Array(0):Ei(t.offset,i,t.nullBitmap)),this.nodes.push(new us(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function $s(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new as(this._byteLength,e)),this._byteLength+=e,this}function Hs(t){return $s.call(this,t.values.subarray(0,t.length*t.stride))}function Ks(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],s=n[e],o=Math.min(s-r,i.byteLength-r);return $s.call(this,it(-n[0],e,n)),$s.call(this,i.subarray(r,r+o)),this}function Xs(t){const{length:e,valueOffsets:i}=t;return i&&$s.call(this,it(i[0],e,i)),this.visit(t.children[0])}function Ys(t){return this.visitMany(t.type.children.map((e,i)=>t.children[i]).filter(Boolean))[0]}Ws.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?$s.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?$s.call(this,Ei(t.offset,t.length,e)):$s.call(this,Mi(t.values))},Ws.prototype.visitInt=Hs,Ws.prototype.visitFloat=Hs,Ws.prototype.visitUtf8=Ks,Ws.prototype.visitBinary=Ks,Ws.prototype.visitFixedSizeBinary=Hs,Ws.prototype.visitDate=Hs,Ws.prototype.visitTimestamp=Hs,Ws.prototype.visitTime=Hs,Ws.prototype.visitDecimal=Hs,Ws.prototype.visitList=Xs,Ws.prototype.visitStruct=Ys,Ws.prototype.visitUnion=function(t){const{type:e,length:i,typeIds:n,valueOffsets:s}=t;if($s.call(this,n),e.mode===r.Sparse)return Ys.call(this,t);if(e.mode===r.Dense){if(t.offset<=0)return $s.call(this,s),Ys.call(this,t);{const r=n.reduce((t,e)=>Math.max(t,e),n[0]),o=new Int32Array(r+1),l=new Int32Array(r+1).fill(-1),a=new Int32Array(i),u=it(-s[0],i,s);for(let t,e,s=-1;++s<i;)-1===(e=l[t=n[s]])&&(e=l[t]=u[t]),a[s]=u[s]-e,++o[t];$s.call(this,a);for(let n,s=-1,c=e.children.length;++s<c;)if(n=t.children[s]){const t=e.typeIds[s],r=Math.min(i,o[t]);this.visit(n.slice(l[t],r))}}}return this},Ws.prototype.visitInterval=Hs,Ws.prototype.visitFixedSizeList=Xs,Ws.prototype.visitMap=Xs;class qs extends tr{constructor(t){super(),this._position=0,this._started=!1,this._sink=new ir,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,B(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return P(t)?t.then(t=>this.writeAll(t)):F(t)?Zs(this,t):Gs(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t===this._sink||t instanceof ir?this._sink=t:(this._sink=new ir,t&&(t=>B(t)&&A(t.abort)&&A(t.getWriter)&&!$(t))(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>B(t)&&A(t.end)&&A(t.write)&&L(t.writable)&&!$(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&fn(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof Sn&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof bn&&!(e=t.schema))return this.finish()&&void 0;if(e&&!fn(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof bn?t instanceof gn||this._writeRecordBatch(t):t instanceof Sn?this.writeAll(t.batches):R(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=ss.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,s=n+r+e&~e,o=s-n-r;return t.headerType===u.RecordBatch?this._recordBatchBlocks.push(new Xn(s,t.bodyLength,this._position)):t.headerType===u.DictionaryBatch&&this._dictionaryBlocks.push(new Xn(s,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-r)),n>0&&this._write(i),this._writePadding(o)}_write(t){if(this._started){const e=G(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(ss.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ts)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=Ws.assemble(t),s=new os(t.numRows,i,n),o=ss.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:s,buffers:o}=Ws.assemble(new Ki([t])),l=new os(t.length,r,s),a=new ls(l,e,i),u=ss.from(a,n);return this._writeMessage(u)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,s=t.length;++r<s;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null===i||void 0===i?void 0:i.slice(t)).length>0)for(const n of i.data)this._writeDictionaryBatch(n,e,t>0),t+=n.length}return this}}class Qs extends qs{static writeAll(t,e){const i=new Qs(e);return P(t)?t.then(t=>i.writeAll(t)):F(t)?Zs(i,t):Gs(i,t)}}class Js extends qs{static writeAll(t){const e=new Js;return P(t)?t.then(t=>e.writeAll(t)):F(t)?Zs(e,t):Gs(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=Hn.encode(new Hn(t,n.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Gs(t,e){let i=e;e instanceof Sn&&(i=e.batches,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}function Zs(t,e){var i,n,r,s;return m(this,void 0,void 0,function*(){try{for(i=_(e);!(n=yield i.next()).done;){const e=n.value;t.write(e)}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}return t.finish()})}function to(t){const e=Is.from(t);return P(e)?(()=>m(this,void 0,void 0,function*(){return new Sn(yield(yield e).readAll())}))():new Sn(e.readAll())}function eo(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Qs:Js).writeAll(t).toUint8Array(!0)}var io,no=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,s=t<r.headerRows&&e>=r.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(a=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,a,t)};if(n){o=["row_heading","level"+e,"row"+(l=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(l),classNames:o.join(" "),content:r.getContent(r.indexTable,l,e)}}o=["data","row"+(l=t-r.headerRows),"col"+(a=e-r.headerColumns)];var l,a,u=r.styler?r.getContent(r.styler.displayValuesTable,l,a):r.getContent(r.dataTable,l,a);return{type:"data",id:"T_".concat(r.uuid,"row").concat(l,"_col").concat(a),classNames:o.join(" "),content:u}},this.getContent=function(t,e,i){var n=t.getChildAt(i);return null===n?"":r.getColumnTypeId(t,i)===c.Timestamp?r.nanosToDate(n.get(e)):n.get(e)},this.dataTable=to(t),this.indexTable=to(e),this.columnsTable=to(i),this.styler=n?{caption:n.caption,displayValuesTable:to(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:eo(this.dataTable),index:eo(this.indexTable),columns:eo(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),ro=function(){return ro=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ro.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(io||(io={}));var so=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(io.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(io.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof no?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(v){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(io.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=ro(ro({},i),n);var r=Boolean(e.disabled),s=e.theme;s&&oo(s);var o={disabled:r,args:i,theme:s},l=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(l)},t.argsDataframeToObject=function(e){var i=e.map(function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]});return Object.fromEntries(i)},t.toArrowTable=function(t){var e,i=(e=t.data).data,n=e.index,r=e.columns,s=e.styler;return new no(i,n,r,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(ro({isStreamlitMessage:!0,type:t},e),"*")},t}(),oo=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var lo=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lo(e,t),e.prototype.componentDidMount=function(){so.setFrameHeight()},e.prototype.componentDidUpdate=function(){so.setFrameHeight()},e}(p.PureComponent);function uo(t){var e=function(e){function i(t){var i=e.call(this,t)||this;return i.componentDidMount=function(){so.events.addEventListener(so.RENDER_EVENT,i.onRenderEvent),so.setComponentReady()},i.componentDidUpdate=function(){null!=i.state.componentError&&so.setFrameHeight()},i.componentWillUnmount=function(){so.events.removeEventListener(so.RENDER_EVENT,i.onRenderEvent)},i.onRenderEvent=function(t){i.setState({renderData:t.detail})},i.state={renderData:void 0,componentError:void 0},i}return lo(i,e),i.prototype.render=function(){return null!=this.state.componentError?p.createElement("div",null,p.createElement("h1",null,"Component Error"),p.createElement("span",null,this.state.componentError.message)):null==this.state.renderData?null:p.createElement(t,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},i.getDerivedStateFromError=function(t){return{componentError:t}},i}(p.PureComponent);return f()(e,t)}},504(t,e,i){var n=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(579),o=function(t){function e(e){var i=t.call(this,e)||this;return i.state={error:void 0},i}return n(e,t),e.getDerivedStateFromError=function(t){return{error:t}},e.prototype.render=function(){return null!=this.state.error?(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Component Error"},void 0),(0,s.jsx)("span",{children:this.state.error.message},void 0)]},void 0):this.props.children},e}(r(i(43)).default.PureComponent);e.default=o},579(t,e,i){t.exports=i(153)},639(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return s(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRenderData=void 0;var a=i(579),u=o(i(43)),c=i(452),h=i(129),d=l(i(504)),f=u.default.createContext(void 0);e.useRenderData=function(){var t=(0,u.useContext)(f);if(null==t)throw new Error("useRenderData() must be used inside <StreamlitProvider />");return t};e.default=function(t){var e=(0,h.useNullableRenderData)();return(0,u.useEffect)(function(){c.Streamlit.setFrameHeight()}),null==e?null:(0,a.jsx)(d.default,{children:(0,a.jsx)(f.Provider,n({value:e},{children:t.children}),void 0)},void 0)}},730(t,e,i){var n=i(43),r=i(123),s=i(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function l(t,e,i,n,r,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(z){this.onError(z)}}var a=!1,u=null,c=!1,h=null,d={onError:function(t){a=!0,u=t}};function f(t,e,i,n,r,s,o,c,h){a=!1,u=null,l.apply(d,arguments)}var p=null,m=null,b=null;function y(t,e,i){var n=t.type||"unknown-event";t.currentTarget=b(i),function(t,e,i,n,r,s,l,d,p){if(f.apply(this,arguments),a){if(!a)throw Error(o(198));var m=u;a=!1,u=null,c||(c=!0,h=m)}}(n,e,void 0,t),t.currentTarget=null}var g=null,_={};function S(){if(g)for(var t in _){var e=_[t],i=g.indexOf(t);if(!(-1<i))throw Error(o(96,t));if(!T[i]){if(!e.extractEvents)throw Error(o(97,t));for(var n in T[i]=e,i=e.eventTypes){var r=void 0,s=i[n],l=e,a=n;if(E.hasOwnProperty(a))throw Error(o(99,a));E[a]=s;var u=s.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&x(u[r],l,a);r=!0}else s.registrationName?(x(s.registrationName,l,a),r=!0):r=!1;if(!r)throw Error(o(98,n,t))}}}}function x(t,e,i){if(k[t])throw Error(o(100,t));k[t]=e,I[t]=e.eventTypes[i].dependencies}var T=[],E={},k={},I={};function N(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!_.hasOwnProperty(e)||_[e]!==n){if(_[e])throw Error(o(102,e));_[e]=n,i=!0}}i&&S()}var O=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),L=null,A=null,B=null;function P(t){if(t=m(t)){if("function"!==typeof L)throw Error(o(280));var e=t.stateNode;e&&(e=p(e),L(t.stateNode,t.type,e))}}function R(t){A?B?B.push(t):B=[t]:A=t}function V(){if(A){var t=A,e=B;if(B=A=null,P(t),e)for(t=0;t<e.length;t++)P(e[t])}}function U(t,e){return t(e)}function j(t,e,i,n,r){return t(e,i,n,r)}function W(){}var $=U,H=!1,K=!1;function X(){null===A&&null===B||(W(),V())}function Y(t,e,i){if(K)return t(e,i);K=!0;try{return $(t,e,i)}finally{K=!1,X()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q=Object.prototype.hasOwnProperty,J={},G={};function Z(t,e,i,n,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new Z(t,0,!1,t,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new Z(e,1,!1,t[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new Z(t,2,!1,t.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new Z(t,2,!1,t,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new Z(t,3,!1,t.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new Z(t,3,!0,t,null,!1)}),["capture","download"].forEach(function(t){tt[t]=new Z(t,4,!1,t,null,!1)}),["cols","rows","size","span"].forEach(function(t){tt[t]=new Z(t,6,!1,t,null,!1)}),["rowSpan","start"].forEach(function(t){tt[t]=new Z(t,5,!1,t.toLowerCase(),null,!1)});var et=/[\-:]([a-z])/g;function it(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(et,it);tt[e]=new Z(e,1,!1,t,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(et,it);tt[e]=new Z(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(et,it);tt[e]=new Z(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new Z(t,1,!1,t.toLowerCase(),null,!1)}),tt.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(t){tt[t]=new Z(t,1,!1,t.toLowerCase(),null,!0)});var nt=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function rt(t,e,i,n){var r=tt.hasOwnProperty(e)?tt[e]:null;(null!==r?0===r.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!Q.call(G,t)||!Q.call(J,t)&&(q.test(t)?G[t]=!0:(J[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}nt.hasOwnProperty("ReactCurrentDispatcher")||(nt.ReactCurrentDispatcher={current:null}),nt.hasOwnProperty("ReactCurrentBatchConfig")||(nt.ReactCurrentBatchConfig={suspense:null});var st=/^(.*)[\\\/]/,ot="function"===typeof Symbol&&Symbol.for,lt=ot?Symbol.for("react.element"):60103,at=ot?Symbol.for("react.portal"):60106,ut=ot?Symbol.for("react.fragment"):60107,ct=ot?Symbol.for("react.strict_mode"):60108,ht=ot?Symbol.for("react.profiler"):60114,dt=ot?Symbol.for("react.provider"):60109,ft=ot?Symbol.for("react.context"):60110,pt=ot?Symbol.for("react.concurrent_mode"):60111,mt=ot?Symbol.for("react.forward_ref"):60112,bt=ot?Symbol.for("react.suspense"):60113,yt=ot?Symbol.for("react.suspense_list"):60120,vt=ot?Symbol.for("react.memo"):60115,gt=ot?Symbol.for("react.lazy"):60116,wt=ot?Symbol.for("react.block"):60121,_t="function"===typeof Symbol&&Symbol.iterator;function St(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=_t&&t[_t]||t["@@iterator"])?t:null}function xt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case ut:return"Fragment";case at:return"Portal";case ht:return"Profiler";case ct:return"StrictMode";case bt:return"Suspense";case yt:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ft:return"Context.Consumer";case dt:return"Context.Provider";case mt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case vt:return xt(t.type);case wt:return xt(t.render);case gt:if(t=1===t._status?t._result:null)return xt(t)}return null}function Tt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break t;default:var n=t._debugOwner,r=t._debugSource,s=xt(t.type);i=null,n&&(i=xt(n.type)),n=s,s="",r?s=" (at "+r.fileName.replace(st,"")+":"+r.lineNumber+")":i&&(s=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+s}e+=i,t=t.return}while(t);return e}function Et(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Mt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ct(t){t._valueTracker||(t._valueTracker=function(t){var e=Mt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function kt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=Mt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function It(t,e){var i=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function Nt(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=Et(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ot(t,e){null!=(e=e.checked)&&rt(t,"checked",e,!1)}function zt(t,e){Ot(t,e);var i=Et(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?Lt(t,e.type,i):e.hasOwnProperty("defaultValue")&&Lt(t,e.type,Et(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Dt(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function Lt(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function At(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Bt(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+Et(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Pt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:Et(i)}}function Ft(t,e){var i=Et(e.value),n=Et(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function Vt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Ut="http://www.w3.org/1999/xhtml",jt="http://www.w3.org/2000/svg";function Wt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Wt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ht,Kt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i)})}:t}(function(t,e){if(t.namespaceURI!==jt||"innerHTML"in t)t.innerHTML=e;else{for((Ht=Ht||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ht.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}function Yt(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var qt={animationend:Yt("Animation","AnimationEnd"),animationiteration:Yt("Animation","AnimationIteration"),animationstart:Yt("Animation","AnimationStart"),transitionend:Yt("Transition","TransitionEnd")},Qt={},Jt={};function Gt(t){if(Qt[t])return Qt[t];if(!qt[t])return t;var e,i=qt[t];for(e in i)if(i.hasOwnProperty(e)&&e in Jt)return Qt[t]=i[e];return t}O&&(Jt=document.createElement("div").style,"AnimationEvent"in window||(delete qt.animationend.animation,delete qt.animationiteration.animation,delete qt.animationstart.animation),"TransitionEvent"in window||delete qt.transitionend.transition);var Zt=Gt("animationend"),te=Gt("animationiteration"),ee=Gt("animationstart"),ie=Gt("transitionend"),ne="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),re=new("function"===typeof WeakMap?WeakMap:Map);function se(t){var e=re.get(t);return void 0===e&&(e=new Map,re.set(t,e)),e}function oe(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function le(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ae(t){if(oe(t)!==t)throw Error(o(188))}function ue(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=oe(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(n=r.return)){i=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===i)return ae(r),t;if(s===n)return ae(r),e;s=s.sibling}throw Error(o(188))}if(i.return!==n.return)i=r,n=s;else{for(var l=!1,a=r.child;a;){if(a===i){l=!0,i=r,n=s;break}if(a===n){l=!0,n=r,i=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===i){l=!0,i=s,n=r;break}if(a===n){l=!0,n=s,i=r;break}a=a.sibling}if(!l)throw Error(o(189))}}if(i.alternate!==n)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ce(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function he(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var de=null;function fe(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)y(t,e[n],i[n]);else e&&y(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function pe(t){if(null!==t&&(de=ce(de,t)),t=de,de=null,t){if(he(t,fe),de)throw Error(o(95));if(c)throw t=h,c=!1,h=null,t}}function me(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function be(t){if(!O)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ye=[];function ve(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ye.length&&ye.push(t)}function ge(t,e,i,n){if(ye.length){var r=ye.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function we(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=i.tag)&&6!==e||t.ancestors.push(i),i=Bi(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=me(t.nativeEvent);n=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;0===i&&(o|=64);for(var l=null,a=0;a<T.length;a++){var u=T[a];u&&(u=u.extractEvents(n,e,s,r,o))&&(l=ce(l,u))}pe(l)}}function _e(t,e,i){if(!i.has(t)){switch(t){case"scroll":ei(e,"scroll",!0);break;case"focus":case"blur":ei(e,"focus",!0),ei(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":be(t)&&ei(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ne.indexOf(t)&&ti(t,e)}i.set(t,null)}}var Se,xe,Te,Ee=!1,Me=[],Ce=null,ke=null,Ie=null,Ne=new Map,Oe=new Map,ze=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Le="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ae(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|i,nativeEvent:r,container:n}}function Be(t,e){switch(t){case"focus":case"blur":Ce=null;break;case"dragenter":case"dragleave":ke=null;break;case"mouseover":case"mouseout":Ie=null;break;case"pointerover":case"pointerout":Ne.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oe.delete(e.pointerId)}}function Pe(t,e,i,n,r,s){return null===t||t.nativeEvent!==s?(t=Ae(e,i,n,r,s),null!==e&&(null!==(e=Pi(e))&&xe(e)),t):(t.eventSystemFlags|=n,t)}function Re(t){var e=Bi(t.target);if(null!==e){var i=oe(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=le(i)))return t.blockedOn=e,void s.unstable_runWithPriority(t.priority,function(){Te(i)})}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;var e=si(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var i=Pi(e);return null!==i&&xe(i),t.blockedOn=e,!1}return!0}function Ve(t,e,i){Fe(t)&&i.delete(e)}function Ue(){for(Ee=!1;0<Me.length;){var t=Me[0];if(null!==t.blockedOn){null!==(t=Pi(t.blockedOn))&&Se(t);break}var e=si(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:Me.shift()}null!==Ce&&Fe(Ce)&&(Ce=null),null!==ke&&Fe(ke)&&(ke=null),null!==Ie&&Fe(Ie)&&(Ie=null),Ne.forEach(Ve),Oe.forEach(Ve)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ue)))}function We(t){function e(e){return je(e,t)}if(0<Me.length){je(Me[0],t);for(var i=1;i<Me.length;i++){var n=Me[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Ce&&je(Ce,t),null!==ke&&je(ke,t),null!==Ie&&je(Ie,t),Ne.forEach(e),Oe.forEach(e),i=0;i<ze.length;i++)(n=ze[i]).blockedOn===t&&(n.blockedOn=null);for(;0<ze.length&&null===(i=ze[0]).blockedOn;)Re(i),null===i.blockedOn&&ze.shift()}var $e={},He=new Map,Ke=new Map,Xe=["abort","abort",Zt,"animationEnd",te,"animationIteration",ee,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ie,"transitionEnd","waiting","waiting"];function Ye(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],s="on"+(r[0].toUpperCase()+r.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[n],eventPriority:e},Ke.set(n,e),He.set(n,s),$e[r]=s}}Ye("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ye("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ye(Xe,2);for(var qe="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Qe=0;Qe<qe.length;Qe++)Ke.set(qe[Qe],0);var Je=s.unstable_UserBlockingPriority,Ge=s.unstable_runWithPriority,Ze=!0;function ti(t,e){ei(e,t,!1)}function ei(t,e,i){var n=Ke.get(e);switch(void 0===n?2:n){case 0:n=ii.bind(null,e,1,t);break;case 1:n=ni.bind(null,e,1,t);break;default:n=ri.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function ii(t,e,i,n){H||W();var r=ri,s=H;H=!0;try{j(r,t,e,i,n)}finally{(H=s)||X()}}function ni(t,e,i,n){Ge(Je,ri.bind(null,t,e,i,n))}function ri(t,e,i,n){if(Ze)if(0<Me.length&&-1<De.indexOf(t))t=Ae(null,t,e,i,n),Me.push(t);else{var r=si(t,e,i,n);if(null===r)Be(t,n);else if(-1<De.indexOf(t))t=Ae(r,t,e,i,n),Me.push(t);else if(!function(t,e,i,n,r){switch(e){case"focus":return Ce=Pe(Ce,t,e,i,n,r),!0;case"dragenter":return ke=Pe(ke,t,e,i,n,r),!0;case"mouseover":return Ie=Pe(Ie,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return Ne.set(s,Pe(Ne.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Oe.set(s,Pe(Oe.get(s)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n)){Be(t,n),t=ge(t,n,null,e);try{Y(we,t)}finally{ve(t)}}}}function si(t,e,i,n){if(null!==(i=Bi(i=me(n)))){var r=oe(i);if(null===r)i=null;else{var s=r.tag;if(13===s){if(null!==(i=le(r)))return i;i=null}else if(3===s){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=ge(t,n,i,e);try{Y(we,t)}finally{ve(t)}return null}var oi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},li=["Webkit","ms","Moz","O"];function ai(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||oi.hasOwnProperty(t)&&oi[t]?(""+e).trim():e+"px"}function ui(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ai(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(oi).forEach(function(t){li.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oi[e]=oi[t]})});var ci=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hi(t,e){if(e){if(ci[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62,""))}}function di(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=Ut;function pi(t,e){var i=se(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=I[e];for(var n=0;n<e.length;n++)_e(e[n],t,i)}function mi(){}function bi(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(D){return t.body}}function yi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vi(t,e){var i,n=yi(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=yi(n)}}function gi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?gi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function wi(){for(var t=window,e=bi();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(C){i=!1}if(!i)break;e=bi((t=e.contentWindow).document)}return e}function _i(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Si="$?",xi="$!",Ti=null,Ei=null;function Mi(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ci(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ki="function"===typeof setTimeout?setTimeout:void 0,Ii="function"===typeof clearTimeout?clearTimeout:void 0;function Ni(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Oi(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||i===xi||i===Si){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var zi=Math.random().toString(36).slice(2),Di="__reactInternalInstance$"+zi,Li="__reactEventHandlers$"+zi,Ai="__reactContainere$"+zi;function Bi(t){var e=t[Di];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ai]||i[Di]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=Oi(t);null!==t;){if(i=t[Di])return i;t=Oi(t)}return e}i=(t=i).parentNode}return null}function Pi(t){return!(t=t[Di]||t[Ai])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Ri(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Fi(t){return t[Li]||null}function Vi(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Ui(t,e){var i=t.stateNode;if(!i)return null;var n=p(i);if(!n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}function ji(t,e,i){(e=Ui(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=ce(i._dispatchListeners,e),i._dispatchInstances=ce(i._dispatchInstances,t))}function Wi(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Vi(e);for(e=i.length;0<e--;)ji(i[e],"captured",t);for(e=0;e<i.length;e++)ji(i[e],"bubbled",t)}}function $i(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=Ui(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=ce(i._dispatchListeners,e),i._dispatchInstances=ce(i._dispatchInstances,t))}function Hi(t){t&&t.dispatchConfig.registrationName&&$i(t._targetInst,null,t)}function Ki(t){he(t,Wi)}var Xi=null,Yi=null,qi=null;function Qi(){if(qi)return qi;var t,e,i=Yi,n=i.length,r="value"in Xi?Xi.value:Xi.textContent,s=r.length;for(t=0;t<n&&i[t]===r[t];t++);var o=n-t;for(e=1;e<=o&&i[n-e]===r[s-e];e++);return qi=r.slice(t,1<e?1-e:void 0)}function Ji(){return!0}function Gi(){return!1}function Zi(t,e,i,n){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ji:Gi,this.isPropagationStopped=Gi,this}function tn(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function en(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function nn(t){t.eventPool=[],t.getPooled=tn,t.release=en}r(Zi.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){this.isPersistent=Ji},isPersistent:Gi,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gi,this._dispatchInstances=this._dispatchListeners=null}}),Zi.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Zi.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var s=new e;return r(s,i.prototype),i.prototype=s,i.prototype.constructor=i,i.Interface=r({},n.Interface,t),i.extend=n.extend,nn(i),i},nn(Zi);var rn=Zi.extend({data:null}),sn=Zi.extend({data:null}),on=[9,13,27,32],ln=O&&"CompositionEvent"in window,an=null;O&&"documentMode"in document&&(an=document.documentMode);var un=O&&"TextEvent"in window&&!an,cn=O&&(!ln||an&&8<an&&11>=an),hn=String.fromCharCode(32),dn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},fn=!1;function pn(t,e){switch(t){case"keyup":return-1!==on.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function mn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var bn=!1;var yn={eventTypes:dn,extractEvents:function(t,e,i,n){var r;if(ln)t:{switch(t){case"compositionstart":var s=dn.compositionStart;break t;case"compositionend":s=dn.compositionEnd;break t;case"compositionupdate":s=dn.compositionUpdate;break t}s=void 0}else bn?pn(t,i)&&(s=dn.compositionEnd):"keydown"===t&&229===i.keyCode&&(s=dn.compositionStart);return s?(cn&&"ko"!==i.locale&&(bn||s!==dn.compositionStart?s===dn.compositionEnd&&bn&&(r=Qi()):(Yi="value"in(Xi=n)?Xi.value:Xi.textContent,bn=!0)),s=rn.getPooled(s,e,i,n),r?s.data=r:null!==(r=mn(i))&&(s.data=r),Ki(s),r=s):r=null,(t=un?function(t,e){switch(t){case"compositionend":return mn(e);case"keypress":return 32!==e.which?null:(fn=!0,hn);case"textInput":return(t=e.data)===hn&&fn?null:t;default:return null}}(t,i):function(t,e){if(bn)return"compositionend"===t||!ln&&pn(t,e)?(t=Qi(),qi=Yi=Xi=null,bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cn&&"ko"!==e.locale?null:e.data}}(t,i))?((e=sn.getPooled(dn.beforeInput,e,i,n)).data=t,Ki(e)):e=null,null===r?e:null===e?r:[r,e]}},vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!vn[t.type]:"textarea"===e}var wn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function _n(t,e,i){return(t=Zi.getPooled(wn.change,t,e,i)).type="change",R(i),Ki(t),t}var Sn=null,xn=null;function Tn(t){pe(t)}function En(t){if(kt(Ri(t)))return t}function Mn(t,e){if("change"===t)return e}var Cn=!1;function kn(){Sn&&(Sn.detachEvent("onpropertychange",In),xn=Sn=null)}function In(t){if("value"===t.propertyName&&En(xn))if(t=_n(xn,t,me(t)),H)pe(t);else{H=!0;try{U(Tn,t)}finally{H=!1,X()}}}function Nn(t,e,i){"focus"===t?(kn(),xn=i,(Sn=e).attachEvent("onpropertychange",In)):"blur"===t&&kn()}function On(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return En(xn)}function zn(t,e){if("click"===t)return En(e)}function Dn(t,e){if("input"===t||"change"===t)return En(e)}O&&(Cn=be("input")&&(!document.documentMode||9<document.documentMode));var Ln={eventTypes:wn,_isInputEventSupported:Cn,extractEvents:function(t,e,i,n){var r=e?Ri(e):window,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type)var o=Mn;else if(gn(r))if(Cn)o=Dn;else{o=On;var l=Nn}else(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=zn);if(o&&(o=o(t,e)))return _n(o,i,n);l&&l(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Lt(r,"number",r.value)}},An=Zi.extend({view:null,detail:null}),Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Bn[t])&&!!e[t]}function Rn(){return Pn}var Fn=0,Vn=0,Un=!1,jn=!1,Wn=An.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rn,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Fn;return Fn=t.screenX,Un?"mousemove"===t.type?t.screenX-e:0:(Un=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Vn;return Vn=t.screenY,jn?"mousemove"===t.type?t.screenY-e:0:(jn=!0,0)}}),$n=Wn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Hn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Kn={eventTypes:Hn,extractEvents:function(t,e,i,n,r){var s="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(s&&0===(32&r)&&(i.relatedTarget||i.fromElement)||!o&&!s)return null;(s=n.window===n?n:(s=n.ownerDocument)?s.defaultView||s.parentWindow:window,o)?(o=e,null!==(e=(e=i.relatedTarget||i.toElement)?Bi(e):null)&&(e!==oe(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var l=Wn,a=Hn.mouseLeave,u=Hn.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(l=$n,a=Hn.pointerLeave,u=Hn.pointerEnter,c="pointer");if(t=null==o?s:Ri(o),s=null==e?s:Ri(e),(a=l.getPooled(a,o,i,n)).type=c+"leave",a.target=t,a.relatedTarget=s,(i=l.getPooled(u,e,i,n)).type=c+"enter",i.target=s,i.relatedTarget=t,c=e,(n=o)&&c)t:{for(u=c,o=0,t=l=n;t;t=Vi(t))o++;for(t=0,e=u;e;e=Vi(e))t++;for(;0<o-t;)l=Vi(l),o--;for(;0<t-o;)u=Vi(u),t--;for(;o--;){if(l===u||l===u.alternate)break t;l=Vi(l),u=Vi(u)}l=null}else l=null;for(u=l,l=[];n&&n!==u&&(null===(o=n.alternate)||o!==u);)l.push(n),n=Vi(n);for(n=[];c&&c!==u&&(null===(o=c.alternate)||o!==u);)n.push(c),c=Vi(c);for(c=0;c<l.length;c++)$i(l[c],"bubbled",a);for(c=n.length;0<c--;)$i(n[c],"captured",i);return 0===(64&r)?[a]:[a,i]}};var Xn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Yn=Object.prototype.hasOwnProperty;function qn(t,e){if(Xn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Yn.call(e,i[n])||!Xn(t[i[n]],e[i[n]]))return!1;return!0}var Qn=O&&"documentMode"in document&&11>=document.documentMode,Jn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,Zn=null,tr=null,er=!1;function ir(t,e){var i=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return er||null==Gn||Gn!==bi(i)?null:("selectionStart"in(i=Gn)&&_i(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},tr&&qn(tr,i)?null:(tr=i,(t=Zi.getPooled(Jn.select,Zn,t,e)).type="select",t.target=Gn,Ki(t),t))}var nr={eventTypes:Jn,extractEvents:function(t,e,i,n,r,s){if(!(s=!(r=s||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){t:{r=se(r),s=I.onSelect;for(var o=0;o<s.length;o++)if(!r.has(s[o])){r=!1;break t}r=!0}s=!r}if(s)return null;switch(r=e?Ri(e):window,t){case"focus":(gn(r)||"true"===r.contentEditable)&&(Gn=r,Zn=e,tr=null);break;case"blur":tr=Zn=Gn=null;break;case"mousedown":er=!0;break;case"contextmenu":case"mouseup":case"dragend":return er=!1,ir(i,n);case"selectionchange":if(Qn)break;case"keydown":case"keyup":return ir(i,n)}return null}},rr=Zi.extend({animationName:null,elapsedTime:null,pseudoElement:null}),sr=Zi.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),or=An.extend({relatedTarget:null});function lr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr=An.extend({key:function(t){if(t.key){var e=ar[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=lr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ur[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rn,charCode:function(t){return"keypress"===t.type?lr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?lr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),hr=Wn.extend({dataTransfer:null}),dr=An.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rn}),fr=Zi.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),pr=Wn.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),mr={eventTypes:$e,extractEvents:function(t,e,i,n){var r=He.get(t);if(!r)return null;switch(t){case"keypress":if(0===lr(i))return null;case"keydown":case"keyup":t=cr;break;case"blur":case"focus":t=or;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=hr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=dr;break;case Zt:case te:case ee:t=rr;break;case ie:t=fr;break;case"scroll":t=An;break;case"wheel":t=pr;break;case"copy":case"cut":case"paste":t=sr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=$n;break;default:t=Zi}return Ki(e=t.getPooled(r,e,i,n)),e}};if(g)throw Error(o(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S(),p=Fi,m=Pi,b=Ri,N({SimpleEventPlugin:mr,EnterLeaveEventPlugin:Kn,ChangeEventPlugin:Ln,SelectEventPlugin:nr,BeforeInputEventPlugin:yn});var br=[],yr=-1;function vr(t){0>yr||(t.current=br[yr],br[yr]=null,yr--)}function gr(t,e){yr++,br[yr]=t.current,t.current=e}var wr={},_r={current:wr},Sr={current:!1},xr=wr;function Tr(t,e){var i=t.type.contextTypes;if(!i)return wr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in i)s[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Er(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Mr(){vr(Sr),vr(_r)}function Cr(t,e,i){if(_r.current!==wr)throw Error(o(168));gr(_r,e),gr(Sr,i)}function kr(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var s in n=n.getChildContext())if(!(s in t))throw Error(o(108,xt(e)||"Unknown",s));return r({},i,{},n)}function Ir(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wr,xr=_r.current,gr(_r,t),gr(Sr,Sr.current),!0}function Nr(t,e,i){var n=t.stateNode;if(!n)throw Error(o(169));i?(t=kr(t,e,xr),n.__reactInternalMemoizedMergedChildContext=t,vr(Sr),vr(_r),gr(_r,t)):vr(Sr),gr(Sr,i)}var Or=s.unstable_runWithPriority,zr=s.unstable_scheduleCallback,Dr=s.unstable_cancelCallback,Lr=s.unstable_requestPaint,Ar=s.unstable_now,Br=s.unstable_getCurrentPriorityLevel,Pr=s.unstable_ImmediatePriority,Rr=s.unstable_UserBlockingPriority,Fr=s.unstable_NormalPriority,Vr=s.unstable_LowPriority,Ur=s.unstable_IdlePriority,jr={},Wr=s.unstable_shouldYield,$r=void 0!==Lr?Lr:function(){},Hr=null,Kr=null,Xr=!1,Yr=Ar(),qr=1e4>Yr?Ar:function(){return Ar()-Yr};function Qr(){switch(Br()){case Pr:return 99;case Rr:return 98;case Fr:return 97;case Vr:return 96;case Ur:return 95;default:throw Error(o(332))}}function Jr(t){switch(t){case 99:return Pr;case 98:return Rr;case 97:return Fr;case 96:return Vr;case 95:return Ur;default:throw Error(o(332))}}function Gr(t,e){return t=Jr(t),Or(t,e)}function Zr(t,e,i){return t=Jr(t),zr(t,e,i)}function ts(t){return null===Hr?(Hr=[t],Kr=zr(Pr,is)):Hr.push(t),jr}function es(){if(null!==Kr){var t=Kr;Kr=null,Dr(t)}is()}function is(){if(!Xr&&null!==Hr){Xr=!0;var t=0;try{var e=Hr;Gr(99,function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}}),Hr=null}catch(M){throw null!==Hr&&(Hr=Hr.slice(t+1)),zr(Pr,es),M}finally{Xr=!1}}}function ns(t,e,i){return 1073741821-(1+((1073741821-t+e/10)/(i/=10)|0))*i}function rs(t,e){if(t&&t.defaultProps)for(var i in e=r({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}var ss={current:null},os=null,ls=null,as=null;function us(){as=ls=os=null}function cs(t){var e=ss.current;vr(ss),t.type._context._currentValue=e}function hs(t,e){for(;null!==t;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e);else{if(!(null!==i&&i.childExpirationTime<e))break;i.childExpirationTime=e}t=t.return}}function ds(t,e){os=t,as=ls=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Vo=!0),t.firstContext=null)}function fs(t,e){if(as!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(as=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ls){if(null===os)throw Error(o(308));ls=e,os.dependencies={expirationTime:0,firstContext:e,responders:null}}else ls=ls.next=e;return t._currentValue}var ps=!1;function ms(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function bs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ys(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function vs(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function gs(t,e){var i=t.alternate;null!==i&&bs(i,t),null===(i=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function ws(t,e,i,n){var s=t.updateQueue;ps=!1;var o=s.baseQueue,l=s.shared.pending;if(null!==l){if(null!==o){var a=o.next;o.next=l.next,l.next=a}o=l,s.shared.pending=null,null!==(a=t.alternate)&&(null!==(a=a.updateQueue)&&(a.baseQueue=l))}if(null!==o){a=o.next;var u=s.baseState,c=0,h=null,d=null,f=null;if(null!==a)for(var p=a;;){if((l=p.expirationTime)<n){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=m,h=u):f=f.next=m,l>c&&(c=l)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ga(l,p.suspenseConfig);t:{var b=t,y=p;switch(l=e,m=i,y.tag){case 1:if("function"===typeof(b=y.payload)){u=b.call(m,u,l);break t}u=b;break t;case 3:b.effectTag=-4097&b.effectTag|64;case 0:if(null===(l="function"===typeof(b=y.payload)?b.call(m,u,l):b)||void 0===l)break t;u=r({},u,l);break t;case 2:ps=!0}}null!==p.callback&&(t.effectTag|=32,null===(l=s.effects)?s.effects=[p]:l.push(p))}if(null===(p=p.next)||p===a){if(null===(l=s.shared.pending))break;p=o.next=l.next,l.next=a,s.baseQueue=o=l,s.shared.pending=null}}null===f?h=u:f.next=d,s.baseState=h,s.baseQueue=f,wa(c),t.expirationTime=c,t.memoizedState=u}}function _s(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=r,r=i,"function"!==typeof n)throw Error(o(191,n));n.call(r)}}}var Ss=nt.ReactCurrentBatchConfig,xs=(new n.Component).refs;function Ts(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:r({},e,i),t.memoizedState=i,0===t.expirationTime&&(t.updateQueue.baseState=i)}var Es={isMounted:function(t){return!!(t=t._reactInternalFiber)&&oe(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=oa(),r=Ss.suspense;(r=ys(n=la(n,t,r),r)).payload=e,void 0!==i&&null!==i&&(r.callback=i),vs(t,r),aa(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=oa(),r=Ss.suspense;(r=ys(n=la(n,t,r),r)).tag=1,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),vs(t,r),aa(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=oa(),n=Ss.suspense;(n=ys(i=la(i,t,n),n)).tag=2,void 0!==e&&null!==e&&(n.callback=e),vs(t,n),aa(t,i)}};function Ms(t,e,i,n,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!qn(i,n)||!qn(r,s))}function Cs(t,e,i){var n=!1,r=wr,s=e.contextType;return"object"===typeof s&&null!==s?s=fs(s):(r=Er(e)?xr:_r.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?Tr(t,r):wr),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Es,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function ks(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&Es.enqueueReplaceState(e,e.state,null)}function Is(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=xs,ms(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=fs(s):(s=Er(e)?xr:_r.current,r.context=Tr(t,s)),ws(t,i,r,n),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(Ts(t,e,s,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Es.enqueueReplaceState(r,r.state,null),ws(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var Ns=Array.isArray;function Os(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var n=i.stateNode}if(!n)throw Error(o(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=n.refs;e===xs&&(e=n.refs={}),null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function zs(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Ds(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Va(t,e)).index=0,t.sibling=null,t}function s(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.effectTag=2,i):n:(e.effectTag=2,i):i}function l(e){return t&&null===e.alternate&&(e.effectTag=2),e}function a(t,e,i,n){return null===e||6!==e.tag?((e=Wa(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function u(t,e,i,n){return null!==e&&e.elementType===i.type?((n=r(e,i.props)).ref=Os(t,e,i),n.return=t,n):((n=Ua(i.type,i.key,i.props,null,t.mode,n)).ref=Os(t,e,i),n.return=t,n)}function c(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=$a(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function h(t,e,i,n,s){return null===e||7!==e.tag?((e=ja(i,t.mode,n,s)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=Wa(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case lt:return(i=Ua(e.type,e.key,e.props,null,t.mode,i)).ref=Os(t,null,e),i.return=t,i;case at:return(e=$a(e,t.mode,i)).return=t,e}if(Ns(e)||St(e))return(e=ja(e,t.mode,i,null)).return=t,e;zs(t,e)}return null}function f(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:a(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case lt:return i.key===r?i.type===ut?h(t,e,i.props.children,n,r):u(t,e,i,n):null;case at:return i.key===r?c(t,e,i,n):null}if(Ns(i)||St(i))return null!==r?null:h(t,e,i,n,null);zs(t,i)}return null}function p(t,e,i,n,r){if("string"===typeof n||"number"===typeof n)return a(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case lt:return t=t.get(null===n.key?i:n.key)||null,n.type===ut?h(e,t,n.props.children,r,n.key):u(e,t,n,r);case at:return c(e,t=t.get(null===n.key?i:n.key)||null,n,r)}if(Ns(n)||St(n))return h(e,t=t.get(i)||null,n,r,null);zs(e,n)}return null}function m(r,o,l,a){for(var u=null,c=null,h=o,m=o=0,b=null;null!==h&&m<l.length;m++){h.index>m?(b=h,h=null):b=h.sibling;var y=f(r,h,l[m],a);if(null===y){null===h&&(h=b);break}t&&h&&null===y.alternate&&e(r,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=b}if(m===l.length)return i(r,h),u;if(null===h){for(;m<l.length;m++)null!==(h=d(r,l[m],a))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=n(r,h);m<l.length;m++)null!==(b=p(h,r,m,l[m],a))&&(t&&null!==b.alternate&&h.delete(null===b.key?m:b.key),o=s(b,o,m),null===c?u=b:c.sibling=b,c=b);return t&&h.forEach(function(t){return e(r,t)}),u}function b(r,l,a,u){var c=St(a);if("function"!==typeof c)throw Error(o(150));if(null==(a=c.call(a)))throw Error(o(151));for(var h=c=null,m=l,b=l=0,y=null,v=a.next();null!==m&&!v.done;b++,v=a.next()){m.index>b?(y=m,m=null):y=m.sibling;var g=f(r,m,v.value,u);if(null===g){null===m&&(m=y);break}t&&m&&null===g.alternate&&e(r,m),l=s(g,l,b),null===h?c=g:h.sibling=g,h=g,m=y}if(v.done)return i(r,m),c;if(null===m){for(;!v.done;b++,v=a.next())null!==(v=d(r,v.value,u))&&(l=s(v,l,b),null===h?c=v:h.sibling=v,h=v);return c}for(m=n(r,m);!v.done;b++,v=a.next())null!==(v=p(m,r,b,v.value,u))&&(t&&null!==v.alternate&&m.delete(null===v.key?b:v.key),l=s(v,l,b),null===h?c=v:h.sibling=v,h=v);return t&&m.forEach(function(t){return e(r,t)}),c}return function(t,n,s,a){var u="object"===typeof s&&null!==s&&s.type===ut&&null===s.key;u&&(s=s.props.children);var c="object"===typeof s&&null!==s;if(c)switch(s.$$typeof){case lt:t:{for(c=s.key,u=n;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===ut){i(t,u.sibling),(n=r(u,s.props.children)).return=t,t=n;break t}}else if(u.elementType===s.type){i(t,u.sibling),(n=r(u,s.props)).ref=Os(t,u,s),n.return=t,t=n;break t}i(t,u);break}e(t,u),u=u.sibling}s.type===ut?((n=ja(s.props.children,t.mode,a,s.key)).return=t,t=n):((a=Ua(s.type,s.key,s.props,null,t.mode,a)).ref=Os(t,n,s),a.return=t,t=a)}return l(t);case at:t:{for(u=s.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===s.containerInfo&&n.stateNode.implementation===s.implementation){i(t,n.sibling),(n=r(n,s.children||[])).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=$a(s,t.mode,a)).return=t,t=n}return l(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==n&&6===n.tag?(i(t,n.sibling),(n=r(n,s)).return=t,t=n):(i(t,n),(n=Wa(s,t.mode,a)).return=t,t=n),l(t);if(Ns(s))return m(t,n,s,a);if(St(s))return b(t,n,s,a);if(c&&zs(t,s),"undefined"===typeof s&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return i(t,n)}}var Ls=Ds(!0),As=Ds(!1),Bs={},Ps={current:Bs},Rs={current:Bs},Fs={current:Bs};function Vs(t){if(t===Bs)throw Error(o(174));return t}function Us(t,e){switch(gr(Fs,e),gr(Rs,t),gr(Ps,Bs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$t(null,"");break;default:e=$t(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}vr(Ps),gr(Ps,e)}function js(){vr(Ps),vr(Rs),vr(Fs)}function Ws(t){Vs(Fs.current);var e=Vs(Ps.current),i=$t(e,t.type);e!==i&&(gr(Rs,t),gr(Ps,i))}function $s(t){Rs.current===t&&(vr(Ps),vr(Rs))}var Hs={current:0};function Ks(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||i.data===Si||i.data===xi))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Xs(t,e){return{responder:t,props:e}}var Ys=nt.ReactCurrentDispatcher,qs=nt.ReactCurrentBatchConfig,Qs=0,Js=null,Gs=null,Zs=null,to=!1;function eo(){throw Error(o(321))}function io(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Xn(t[i],e[i]))return!1;return!0}function no(t,e,i,n,r,s){if(Qs=s,Js=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ys.current=null===t||null===t.memoizedState?Co:ko,t=i(n,r),e.expirationTime===Qs){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Zs=Gs=null,e.updateQueue=null,Ys.current=Io,t=i(n,r)}while(e.expirationTime===Qs)}if(Ys.current=Mo,e=null!==Gs&&null!==Gs.next,Qs=0,Zs=Gs=Js=null,to=!1,e)throw Error(o(300));return t}function ro(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zs?Js.memoizedState=Zs=t:Zs=Zs.next=t,Zs}function so(){if(null===Gs){var t=Js.alternate;t=null!==t?t.memoizedState:null}else t=Gs.next;var e=null===Zs?Js.memoizedState:Zs.next;if(null!==e)Zs=e,Gs=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Gs=t).memoizedState,baseState:Gs.baseState,baseQueue:Gs.baseQueue,queue:Gs.queue,next:null},null===Zs?Js.memoizedState=Zs=t:Zs=Zs.next=t}return Zs}function oo(t,e){return"function"===typeof e?e(t):e}function lo(t){var e=so(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=Gs,r=n.baseQueue,s=i.pending;if(null!==s){if(null!==r){var l=r.next;r.next=s.next,s.next=l}n.baseQueue=r=s,i.pending=null}if(null!==r){r=r.next,n=n.baseState;var a=l=s=null,u=r;do{var c=u.expirationTime;if(c<Qs){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===a?(l=a=h,s=n):a=a.next=h,c>Js.expirationTime&&(Js.expirationTime=c,wa(c))}else null!==a&&(a=a.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ga(c,u.suspenseConfig),n=u.eagerReducer===t?u.eagerState:t(n,u.action);u=u.next}while(null!==u&&u!==r);null===a?s=n:a.next=l,Xn(n,e.memoizedState)||(Vo=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=a,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function ao(t){var e=so(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,s=e.memoizedState;if(null!==r){i.pending=null;var l=r=r.next;do{s=t(s,l.action),l=l.next}while(l!==r);Xn(s,e.memoizedState)||(Vo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),i.lastRenderedState=s}return[s,n]}function uo(t){var e=ro();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:t}).dispatch=Eo.bind(null,Js,t),[e.memoizedState,t]}function co(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=Js.updateQueue)?(e={lastEffect:null},Js.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function ho(){return so().memoizedState}function fo(t,e,i,n){var r=ro();Js.effectTag|=t,r.memoizedState=co(1|e,i,void 0,void 0===n?null:n)}function po(t,e,i,n){var r=so();n=void 0===n?null:n;var s=void 0;if(null!==Gs){var o=Gs.memoizedState;if(s=o.destroy,null!==n&&io(n,o.deps))return void co(e,i,s,n)}Js.effectTag|=t,r.memoizedState=co(1|e,i,s,n)}function mo(t,e){return fo(516,4,t,e)}function bo(t,e){return po(516,4,t,e)}function yo(t,e){return po(4,2,t,e)}function vo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function go(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,po(4,2,vo.bind(null,e,t),i)}function wo(){}function _o(t,e){return ro().memoizedState=[t,void 0===e?null:e],t}function So(t,e){var i=so();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&io(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function xo(t,e){var i=so();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&io(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function To(t,e,i){var n=Qr();Gr(98>n?98:n,function(){t(!0)}),Gr(97<n?97:n,function(){var n=qs.suspense;qs.suspense=void 0===e?null:e;try{t(!1),i()}finally{qs.suspense=n}})}function Eo(t,e,i){var n=oa(),r=Ss.suspense;r={expirationTime:n=la(n,t,r),suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(null===s?r.next=r:(r.next=s.next,s.next=r),e.pending=r,s=t.alternate,t===Js||null!==s&&s===Js)to=!0,r.expirationTime=Qs,Js.expirationTime=Qs;else{if(0===t.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,l=s(o,i);if(r.eagerReducer=s,r.eagerState=l,Xn(l,o))return}catch(F){}aa(t,n)}}var Mo={readContext:fs,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useResponder:eo,useDeferredValue:eo,useTransition:eo},Co={readContext:fs,useCallback:_o,useContext:fs,useEffect:mo,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,fo(4,2,vo.bind(null,e,t),i)},useLayoutEffect:function(t,e){return fo(4,2,t,e)},useMemo:function(t,e){var i=ro();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=ro();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Eo.bind(null,Js,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},ro().memoizedState=t},useState:uo,useDebugValue:wo,useResponder:Xs,useDeferredValue:function(t,e){var i=uo(t),n=i[0],r=i[1];return mo(function(){var i=qs.suspense;qs.suspense=void 0===e?null:e;try{r(t)}finally{qs.suspense=i}},[t,e]),n},useTransition:function(t){var e=uo(!1),i=e[0];return e=e[1],[_o(To.bind(null,e,t),[e,t]),i]}},ko={readContext:fs,useCallback:So,useContext:fs,useEffect:bo,useImperativeHandle:go,useLayoutEffect:yo,useMemo:xo,useReducer:lo,useRef:ho,useState:function(){return lo(oo)},useDebugValue:wo,useResponder:Xs,useDeferredValue:function(t,e){var i=lo(oo),n=i[0],r=i[1];return bo(function(){var i=qs.suspense;qs.suspense=void 0===e?null:e;try{r(t)}finally{qs.suspense=i}},[t,e]),n},useTransition:function(t){var e=lo(oo),i=e[0];return e=e[1],[So(To.bind(null,e,t),[e,t]),i]}},Io={readContext:fs,useCallback:So,useContext:fs,useEffect:bo,useImperativeHandle:go,useLayoutEffect:yo,useMemo:xo,useReducer:ao,useRef:ho,useState:function(){return ao(oo)},useDebugValue:wo,useResponder:Xs,useDeferredValue:function(t,e){var i=ao(oo),n=i[0],r=i[1];return bo(function(){var i=qs.suspense;qs.suspense=void 0===e?null:e;try{r(t)}finally{qs.suspense=i}},[t,e]),n},useTransition:function(t){var e=ao(oo),i=e[0];return e=e[1],[So(To.bind(null,e,t),[e,t]),i]}},No=null,Oo=null,zo=!1;function Do(t,e){var i=Ra(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function Lo(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ao(t){if(zo){var e=Oo;if(e){var i=e;if(!Lo(t,e)){if(!(e=Ni(i.nextSibling))||!Lo(t,e))return t.effectTag=-1025&t.effectTag|2,zo=!1,void(No=t);Do(No,i)}No=t,Oo=Ni(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,zo=!1,No=t}}function Bo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;No=t}function Po(t){if(t!==No)return!1;if(!zo)return Bo(t),zo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ci(e,t.memoizedProps))for(e=Oo;e;)Do(t,e),e=Ni(e.nextSibling);if(Bo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){Oo=Ni(t.nextSibling);break t}e--}else"$"!==i&&i!==xi&&i!==Si||e++}t=t.nextSibling}Oo=null}}else Oo=No?Ni(t.stateNode.nextSibling):null;return!0}function Ro(){Oo=No=null,zo=!1}var Fo=nt.ReactCurrentOwner,Vo=!1;function Uo(t,e,i,n){e.child=null===t?As(e,null,i,n):Ls(e,t.child,i,n)}function jo(t,e,i,n,r){i=i.render;var s=e.ref;return ds(e,r),n=no(t,e,i,n,s,r),null===t||Vo?(e.effectTag|=1,Uo(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),rl(t,e,r))}function Wo(t,e,i,n,r,s){if(null===t){var o=i.type;return"function"!==typeof o||Fa(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Ua(i.type,null,n,null,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,$o(t,e,o,n,r,s))}return o=t.child,r<s&&(r=o.memoizedProps,(i=null!==(i=i.compare)?i:qn)(r,n)&&t.ref===e.ref)?rl(t,e,s):(e.effectTag|=1,(t=Va(o,n)).ref=e.ref,t.return=e,e.child=t)}function $o(t,e,i,n,r,s){return null!==t&&qn(t.memoizedProps,n)&&t.ref===e.ref&&(Vo=!1,r<s)?(e.expirationTime=t.expirationTime,rl(t,e,s)):Ko(t,e,i,n,s)}function Ho(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function Ko(t,e,i,n,r){var s=Er(i)?xr:_r.current;return s=Tr(e,s),ds(e,r),i=no(t,e,i,n,s,r),null===t||Vo?(e.effectTag|=1,Uo(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),rl(t,e,r))}function Xo(t,e,i,n,r){if(Er(i)){var s=!0;Ir(e)}else s=!1;if(ds(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Cs(e,i,n),Is(e,i,n,r),n=!0;else if(null===t){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=i.contextType;"object"===typeof u&&null!==u?u=fs(u):u=Tr(e,u=Er(i)?xr:_r.current);var c=i.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==n||a!==u)&&ks(e,o,n,u),ps=!1;var d=e.memoizedState;o.state=d,ws(e,n,o,r),a=e.memoizedState,l!==n||d!==a||Sr.current||ps?("function"===typeof c&&(Ts(e,i,c,n),a=e.memoizedState),(l=ps||Ms(e,i,l,n,d,a,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):("function"===typeof o.componentDidMount&&(e.effectTag|=4),n=!1)}else o=e.stateNode,bs(t,e),l=e.memoizedProps,o.props=e.type===e.elementType?l:rs(e.type,l),a=o.context,"object"===typeof(u=i.contextType)&&null!==u?u=fs(u):u=Tr(e,u=Er(i)?xr:_r.current),(h="function"===typeof(c=i.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==n||a!==u)&&ks(e,o,n,u),ps=!1,a=e.memoizedState,o.state=a,ws(e,n,o,r),d=e.memoizedState,l!==n||a!==d||Sr.current||ps?("function"===typeof c&&(Ts(e,i,c,n),d=e.memoizedState),(c=ps||Ms(e,i,l,n,a,d,u))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,u)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=u,n=c):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=256),n=!1);return Yo(t,e,i,n,s,r)}function Yo(t,e,i,n,r,s){Ho(t,e);var o=0!==(64&e.effectTag);if(!n&&!o)return r&&Nr(e,i,!1),rl(t,e,s);n=e.stateNode,Fo.current=e;var l=o&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&o?(e.child=Ls(e,t.child,null,s),e.child=Ls(e,null,l,s)):Uo(t,e,l,s),e.memoizedState=n.state,r&&Nr(e,i,!0),e.child}function qo(t){var e=t.stateNode;e.pendingContext?Cr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Cr(0,e.context,!1),Us(t,e.containerInfo)}var Qo,Jo,Go,Zo={dehydrated:null,retryTime:0};function tl(t,e,i){var n,r=e.mode,s=e.pendingProps,o=Hs.current,l=!1;if((n=0!==(64&e.effectTag))||(n=0!==(2&o)&&(null===t||null!==t.memoizedState)),n?(l=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(o|=1),gr(Hs,1&o),null===t){if(void 0!==s.fallback&&Ao(e),l){if(l=s.fallback,(s=ja(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=ja(l,r,i,null)).return=e,s.sibling=i,e.memoizedState=Zo,e.child=s,i}return r=s.children,e.memoizedState=null,e.child=As(e,null,r,i)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,l){if(s=s.fallback,(i=Va(t,t.pendingProps)).return=e,0===(2&e.mode)&&(l=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(i.child=l;null!==l;)l.return=i,l=l.sibling;return(r=Va(r,s)).return=e,i.sibling=r,i.childExpirationTime=0,e.memoizedState=Zo,e.child=i,r}return i=Ls(e,t.child,s.children,i),e.memoizedState=null,e.child=i}if(t=t.child,l){if(l=s.fallback,(s=ja(null,r,0,null)).return=e,s.child=t,null!==t&&(t.return=s),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=ja(l,r,i,null)).return=e,s.sibling=i,i.effectTag|=2,s.childExpirationTime=0,e.memoizedState=Zo,e.child=s,i}return e.memoizedState=null,e.child=Ls(e,t,s.children,i)}function el(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e),hs(t.return,e)}function il(t,e,i,n,r,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=i,o.tailExpiration=0,o.tailMode=r,o.lastEffect=s)}function nl(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Uo(t,e,n.children,i),0!==(2&(n=Hs.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&el(t,i);else if(19===t.tag)el(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(gr(Hs,n),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===Ks(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),il(e,!1,r,i,s,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===Ks(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}il(e,!0,i,null,s,e.lastEffect);break;case"together":il(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function rl(t,e,i){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&wa(n),e.childExpirationTime<i)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=Va(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Va(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function sl(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ol(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Er(e.type)&&Mr(),null;case 3:return js(),vr(Sr),vr(_r),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||!Po(e)||(e.effectTag|=4),null;case 5:$s(e),i=Vs(Fs.current);var s=e.type;if(null!==t&&null!=e.stateNode)Jo(t,e,s,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(null===e.stateNode)throw Error(o(166));return null}if(t=Vs(Ps.current),Po(e)){n=e.stateNode,s=e.type;var l=e.memoizedProps;switch(n[Di]=e,n[Li]=l,s){case"iframe":case"object":case"embed":ti("load",n);break;case"video":case"audio":for(t=0;t<ne.length;t++)ti(ne[t],n);break;case"source":ti("error",n);break;case"img":case"image":case"link":ti("error",n),ti("load",n);break;case"form":ti("reset",n),ti("submit",n);break;case"details":ti("toggle",n);break;case"input":Nt(n,l),ti("invalid",n),pi(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!l.multiple},ti("invalid",n),pi(i,"onChange");break;case"textarea":Rt(n,l),ti("invalid",n),pi(i,"onChange")}for(var a in hi(s,l),t=null,l)if(l.hasOwnProperty(a)){var u=l[a];"children"===a?"string"===typeof u?n.textContent!==u&&(t=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(t=["children",""+u]):k.hasOwnProperty(a)&&null!=u&&pi(i,a)}switch(s){case"input":Ct(n),Dt(n,l,!0);break;case"textarea":Ct(n),Vt(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=mi)}i=t,e.updateQueue=i,null!==i&&(e.effectTag|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,t===fi&&(t=Wt(s)),t===fi?"script"===s?((t=a.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=a.createElement(s,{is:n.is}):(t=a.createElement(s),"select"===s&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,s),t[Di]=e,t[Li]=n,Qo(t,e),e.stateNode=t,a=di(s,n),s){case"iframe":case"object":case"embed":ti("load",t),u=n;break;case"video":case"audio":for(u=0;u<ne.length;u++)ti(ne[u],t);u=n;break;case"source":ti("error",t),u=n;break;case"img":case"image":case"link":ti("error",t),ti("load",t),u=n;break;case"form":ti("reset",t),ti("submit",t),u=n;break;case"details":ti("toggle",t),u=n;break;case"input":Nt(t,n),u=It(t,n),ti("invalid",t),pi(i,"onChange");break;case"option":u=At(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},u=r({},n,{value:void 0}),ti("invalid",t),pi(i,"onChange");break;case"textarea":Rt(t,n),u=Pt(t,n),ti("invalid",t),pi(i,"onChange");break;default:u=n}hi(s,u);var c=u;for(l in c)if(c.hasOwnProperty(l)){var h=c[l];"style"===l?ui(t,h):"dangerouslySetInnerHTML"===l?null!=(h=h?h.__html:void 0)&&Kt(t,h):"children"===l?"string"===typeof h?("textarea"!==s||""!==h)&&Xt(t,h):"number"===typeof h&&Xt(t,""+h):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(k.hasOwnProperty(l)?null!=h&&pi(i,l):null!=h&&rt(t,l,h,a))}switch(s){case"input":Ct(t),Dt(t,n,!1);break;case"textarea":Ct(t),Vt(t);break;case"option":null!=n.value&&t.setAttribute("value",""+Et(n.value));break;case"select":t.multiple=!!n.multiple,null!=(i=n.value)?Bt(t,!!n.multiple,i,!1):null!=n.defaultValue&&Bt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=mi)}Mi(s,n)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Go(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));i=Vs(Fs.current),Vs(Ps.current),Po(e)?(i=e.stateNode,n=e.memoizedProps,i[Di]=e,i.nodeValue!==n&&(e.effectTag|=4)):((i=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[Di]=e,e.stateNode=i)}return null;case 13:return vr(Hs),n=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=i,e):(i=null!==n,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Po(e):(n=null!==(s=t.memoizedState),i||null===s||null!==(s=t.child.sibling)&&(null!==(l=e.firstEffect)?(e.firstEffect=s,s.nextEffect=l):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),i&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Hs.current)?Ul===Ll&&(Ul=Al):(Ul!==Ll&&Ul!==Al||(Ul=Bl),0!==Kl&&null!==Rl&&(Xa(Rl,Vl),Ya(Rl,Kl)))),(i||n)&&(e.effectTag|=4),null);case 4:return js(),null;case 10:return cs(e),null;case 19:if(vr(Hs),null===(n=e.memoizedState))return null;if(s=0!==(64&e.effectTag),null===(l=n.rendering)){if(s)sl(n,!1);else if(Ul!==Ll||null!==t&&0!==(64&t.effectTag))for(l=e.child;null!==l;){if(null!==(t=Ks(l))){for(e.effectTag|=64,sl(n,!1),null!==(s=t.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;null!==n;)l=i,(s=n).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(t=s.alternate)?(s.childExpirationTime=0,s.expirationTime=l,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=t.childExpirationTime,s.expirationTime=t.expirationTime,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,l=t.dependencies,s.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),n=n.sibling;return gr(Hs,1&Hs.current|2),e.child}l=l.sibling}}else{if(!s)if(null!==(t=Ks(l))){if(e.effectTag|=64,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),sl(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*qr()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,s=!0,sl(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=n.last)?i.sibling=l:e.child=l,n.last=l)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=qr()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=qr(),i.sibling=null,e=Hs.current,gr(Hs,s?1&e|2:1&e),i):null}throw Error(o(156,e.tag))}function ll(t){switch(t.tag){case 1:Er(t.type)&&Mr();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(js(),vr(Sr),vr(_r),0!==(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return $s(t),null;case 13:return vr(Hs),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return vr(Hs),null;case 4:return js(),null;case 10:return cs(t),null;default:return null}}function al(t,e){return{value:t,source:e,stack:Tt(e)}}Qo=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Jo=function(t,e,i,n,s){var o=t.memoizedProps;if(o!==n){var l,a,u=e.stateNode;switch(Vs(Ps.current),t=null,i){case"input":o=It(u,o),n=It(u,n),t=[];break;case"option":o=At(u,o),n=At(u,n),t=[];break;case"select":o=r({},o,{value:void 0}),n=r({},n,{value:void 0}),t=[];break;case"textarea":o=Pt(u,o),n=Pt(u,n),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(u.onclick=mi)}for(l in hi(i,n),i=null,o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l)for(a in u=o[l])u.hasOwnProperty(a)&&(i||(i={}),i[a]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(k.hasOwnProperty(l)?t||(t=[]):(t=t||[]).push(l,null));for(l in n){var c=n[l];if(u=null!=o?o[l]:void 0,n.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(i||(i={}),i[a]=c[a])}else i||(t||(t=[]),t.push(l,i)),i=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(l,c)):"children"===l?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(k.hasOwnProperty(l)?(null!=c&&pi(s,l),t||u===c||(t=[])):(t=t||[]).push(l,c))}i&&(t=t||[]).push("style",i),s=t,(e.updateQueue=s)&&(e.effectTag|=4)}},Go=function(t,e,i,n){i!==n&&(e.effectTag|=4)};var ul="function"===typeof WeakSet?WeakSet:Set;function cl(t,e){var i=e.source,n=e.stack;null===n&&null!==i&&(n=Tt(i)),null!==i&&xt(i.type),e=e.value,null!==t&&1===t.tag&&xt(t.type);try{console.error(e)}catch(v){setTimeout(function(){throw v})}}function hl(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(M){za(t,M)}else e.current=null}function dl(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var i=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:rs(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(o(163))}function fl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,void 0!==n&&n()}i=i.next}while(i!==e)}}function pl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function ml(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:return void pl(3,i);case 1:if(t=i.stateNode,4&i.effectTag)if(null===e)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:rs(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=i.updateQueue)&&_s(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:case 1:t=i.child.stateNode}_s(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.effectTag&&Mi(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&We(i)))))}throw Error(o(163))}function bl(t,e,i){switch("function"===typeof Ba&&Ba(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;Gr(97<i?97:i,function(){var t=n;do{var i=t.destroy;if(void 0!==i){var r=e;try{i()}catch(w){za(r,w)}}t=t.next}while(t!==n)})}break;case 1:hl(e),"function"===typeof(i=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){za(t,i)}}(e,i);break;case 5:hl(e);break;case 4:Sl(t,e,i)}}function yl(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&yl(e)}function vl(t){return 5===t.tag||3===t.tag||4===t.tag}function gl(t){t:{for(var e=t.return;null!==e;){if(vl(e)){var i=e;break t}e=e.return}throw Error(o(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(o(161))}16&i.effectTag&&(Xt(e,""),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||vl(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}n?wl(t,i,e):_l(t,i,e)}function wl(t,e,i){var n=t.tag,r=5===n||6===n;if(r)t=r?t.stateNode:t.stateNode.instance,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=mi));else if(4!==n&&null!==(t=t.child))for(wl(t,e,i),t=t.sibling;null!==t;)wl(t,e,i),t=t.sibling}function _l(t,e,i){var n=t.tag,r=5===n||6===n;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(_l(t,e,i),t=t.sibling;null!==t;)_l(t,e,i),t=t.sibling}function Sl(t,e,i){for(var n,r,s=e,l=!1;;){if(!l){l=s.return;t:for(;;){if(null===l)throw Error(o(160));switch(n=l.stateNode,l.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}l=l.return}l=!0}if(5===s.tag||6===s.tag){t:for(var a=t,u=s,c=i,h=u;;)if(bl(a,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break t;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(a=n,u=s.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){n=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(bl(t,s,i),null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return;4===(s=s.return).tag&&(l=!1)}s.sibling.return=s.return,s=s.sibling}}function xl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void fl(3,e);case 1:case 12:case 17:return;case 5:var i=e.stateNode;if(null!=i){var n=e.memoizedProps,r=null!==t?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(i[Li]=n,"input"===t&&"radio"===n.type&&null!=n.name&&Ot(i,n),di(t,r),e=di(t,n),r=0;r<s.length;r+=2){var l=s[r],a=s[r+1];"style"===l?ui(i,a):"dangerouslySetInnerHTML"===l?Kt(i,a):"children"===l?Xt(i,a):rt(i,l,a,e)}switch(t){case"input":zt(i,n);break;case"textarea":Ft(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?Bt(i,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?Bt(i,!!n.multiple,n.defaultValue,!0):Bt(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,We(e.containerInfo)));case 13:if(i=e,null===e.memoizedState?n=!1:(n=!0,i=e.child,Yl=qr()),null!==i)t:for(t=i;;){if(5===t.tag)s=t.stateNode,n?"function"===typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,s.style.display=ai("display",r));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(s=t.child.sibling).return=t,t=s;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===i)break;for(;null===t.sibling;){if(null===t.return||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void Tl(e);case 19:return void Tl(e)}throw Error(o(163))}function Tl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new ul),e.forEach(function(e){var n=La.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))})}}var El="function"===typeof WeakMap?WeakMap:Map;function Ml(t,e,i){(i=ys(i,null)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Ql||(Ql=!0,Jl=n),cl(t,e)},i}function Cl(t,e,i){(i=ys(i,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return cl(t,e),n(r)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===Gl?Gl=new Set([this]):Gl.add(this),cl(t,e));var i=e.stack;this.componentDidCatch(e.value,{componentStack:null!==i?i:""})}),i}var kl,Il=Math.ceil,Nl=nt.ReactCurrentDispatcher,Ol=nt.ReactCurrentOwner,zl=16,Dl=32,Ll=0,Al=3,Bl=4,Pl=0,Rl=null,Fl=null,Vl=0,Ul=Ll,jl=null,Wl=1073741823,$l=1073741823,Hl=null,Kl=0,Xl=!1,Yl=0,ql=null,Ql=!1,Jl=null,Gl=null,Zl=!1,ta=null,ea=90,ia=null,na=0,ra=null,sa=0;function oa(){return 0!==(48&Pl)?1073741821-(qr()/10|0):0!==sa?sa:sa=1073741821-(qr()/10|0)}function la(t,e,i){if(0===(2&(e=e.mode)))return 1073741823;var n=Qr();if(0===(4&e))return 99===n?1073741823:1073741822;if(0!==(Pl&zl))return Vl;if(null!==i)t=ns(t,0|i.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=ns(t,150,100);break;case 97:case 96:t=ns(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==Rl&&t===Vl&&--t,t}function aa(t,e){if(50<na)throw na=0,ra=null,Error(o(185));if(null!==(t=ua(t,e))){var i=Qr();1073741823===e?0!==(8&Pl)&&0===(48&Pl)?fa(t):(ha(t),0===Pl&&es()):ha(t),0===(4&Pl)||98!==i&&99!==i||(null===ia?ia=new Map([[t,e]]):(void 0===(i=ia.get(t))||i>e)&&ia.set(t,e))}}function ua(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(null===n&&3===t.tag)r=t.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(Rl===r&&(wa(e),Ul===Bl&&Xa(r,Vl)),Ya(r,e)),r}function ca(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Ka(t,e=t.firstPendingTime))return e;var i=t.lastPingedTime;return 2>=(t=i>(t=t.nextKnownPendingLevel)?i:t)&&e!==t?0:t}function ha(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=ts(fa.bind(null,t));else{var e=ca(t),i=t.callbackNode;if(0===e)null!==i&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=oa();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==i){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==jr&&Dr(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?ts(fa.bind(null,t)):Zr(n,da.bind(null,t),{timeout:10*(1073741821-e)-qr()}),t.callbackNode=e}}}function da(t,e){if(sa=0,e)return qa(t,e=oa()),ha(t),null;var i=ca(t);if(0!==i){if(e=t.callbackNode,0!==(48&Pl))throw Error(o(327));if(Ia(),t===Rl&&i===Vl||ba(t,i),null!==Fl){var n=Pl;Pl|=zl;for(var r=va();;)try{Sa();break}catch(w){ya(t,w)}if(us(),Pl=n,Nl.current=r,1===Ul)throw e=jl,ba(t,i),Xa(t,i),ha(t),e;if(null===Fl)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=Ul,Rl=null,n){case Ll:case 1:throw Error(o(345));case 2:qa(t,2<i?2:i);break;case Al:if(Xa(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ea(r)),1073741823===Wl&&10<(r=Yl+500-qr())){if(Xl){var s=t.lastPingedTime;if(0===s||s>=i){t.lastPingedTime=i,ba(t,i);break}}if(0!==(s=ca(t))&&s!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=ki(Ma.bind(null,t),r);break}Ma(t);break;case Bl:if(Xa(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Ea(r)),Xl&&(0===(r=t.lastPingedTime)||r>=i)){t.lastPingedTime=i,ba(t,i);break}if(0!==(r=ca(t))&&r!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}if(1073741823!==$l?n=10*(1073741821-$l)-qr():1073741823===Wl?n=0:(n=10*(1073741821-Wl)-5e3,0>(n=(r=qr())-n)&&(n=0),(i=10*(1073741821-i)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Il(n/1960))-n)&&(n=i)),10<n){t.timeoutHandle=ki(Ma.bind(null,t),n);break}Ma(t);break;case 5:if(1073741823!==Wl&&null!==Hl){s=Wl;var l=Hl;if(0>=(n=0|l.busyMinDurationMs)?n=0:(r=0|l.busyDelayMs,n=(s=qr()-(10*(1073741821-s)-(0|l.timeoutMs||5e3)))<=r?0:r+n-s),10<n){Xa(t,i),t.timeoutHandle=ki(Ma.bind(null,t),n);break}}Ma(t);break;default:throw Error(o(329))}if(ha(t),t.callbackNode===e)return da.bind(null,t)}}return null}function fa(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Pl))throw Error(o(327));if(Ia(),t===Rl&&e===Vl||ba(t,e),null!==Fl){var i=Pl;Pl|=zl;for(var n=va();;)try{_a();break}catch(v){ya(t,v)}if(us(),Pl=i,Nl.current=n,1===Ul)throw i=jl,ba(t,e),Xa(t,e),ha(t),i;if(null!==Fl)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Rl=null,Ma(t),ha(t)}return null}function pa(t,e){var i=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=i)&&es()}}function ma(t,e){var i=Pl;Pl&=-2,Pl|=8;try{return t(e)}finally{0===(Pl=i)&&es()}}function ba(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,Ii(i)),null!==Fl)for(i=Fl.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Mr();break;case 3:js(),vr(Sr),vr(_r);break;case 5:$s(n);break;case 4:js();break;case 13:case 19:vr(Hs);break;case 10:cs(n)}i=i.return}Rl=t,Fl=Va(t.current,null),Vl=e,Ul=Ll,jl=null,$l=Wl=1073741823,Hl=null,Kl=0,Xl=!1}function ya(t,e){for(;;){try{if(us(),Ys.current=Mo,to)for(var i=Js.memoizedState;null!==i;){var n=i.queue;null!==n&&(n.pending=null),i=i.next}if(Qs=0,Zs=Gs=Js=null,to=!1,null===Fl||null===Fl.return)return Ul=1,jl=e,Fl=null;t:{var r=t,s=Fl.return,o=Fl,l=e;if(e=Vl,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var a=l;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&Hs.current),h=s;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var m=h.updateQueue;if(null===m){var b=new Set;b.add(a),h.updateQueue=b}else m.add(a);if(0===(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=ys(1073741823,null);y.tag=2,vs(o,y)}o.expirationTime=1073741823;break t}l=void 0,o=e;var v=r.pingCache;if(null===v?(v=r.pingCache=new El,l=new Set,v.set(a,l)):void 0===(l=v.get(a))&&(l=new Set,v.set(a,l)),!l.has(o)){l.add(o);var g=Da.bind(null,r,a,o);a.then(g,g)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);l=Error((xt(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Tt(o))}5!==Ul&&(Ul=2),l=al(l,o),h=s;do{switch(h.tag){case 3:a=l,h.effectTag|=4096,h.expirationTime=e,gs(h,Ml(h,a,e));break t;case 1:a=l;var w=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gl||!Gl.has(_)))){h.effectTag|=4096,h.expirationTime=e,gs(h,Cl(h,a,e));break t}}h=h.return}while(null!==h)}Fl=Ta(Fl)}catch(S){e=S;continue}break}}function va(){var t=Nl.current;return Nl.current=Mo,null===t?Mo:t}function ga(t,e){t<Wl&&2<t&&(Wl=t),null!==e&&t<$l&&2<t&&($l=t,Hl=e)}function wa(t){t>Kl&&(Kl=t)}function _a(){for(;null!==Fl;)Fl=xa(Fl)}function Sa(){for(;null!==Fl&&!Wr();)Fl=xa(Fl)}function xa(t){var e=kl(t.alternate,t,Vl);return t.memoizedProps=t.pendingProps,null===e&&(e=Ta(t)),Ol.current=null,e}function Ta(t){Fl=t;do{var e=Fl.alternate;if(t=Fl.return,0===(2048&Fl.effectTag)){if(e=ol(e,Fl,Vl),1===Vl||1!==Fl.childExpirationTime){for(var i=0,n=Fl.child;null!==n;){var r=n.expirationTime,s=n.childExpirationTime;r>i&&(i=r),s>i&&(i=s),n=n.sibling}Fl.childExpirationTime=i}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Fl.firstEffect),null!==Fl.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Fl.firstEffect),t.lastEffect=Fl.lastEffect),1<Fl.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Fl:t.firstEffect=Fl,t.lastEffect=Fl))}else{if(null!==(e=ll(Fl)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Fl.sibling))return e;Fl=t}while(null!==Fl);return Ul===Ll&&(Ul=5),null}function Ea(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Ma(t){var e=Qr();return Gr(99,Ca.bind(null,t,e)),null}function Ca(t,e){do{Ia()}while(null!==ta);if(0!==(48&Pl))throw Error(o(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(null===i)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=Ea(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Rl&&(Fl=Rl=null,Vl=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){var s=Pl;Pl|=Dl,Ol.current=null,Ti=Ze;var l=wi();if(_i(l)){if("selectionStart"in l)var a={start:l.selectionStart,end:l.selectionEnd};else t:{var u=(a=(a=l.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(u&&0!==u.rangeCount){a=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{a.nodeType,h.nodeType}catch(M){a=null;break t}var d=0,f=-1,p=-1,m=0,b=0,y=l,v=null;e:for(;;){for(var g;y!==a||0!==c&&3!==y.nodeType||(f=d+c),y!==h||0!==u&&3!==y.nodeType||(p=d+u),3===y.nodeType&&(d+=y.nodeValue.length),null!==(g=y.firstChild);)v=y,y=g;for(;;){if(y===l)break e;if(v===a&&++m===c&&(f=d),v===h&&++b===u&&(p=d),null!==(g=y.nextSibling))break;v=(y=v).parentNode}y=g}a=-1===f||-1===p?null:{start:f,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;Ei={activeElementDetached:null,focusedElem:l,selectionRange:a},Ze=!1,ql=r;do{try{ka()}catch(M){if(null===ql)throw Error(o(330));za(ql,M),ql=ql.nextEffect}}while(null!==ql);ql=r;do{try{for(l=t,a=e;null!==ql;){var w=ql.effectTag;if(16&w&&Xt(ql.stateNode,""),128&w){var _=ql.alternate;if(null!==_){var S=_.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&w){case 2:gl(ql),ql.effectTag&=-3;break;case 6:gl(ql),ql.effectTag&=-3,xl(ql.alternate,ql);break;case 1024:ql.effectTag&=-1025;break;case 1028:ql.effectTag&=-1025,xl(ql.alternate,ql);break;case 4:xl(ql.alternate,ql);break;case 8:Sl(l,c=ql,a),yl(c)}ql=ql.nextEffect}}catch(M){if(null===ql)throw Error(o(330));za(ql,M),ql=ql.nextEffect}}while(null!==ql);if(S=Ei,_=wi(),w=S.focusedElem,a=S.selectionRange,_!==w&&w&&w.ownerDocument&&gi(w.ownerDocument.documentElement,w)){null!==a&&_i(w)&&(_=a.start,void 0===(S=a.end)&&(S=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(S,w.value.length)):(S=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(S=S.getSelection(),c=w.textContent.length,l=Math.min(a.start,c),a=void 0===a.end?l:Math.min(a.end,c),!S.extend&&l>a&&(c=a,a=l,l=c),c=vi(w,l),h=vi(w,a),c&&h&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==h.node||S.focusOffset!==h.offset)&&((_=_.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),l>a?(S.addRange(_),S.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),S.addRange(_))))),_=[];for(S=w;S=S.parentNode;)1===S.nodeType&&_.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(S=_[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Ze=!!Ti,Ei=Ti=null,t.current=i,ql=r;do{try{for(w=t;null!==ql;){var x=ql.effectTag;if(36&x&&ml(w,ql.alternate,ql),128&x){_=void 0;var T=ql.ref;if(null!==T){var E=ql.stateNode;ql.tag,_=E,"function"===typeof T?T(_):T.current=_}}ql=ql.nextEffect}}catch(M){if(null===ql)throw Error(o(330));za(ql,M),ql=ql.nextEffect}}while(null!==ql);ql=null,$r(),Pl=s}else t.current=i;if(Zl)Zl=!1,ta=t,ea=e;else for(ql=r;null!==ql;)e=ql.nextEffect,ql.nextEffect=null,ql=e;if(0===(e=t.firstPendingTime)&&(Gl=null),1073741823===e?t===ra?na++:(na=0,ra=t):na=0,"function"===typeof Aa&&Aa(i.stateNode,n),ha(t),Ql)throw Ql=!1,t=Jl,Jl=null,t;return 0!==(8&Pl)||es(),null}function ka(){for(;null!==ql;){var t=ql.effectTag;0!==(256&t)&&dl(ql.alternate,ql),0===(512&t)||Zl||(Zl=!0,Zr(97,function(){return Ia(),null})),ql=ql.nextEffect}}function Ia(){if(90!==ea){var t=97<ea?97:ea;return ea=90,Gr(t,Na)}}function Na(){if(null===ta)return!1;var t=ta;if(ta=null,0!==(48&Pl))throw Error(o(331));var e=Pl;for(Pl|=Dl,t=t.current.firstEffect;null!==t;){try{var i=t;if(0!==(512&i.effectTag))switch(i.tag){case 0:case 11:case 15:case 22:fl(5,i),pl(5,i)}}catch(C){if(null===t)throw Error(o(330));za(t,C)}i=t.nextEffect,t.nextEffect=null,t=i}return Pl=e,es(),!0}function Oa(t,e,i){vs(t,e=Ml(t,e=al(i,e),1073741823)),null!==(t=ua(t,1073741823))&&ha(t)}function za(t,e){if(3===t.tag)Oa(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){Oa(i,t,e);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gl||!Gl.has(n))){vs(i,t=Cl(i,t=al(e,t),1073741823)),null!==(i=ua(i,1073741823))&&ha(i);break}}i=i.return}}function Da(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),Rl===t&&Vl===i?Ul===Bl||Ul===Al&&1073741823===Wl&&qr()-Yl<500?ba(t,Vl):Xl=!0:Ka(t,i)&&(0!==(e=t.lastPingedTime)&&e<i||(t.lastPingedTime=i,ha(t)))}function La(t,e){var i=t.stateNode;null!==i&&i.delete(e),0===(e=0)&&(e=la(e=oa(),t,null)),null!==(t=ua(t,e))&&ha(t)}kl=function(t,e,i){var n=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||Sr.current)Vo=!0;else{if(n<i){switch(Vo=!1,e.tag){case 3:qo(e),Ro();break;case 5:if(Ws(e),4&e.mode&&1!==i&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:Er(e.type)&&Ir(e);break;case 4:Us(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,gr(ss,r._currentValue),r._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=i?tl(t,e,i):(gr(Hs,1&Hs.current),null!==(e=rl(t,e,i))?e.sibling:null);gr(Hs,1&Hs.current);break;case 19:if(n=e.childExpirationTime>=i,0!==(64&t.effectTag)){if(n)return nl(t,e,i);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),gr(Hs,Hs.current),!n)return null}return rl(t,e,i)}Vo=!1}}else Vo=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=Tr(e,_r.current),ds(e,i),r=no(null,e,n,t,r,i),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Er(n)){var s=!0;Ir(e)}else s=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ms(e);var l=n.getDerivedStateFromProps;"function"===typeof l&&Ts(e,n,l,t),r.updater=Es,e.stateNode=r,r._reactInternalFiber=e,Is(e,n,t,i),e=Yo(null,e,n,!0,s,i)}else e.tag=0,Uo(null,e,r,i),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,s=e.tag=function(t){if("function"===typeof t)return Fa(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===mt)return 11;if(t===vt)return 14}return 2}(r),t=rs(r,t),s){case 0:e=Ko(null,e,r,t,i);break t;case 1:e=Xo(null,e,r,t,i);break t;case 11:e=jo(null,e,r,t,i);break t;case 14:e=Wo(null,e,r,rs(r.type,t),n,i);break t}throw Error(o(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,Ko(t,e,n,r=e.elementType===n?r:rs(n,r),i);case 1:return n=e.type,r=e.pendingProps,Xo(t,e,n,r=e.elementType===n?r:rs(n,r),i);case 3:if(qo(e),n=e.updateQueue,null===t||null===n)throw Error(o(282));if(n=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,bs(t,e),ws(e,n,null,i),(n=e.memoizedState.element)===r)Ro(),e=rl(t,e,i);else{if((r=e.stateNode.hydrate)&&(Oo=Ni(e.stateNode.containerInfo.firstChild),No=e,r=zo=!0),r)for(i=As(e,null,n,i),e.child=i;i;)i.effectTag=-3&i.effectTag|1024,i=i.sibling;else Uo(t,e,n,i),Ro();e=e.child}return e;case 5:return Ws(e),null===t&&Ao(e),n=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,l=r.children,Ci(n,r)?l=null:null!==s&&Ci(n,s)&&(e.effectTag|=16),Ho(t,e),4&e.mode&&1!==i&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Uo(t,e,l,i),e=e.child),e;case 6:return null===t&&Ao(e),null;case 13:return tl(t,e,i);case 4:return Us(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Ls(e,null,n,i):Uo(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,jo(t,e,n,r=e.elementType===n?r:rs(n,r),i);case 7:return Uo(t,e,e.pendingProps,i),e.child;case 8:case 12:return Uo(t,e,e.pendingProps.children,i),e.child;case 10:t:{n=e.type._context,r=e.pendingProps,l=e.memoizedProps,s=r.value;var a=e.type._context;if(gr(ss,a._currentValue),a._currentValue=s,null!==l)if(a=l.value,0===(s=Xn(a,s)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(a,s):1073741823))){if(l.children===r.children&&!Sr.current){e=rl(t,e,i);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){l=a.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&s)){1===a.tag&&((c=ys(i,null)).tag=2,vs(a,c)),a.expirationTime<i&&(a.expirationTime=i),null!==(c=a.alternate)&&c.expirationTime<i&&(c.expirationTime=i),hs(a.return,i),u.expirationTime<i&&(u.expirationTime=i);break}c=c.next}}else l=10===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}Uo(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=(s=e.pendingProps).children,ds(e,i),n=n(r=fs(r,s.unstable_observedBits)),e.effectTag|=1,Uo(t,e,n,i),e.child;case 14:return s=rs(r=e.type,e.pendingProps),Wo(t,e,r,s=rs(r.type,s),n,i);case 15:return $o(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:rs(n,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Er(n)?(t=!0,Ir(e)):t=!1,ds(e,i),Cs(e,n,r),Is(e,n,r,i),Yo(null,e,n,!0,t,i);case 19:return nl(t,e,i)}throw Error(o(156,e.tag))};var Aa=null,Ba=null;function Pa(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ra(t,e,i,n){return new Pa(t,e,i,n)}function Fa(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Va(t,e){var i=t.alternate;return null===i?((i=Ra(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ua(t,e,i,n,r,s){var l=2;if(n=t,"function"===typeof t)Fa(t)&&(l=1);else if("string"===typeof t)l=5;else t:switch(t){case ut:return ja(i.children,r,s,e);case pt:l=8,r|=7;break;case ct:l=8,r|=1;break;case ht:return(t=Ra(12,i,e,8|r)).elementType=ht,t.type=ht,t.expirationTime=s,t;case bt:return(t=Ra(13,i,e,r)).type=bt,t.elementType=bt,t.expirationTime=s,t;case yt:return(t=Ra(19,i,e,r)).elementType=yt,t.expirationTime=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case dt:l=10;break t;case ft:l=9;break t;case mt:l=11;break t;case vt:l=14;break t;case gt:l=16,n=null;break t;case wt:l=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Ra(l,i,e,r)).elementType=t,e.type=n,e.expirationTime=s,e}function ja(t,e,i,n){return(t=Ra(7,t,n,e)).expirationTime=i,t}function Wa(t,e,i){return(t=Ra(6,t,null,e)).expirationTime=i,t}function $a(t,e,i){return(e=Ra(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ha(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ka(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==i&&i>=e&&t<=e}function Xa(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||0===i)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Ya(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;0!==i&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function qa(t,e){var i=t.lastExpiredTime;(0===i||i>e)&&(t.lastExpiredTime=e)}function Qa(t,e,i,n){var r=e.current,s=oa(),l=Ss.suspense;s=la(s,r,l);t:if(i){e:{if(oe(i=i._reactInternalFiber)!==i||1!==i.tag)throw Error(o(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Er(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(null!==a);throw Error(o(171))}if(1===i.tag){var u=i.type;if(Er(u)){i=kr(i,u,a);break t}}i=a}else i=wr;return null===e.context?e.context=i:e.pendingContext=i,(e=ys(s,l)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),vs(r,e),aa(r,s),s}function Ja(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Ga(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Za(t,e){Ga(t,e),(t=t.alternate)&&Ga(t,e)}function tu(t,e,i){var n=new Ha(t,e,i=null!=i&&!0===i.hydrate),r=Ra(3,null,null,2===e?7:1===e?3:0);n.current=r,r.stateNode=n,ms(r),t[Ai]=n.current,i&&0!==e&&function(t,e){var i=se(e);De.forEach(function(t){_e(t,e,i)}),Le.forEach(function(t){_e(t,e,i)})}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function eu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function iu(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof r){var l=r;r=function(){var t=Ja(o);l.call(t)}}Qa(e,o,t,r)}else{if(s=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new tu(t,0,e?{hydrate:!0}:void 0)}(i,n),o=s._internalRoot,"function"===typeof r){var a=r;r=function(){var t=Ja(o);a.call(t)}}ma(function(){Qa(e,o,t,r)})}return Ja(o)}function nu(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!eu(e))throw Error(o(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:at,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)}tu.prototype.render=function(t){Qa(t,this._internalRoot,null,null)},tu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Qa(null,t,null,function(){e[Ai]=null})},Se=function(t){if(13===t.tag){var e=ns(oa(),150,100);aa(t,e),Za(t,e)}},xe=function(t){13===t.tag&&(aa(t,3),Za(t,3))},Te=function(t){if(13===t.tag){var e=oa();aa(t,e=la(e,t,null)),Za(t,e)}},L=function(t,e,i){switch(e){case"input":if(zt(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Fi(n);if(!r)throw Error(o(90));kt(n),zt(n,r)}}}break;case"textarea":Ft(t,i);break;case"select":null!=(e=i.value)&&Bt(t,!!i.multiple,e,!1)}},U=pa,j=function(t,e,i,n,r){var s=Pl;Pl|=4;try{return Gr(98,t.bind(null,e,i,n,r))}finally{0===(Pl=s)&&es()}},W=function(){0===(49&Pl)&&(function(){if(null!==ia){var t=ia;ia=null,t.forEach(function(t,e){qa(e,t),ha(e)}),es()}}(),Ia())},$=function(t,e){var i=Pl;Pl|=2;try{return t(e)}finally{0===(Pl=i)&&es()}};var ru={Events:[Pi,Ri,Fi,N,E,Ki,function(t){he(t,Hi)},R,V,ri,pe,Ia,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);Aa=function(t){try{e.onCommitFiberRoot(i,t,void 0,64===(64&t.current.effectTag))}catch(v){}},Ba=function(t){try{e.onCommitFiberUnmount(i,t)}catch(v){}}}catch(C){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ue(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Bi,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ru,e.createPortal=nu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=ue(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Pl))throw Error(o(187));var i=Pl;Pl|=1;try{return Gr(99,t.bind(null,e))}finally{Pl=i,es()}},e.hydrate=function(t,e,i){if(!eu(e))throw Error(o(200));return iu(null,t,e,!0,i)},e.render=function(t,e,i){if(!eu(e))throw Error(o(200));return iu(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!eu(t))throw Error(o(40));return!!t._reactRootContainer&&(ma(function(){iu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0)},e.unstable_batchedUpdates=pa,e.unstable_createPortal=function(t,e){return nu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!eu(i))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return iu(t,e,i,!1,n)},e.version="16.14.0"},763(t,e,i){t.exports=i(983)},853(t,e,i){t.exports=i(234)},923(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=e.StreamlitProvider=e.useRenderData=void 0;var r=i(639);Object.defineProperty(e,"useRenderData",{enumerable:!0,get:function(){return r.useRenderData}}),Object.defineProperty(e,"StreamlitProvider",{enumerable:!0,get:function(){return n(r).default}});var s=i(129);Object.defineProperty(e,"useNullableRenderData",{enumerable:!0,get:function(){return s.useNullableRenderData}})},950(t,e,i){!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)},983(t,e){var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,a=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,b=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,g=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case c:case h:case s:case l:case o:case f:return t;default:switch(t=t&&t.$$typeof){case u:case d:case b:case m:case a:return t;default:return e}}case r:return e}}}function S(t){return _(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=a,e.Element=n,e.ForwardRef=d,e.Fragment=s,e.Lazy=b,e.Memo=m,e.Portal=r,e.Profiler=l,e.StrictMode=o,e.Suspense=f,e.isAsyncMode=function(t){return S(t)||_(t)===c},e.isConcurrentMode=S,e.isContextConsumer=function(t){return _(t)===u},e.isContextProvider=function(t){return _(t)===a},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return _(t)===d},e.isFragment=function(t){return _(t)===s},e.isLazy=function(t){return _(t)===b},e.isMemo=function(t){return _(t)===m},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===l},e.isStrictMode=function(t){return _(t)===o},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===h||t===l||t===o||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===b||t.$$typeof===m||t.$$typeof===a||t.$$typeof===u||t.$$typeof===d||t.$$typeof===v||t.$$typeof===g||t.$$typeof===w||t.$$typeof===y)},e.typeOf=_}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n=i(43),r=i(950),s=i(923);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function l(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function a(t,e,i){return(e=l(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach(function(e){a(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function h(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function d(t,e){return t.width===e.width&&t.height===e.height}var f=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(t){return t!==i})}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();var p=function(){function t(t,e,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=h({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(n=null===i||void 0===i?void 0:i.allowResizeObserver)||void 0===n||n,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return h({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=h(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;d(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(i,t,e)})},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=h(this._transformBitmapSize(t,this._canvasElementClientSize)),n=d(this.bitmapSize,i)?null:i;null===e&&null===n||null!==e&&null!==n&&d(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(i,t,e)})},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise(function(t){var e=new ResizeObserver(function(i){t(i.every(function(t){return"devicePixelContentBoxSize"in t})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=m(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new f(t)}(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var i=m(this._canvasElement);if(null!==i){var n=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,r=this._canvasElement.getClientRects(),s=void 0!==r[0]?function(t,e){return h({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(r[0],n):h({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(s)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(e){return e.target===t._canvasElement});if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var n=i.devicePixelContentBoxSize[0],r=h({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function m(t){return t.ownerDocument.defaultView}var b=function(){function t(t,e,i){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function y(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var n=t.bitmapSize;if(0===n.width||0===n.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new b(r,i,n)}const v={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},g={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},w={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},_={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},S={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},x={color:"#26a69a",base:0},T={color:"#2196f3"},E={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var M,C,k;function I(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function N(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function O(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function z(t){if(void 0===t)throw new Error("Value is undefined");return t}function D(t){if(null===t)throw new Error("Value is null");return t}function L(t){return D(z(t))}(k=M||(M={}))[k.Simple=0]="Simple",k[k.WithSteps=1]="WithSteps",k[k.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(C||(C={}));const A={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function B(t){return t<0?0:t>255?255:Math.round(t)||0}function P(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const R=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,F=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,V=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,U=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function j(t){(t=t.toLowerCase())in A&&(t=A[t]);{const e=U.exec(t)||V.exec(t);if(e)return[B(parseInt(e[1],10)),B(parseInt(e[2],10)),B(parseInt(e[3],10)),P(e.length<5?1:parseFloat(e[4]))]}{const e=F.exec(t);if(e)return[B(parseInt(e[1],16)),B(parseInt(e[2],16)),B(parseInt(e[3],16)),1]}{const e=R.exec(t);if(e)return[B(17*parseInt(e[1],16)),B(17*parseInt(e[2],16)),B(17*parseInt(e[3],16)),1]}throw new Error("Cannot parse color: ".concat(t))}function W(t){return.199*t[0]+.687*t[1]+.114*t[2]}function $(t){const e=j(t);return{t:"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),i:W(e)>160?"black":"white"}}class H{constructor(){this.h=[]}l(t,e,i){const n={o:t,_:e,u:!0===i};this.h.push(n)}v(t){const e=this.h.findIndex(e=>t===e.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,i){const n=[...this.h];this.h=this.h.filter(t=>!t.u),n.forEach(n=>n.o(t,e,i))}M(){return this.h.length>0}S(){this.h=[]}}function K(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const r of i)for(const e in r)void 0!==r[e]&&Object.prototype.hasOwnProperty.call(r,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof r[e]||void 0===t[e]||Array.isArray(r[e])?t[e]=r[e]:K(t[e],r[e]));return t}function X(t){return"number"==typeof t&&isFinite(t)}function Y(t){return"number"==typeof t&&t%1==0}function q(t){return"string"==typeof t}function Q(t){return"boolean"==typeof t}function J(t){const e=t;if(!e||"object"!=typeof e)return e;let i,n,r;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"==typeof r?J(r):r);return i}function G(t){return null!==t}function Z(t){return null===t?void 0:t}const tt="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function et(t,e,i){return void 0===e&&(e=tt),"".concat(i=void 0!==i?"".concat(i," "):"").concat(t,"px ").concat(e)}class it{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),i=this.H();return t.P===e&&t.D===i||(t.P=e,t.D=i,t.R=et(e,i),t.L=2.5/12*e,t.B=t.L,t.A=e/12*t.T,t.I=e/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class nt{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,e,i){this.Y.forEach(n=>{n.X(t,e,i)})}}class rt{X(t,e,i){t.useBitmapCoordinateSpace(t=>this.K(t,e,i))}}class st extends rt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.G||null===this.G.tt)return;const r=this.G.tt,s=this.G,o=Math.max(1,Math.floor(i))%2/2,l=t=>{e.beginPath();for(let l=r.to-1;l>=r.from;--l){const r=s.it[l],a=Math.round(r.nt*i)+o,u=r.st*n,c=t*n+o;e.moveTo(a,u),e.arc(a,u,c,0,2*Math.PI)}e.fill()};s.et>0&&(e.fillStyle=s.rt,l(s.ht+s.et)),e.fillStyle=s.lt,l(s.ht)}}function ot(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const lt={from:0,to:1};class at{constructor(t,e){this.ut=new nt,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.Z(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(ot),this.ct=this.dt.map(t=>{const e=new st;return e.J(t),e}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=2===this.vt.W().mode,e=this.F.wt(),i=this.vt.xt(),n=this.F.St();e.forEach((e,r)=>{var s;const o=this.dt[r],l=e.kt(i);if(t||null===l||!e.yt())return void(o.tt=null);const a=D(e.Ct());o.lt=l.Tt,o.ht=l.ht,o.et=l.Pt,o.it[0]._t=l._t,o.it[0].st=e.Dt().Rt(l._t,a.Vt),o.rt=null!==(s=l.Ot)&&void 0!==s?s:this.F.Bt(o.it[0].st/e.Dt().At()),o.it[0].ot=i,o.it[0].nt=n.It(i),o.tt=lt})}}class ut extends rt{constructor(t){super(),this.zt=t}K(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.zt)return;const s=this.zt.Lt.yt,o=this.zt.Et.yt;if(!s&&!o)return;const l=Math.round(this.zt.nt*n),a=Math.round(this.zt.st*r);e.lineCap="butt",s&&l>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*n),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,I(e,this.zt.Lt.Nt),function(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,n),t.stroke()}(e,l,0,i.height)),o&&a>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*r),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,I(e,this.zt.Et.Nt),N(e,a,0,i.width))}}class ct{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new ut(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=D(this.jt.Ht()),i=e.$t().W().crosshair,n=this.Ft;if(2===i.mode)return n.Et.yt=!1,void(n.Lt.yt=!1);n.Et.yt=t&&this.jt.Ut(e),n.Lt.yt=t&&this.jt.qt(),n.Et.et=i.horzLine.width,n.Et.Nt=i.horzLine.style,n.Et.V=i.horzLine.color,n.Lt.et=i.vertLine.width,n.Lt.Nt=i.vertLine.style,n.Lt.V=i.vertLine.color,n.nt=this.jt.Yt(),n.st=this.jt.Zt()}}function ht(t,e,i,n,r,s){t.fillRect(e+s,i,n-2*s,s),t.fillRect(e+s,i+r-s,n-2*s,s),t.fillRect(e,i,s,r),t.fillRect(e+n-s,i,s,r)}function dt(t,e,i,n,r,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,i,n,r),t.restore()}function ft(t,e,i,n,r,s){t.beginPath(),t.roundRect?t.roundRect(e,i,n,r,s):(t.lineTo(e+n-s[1],i),0!==s[1]&&t.arcTo(e+n,i,e+n,i+s[1],s[1]),t.lineTo(e+n,i+r-s[2]),0!==s[2]&&t.arcTo(e+n,i+r,e+n-s[2],i+r,s[2]),t.lineTo(e+s[3],i+r),0!==s[3]&&t.arcTo(e,i+r,e,i+r-s[3],s[3]),t.lineTo(e,i+s[0]),0!==s[0]&&t.arcTo(e,i,e+s[0],i,s[0]))}function pt(t,e,i,n,r,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!o||!a||a===s)return ft(t,e,i,n,r,l),t.fillStyle=s,t.fill(),void t.restore();const u=o/2;var c;ft(t,e+u,i+u,n-o,r-o,(c=-u,l.map(t=>0===t?t:t+c))),"transparent"!==s&&(t.fillStyle=s,t.fill()),"transparent"!==a&&(t.lineWidth=o,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function mt(t,e,i,n,r,s,o){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,r);l.addColorStop(0,s),l.addColorStop(1,o),t.fillStyle=l,t.fillRect(e,i,n,r),t.restore()}class bt{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Xt=e}At(t,e){return this.zt.yt?t.P+t.L+t.B:0}X(t,e,i,n){if(!this.zt.yt||0===this.zt.Kt.length)return;const r=this.zt.V,s=this.Xt.t,o=t.useBitmapCoordinateSpace(t=>{const o=t.context;o.font=e.R;const l=this.Gt(t,e,i,n),a=l.Jt;return l.Qt?pt(o,a.ti,a.ii,a.ni,a.si,s,a.ei,[a.ht,0,0,a.ht],s):pt(o,a.ri,a.ii,a.ni,a.si,s,a.ei,[0,a.ht,a.ht,0],s),this.zt.hi&&(o.fillStyle=r,o.fillRect(a.ri,a.li,a.ai-a.ri,a.oi)),this.zt._i&&(o.fillStyle=e.O,o.fillRect(l.Qt?a.ui-a.ei:0,a.ii,a.ei,a.ci-a.ii)),l});t.useMediaCoordinateSpace(t=>{let{context:i}=t;const n=o.di;i.font=e.R,i.textAlign=o.Qt?"right":"left",i.textBaseline="middle",i.fillStyle=r,i.fillText(this.zt.Kt,n.fi,(n.ii+n.ci)/2+n.pi)})}Gt(t,e,i,n){var r;const{context:s,bitmapSize:o,mediaSize:l,horizontalPixelRatio:a,verticalPixelRatio:u}=t,c=this.zt.hi||!this.zt.mi?e.T:0,h=this.zt.bi?e.C:0,d=e.L+this.Xt.wi,f=e.B+this.Xt.gi,p=e.A,m=e.I,b=this.zt.Kt,y=e.P,v=i.Mi(s,b),g=Math.ceil(i.xi(s,b)),w=y+d+f,_=e.C+p+m+g+c,S=Math.max(1,Math.floor(u));let x=Math.round(w*u);x%2!=S%2&&(x+=1);const T=h>0?Math.max(1,Math.floor(h*a)):0,E=Math.round(_*a),M=Math.round(c*a),C=null!==(r=this.Xt.Si)&&void 0!==r?r:this.Xt.ki,k=Math.round(C*u)-Math.floor(.5*u),I=Math.floor(k+S/2-x/2),N=I+x,O="right"===n,z=O?l.width-h:h,D=O?o.width-T:T;let L,A,B;return O?(L=D-E,A=D-M,B=z-c-p-h):(L=D+E,A=D+M,B=z+c+p),{Qt:O,Jt:{ii:I,li:k,ci:N,ni:E,si:x,ht:2*a,ei:T,ti:L,ri:D,ai:A,oi:S,ui:o.width},di:{ii:I/u,ci:N/u,fi:B,pi:v}}}}class yt{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||bt)(this.Ci,this.yi),this.Ri=new(t||bt)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.Pi.At(t,e),this.Ri.At(t,e))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class vt extends yt{constructor(t,e,i){super(),this.jt=t,this.Li=e,this.Ei=i}zi(t,e,i){if(t.yt=!1,2===this.jt.W().mode)return;const n=this.jt.W().horzLine;if(!n.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||null===r)return;const s=$(n.labelBackgroundColor);i.t=s.t,t.V=s.i;const o=2/12*this.Li.P();i.wi=o,i.gi=o;const l=this.Ei(this.Li);i.ki=l.ki,t.Kt=this.Li.Fi(l._t,r),t.yt=!0}}const gt=/[1-9]/g;class wt{constructor(){this.zt=null}J(t){this.zt=t}X(t,e){if(null===this.zt||!1===this.zt.yt||0===this.zt.Kt.length)return;const i=t.useMediaCoordinateSpace(t=>{let{context:i}=t;return i.font=e.R,Math.round(e.Wi.xi(i,D(this.zt).Kt,gt))});if(i<=0)return;const n=e.ji,r=i+2*n,s=r/2,o=this.zt.Hi;let l=this.zt.ki,a=Math.floor(l-s)+.5;a<0?(l+=Math.abs(0-a),a=Math.floor(l-s)+.5):a+r>o&&(l-=Math.abs(o-(a+r)),a=Math.floor(l-s)+.5);const u=a+r,c=Math.ceil(0+e.C+e.T+e.L+e.P+e.B);t.useBitmapCoordinateSpace(t=>{let{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;const s=D(this.zt);i.fillStyle=s.t;const o=Math.round(a*n),l=Math.round(0*r),h=Math.round(u*n),d=Math.round(c*r),f=Math.round(2*n);if(i.beginPath(),i.moveTo(o,l),i.lineTo(o,d-f),i.arcTo(o,d,o+f,d,f),i.lineTo(h-f,d),i.arcTo(h,d,h,d-f,f),i.lineTo(h,l),i.fill(),s.hi){const t=Math.round(s.ki*n),o=l,a=Math.round((o+e.T)*r);i.fillStyle=s.V;const u=Math.max(1,Math.floor(n)),c=Math.floor(.5*n);i.fillRect(t-c,o,u,a-o)}}),t.useMediaCoordinateSpace(t=>{let{context:i}=t;const r=D(this.zt),s=0+e.C+e.T+e.L+e.P/2;i.font=e.R,i.textAlign="left",i.textBaseline="middle",i.fillStyle=r.V;const o=e.Wi.Mi(i,"Apr0");i.translate(a+n,s+o),i.fillText(r.Kt,0,0)})}}class _t{constructor(t,e,i){this.ft=!0,this.Wt=new wt,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=e,this.Ei=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,2===this.vt.W().mode)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const i=this.$i.St();if(i.Ni())return;t.Hi=i.Hi();const n=this.Ei();if(null===n)return;t.ki=n.ki;const r=i.Ui(this.vt.xt());t.Kt=i.qi(D(r)),t.yt=!0;const s=$(e.labelBackgroundColor);t.t=s.t,t.V=s.i,t.hi=i.W().ticksVisible}}class St{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var xt;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"}(xt||(xt={}));class Tt extends St{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=e,this.dn=new at(t,this),this.fn=((t,e)=>i=>{const n=e(),r=t();if(i===D(this.tn).vn())return{_t:r,ki:n};{const t=D(i.Ct());return{_t:i.pn(n,t),ki:n}}})(()=>this.nn,()=>this.an);const i=((t,e)=>()=>{const i=this.$i.St().mn(t()),n=e();return i&&Number.isFinite(n)?{ot:i,ki:n}:null})(()=>this.sn,()=>this.Yt());this.bn=new _t(this,t,i),this.wn=new ct(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,i){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,i)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return null!==this.tn?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,e){this.en&&this.tn===t||this.rn.clear();const i=[];return this.tn===t&&i.push(this.Dn(this.rn,e,this.fn)),i}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,e,i){this.Bn(t,e,i)&&this.Vn()}Bn(t,e,i){const n=this.ln,r=this.an,s=this.nn,o=this.sn,l=this.tn,a=this.On(i);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=i;const u=null!==a?a.Ct():null;return null!==a&&null!==u?(this.nn=e,this.an=a.Rt(e,u)):(this.nn=NaN,this.an=NaN),n!==this.ln||r!==this.an||o!==this.sn||s!==this.nn||l!==this.tn}Tn(){const t=this.$i.wt().map(t=>t.In().An()).filter(G),e=0===t.length?null:Math.max(...t);this.sn=null!==e?e:NaN}Dn(t,e,i){let n=t.get(e);return void 0===n&&(n=new vt(this,e,i),t.set(e,n)),n}}function Et(t){return"left"===t||"right"===t}class Mt{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,e){const i=function(t,e){return void 0===t?e:{Fn:Math.max(t.Fn,e.Fn),Wn:t.Wn||e.Wn}}(this.zn.get(t),e);this.zn.set(t,i)}jn(){return this.En}Hn(t){const e=this.zn.get(t);return void 0===e?{Fn:this.En}:{Fn:Math.max(this.En,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(const e of t.Ln)this.ns(e);this.En=Math.max(this.En,t.En),t.zn.forEach((t,e)=>{this.Nn(e,t)})}static ss(){return new Mt(2)}static es(){return new Mt(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){const t=this.Ln.findIndex(t=>5===t.qn);-1!==t&&this.Ln.splice(t,1)}}function Ct(t,e){if(!X(t))return"n/a";if(!Y(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class kt{constructor(t,e){if(e||(e=1),X(t)&&Y(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){const e=t<0?"\u2212":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this._s++}}ls(t){const e=this.Li/this.rs;let i=Math.floor(t),n="";const r=void 0!==this._s?this._s:NaN;if(e>1){let s=+(Math.round(t*e)-i*e).toFixed(this._s);s>=e&&(s-=e,i+=1),n="."+Ct(+s.toFixed(this._s)*this.rs,r)}else i=Math.round(i*e)/e,r>0&&(n="."+Ct(0,r));return i.toFixed(0)+n}}class It extends kt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)}format(t){return"".concat(super.format(t),"%")}}class Nt{constructor(t){this.us=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.cs(t):t<999995?e+this.cs(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.cs(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.cs(t/1e9)+"B")}cs(t){let e;const i=Math.pow(10,this.us);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.us).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(t,e)=>e)}}function Ot(t,e,i,n,r,s,o){if(0===e.length||n.from>=e.length||n.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:u}=t,c=e[n.from];let h=s(t,c),d=c;if(n.to-n.from<2){const e=r/2;l.beginPath();const i={nt:c.nt-e,st:c.st},n={nt:c.nt+e,st:c.st};l.moveTo(i.nt*a,i.st*u),l.lineTo(n.nt*a,n.st*u),o(t,h,i,n)}else{const r=(e,i)=>{o(t,h,d,i),l.beginPath(),h=e,d=i};let f=d;l.beginPath(),l.moveTo(c.nt*a,c.st*u);for(let o=n.from+1;o<n.to;++o){f=e[o];const n=s(t,f);switch(i){case 0:l.lineTo(f.nt*a,f.st*u);break;case 1:l.lineTo(f.nt*a,e[o-1].st*u),n!==h&&(r(n,f),l.lineTo(f.nt*a,e[o-1].st*u)),l.lineTo(f.nt*a,f.st*u);break;case 2:{const[t,i]=At(e,o-1,o);l.bezierCurveTo(t.nt*a,t.st*u,i.nt*a,i.st*u,f.nt*a,f.st*u);break}}1!==i&&n!==h&&(r(n,f),l.moveTo(f.nt*a,f.st*u))}(d!==f||d===f&&1===i)&&o(t,h,d,f)}}const zt=6;function Dt(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function Lt(t,e){return{nt:t.nt/e,st:t.st/e}}function At(t,e,i){const n=Math.max(0,e-1),r=Math.min(t.length-1,i+1);var s,o;return[(s=t[e],o=Lt(Dt(t[i],t[n]),zt),{nt:s.nt+o.nt,st:s.st+o.st}),Dt(t[i],Lt(Dt(t[r],t[e]),zt))]}function Bt(t,e,i,n,r){const{context:s,horizontalPixelRatio:o,verticalPixelRatio:l}=e;s.lineTo(r.nt*o,t*l),s.lineTo(n.nt*o,t*l),s.closePath(),s.fillStyle=i,s.fill()}class Pt extends rt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var e;if(null===this.G)return;const{it:i,tt:n,ds:r,et:s,Nt:o,fs:l}=this.G,a=null!==(e=this.G.vs)&&void 0!==e?e:this.G.ps?0:t.mediaSize.height;if(null===n)return;const u=t.context;u.lineCap="butt",u.lineJoin="round",u.lineWidth=s,I(u,o),u.lineWidth=1,Ot(t,i,l,n,r,this.bs.bind(this),Bt.bind(null,a))}}function Rt(t,e,i){return Math.min(Math.max(t,e),i)}function Ft(t,e,i){return e-t<=i}function Vt(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Ut{ws(t,e){const i=this.gs,{Ms:n,xs:r,Ss:s,ks:o,ys:l,vs:a}=e;if(void 0===this.Cs||void 0===i||i.Ms!==n||i.xs!==r||i.Ss!==s||i.ks!==o||i.vs!==a||i.ys!==l){const i=t.context.createLinearGradient(0,0,0,l);if(i.addColorStop(0,n),null!=a){const e=Rt(a*t.verticalPixelRatio/l,0,1);i.addColorStop(e,r),i.addColorStop(e,s)}i.addColorStop(1,o),this.Cs=i,this.gs=e}return this.Cs}}class jt extends Pt{constructor(){super(...arguments),this.Ts=new Ut}bs(t,e){return this.Ts.ws(t,{Ms:e.Ps,xs:"",Ss:"",ks:e.Rs,ys:t.bitmapSize.height})}}function Wt(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class $t extends rt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(null===this.G)return;const{it:e,tt:i,ds:n,fs:r,et:s,Nt:o,Ds:l}=this.G;if(null===i)return;const a=t.context;a.lineCap="butt",a.lineWidth=s*t.verticalPixelRatio,I(a,o),a.lineJoin="round";const u=this.Vs.bind(this);void 0!==r&&Ot(t,e,r,i,n,u,Wt),l&&function(t,e,i,n,r){const{horizontalPixelRatio:s,verticalPixelRatio:o,context:l}=t;let a=null;const u=Math.max(1,Math.floor(s))%2/2,c=i*o+u;for(let h=n.to-1;h>=n.from;--h){const i=e[h];if(i){const e=r(t,i);e!==a&&(l.beginPath(),null!==a&&l.fill(),l.fillStyle=e,a=e);const n=Math.round(i.nt*s)+u,h=i.st*o;l.moveTo(n,h),l.arc(n,h,c,0,2*Math.PI)}}l.fill()}(t,e,l,i,u)}}class Ht extends $t{Vs(t,e){return e.lt}}function Kt(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length)-r;for(;0<s;){const o=s>>1,l=r+o;n(e[l],i)===t?(r=l+1,s-=o+1):s=o}return r}const Xt=Kt.bind(null,!0),Yt=Kt.bind(null,!1);function qt(t,e){return t.ot<e}function Qt(t,e){return e<t.ot}function Jt(t,e,i){const n=e.Os(),r=e.ui(),s=Xt(t,n,qt),o=Yt(t,r,Qt);if(!i)return{from:s,to:o};let l=s,a=o;return s>0&&s<t.length&&t[s].ot>=n&&(l=s-1),o>0&&o<t.length&&t[o-1].ot<=r&&(a=o+1),{from:l,to:a}}class Gt{constructor(t,e,i){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=t,this.Ns=e,this.Fs=i}bt(t){this.Bs=!0,"data"===t&&(this.As=!0),"options"===t&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),null===this.Ls?null:this.js):null}Hs(){this.zs=this.zs.map(t=>Object.assign(Object.assign({},t),this.Es.Us().$s(t.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const t=this.Es.Dt(),e=this.Ns.St();if(this.qs(),e.Ni()||t.Ni())return;const i=e.Xs();if(null===i)return;if(0===this.Es.In().Ks())return;const n=this.Es.Ct();null!==n&&(this.Ls=Jt(this.zs,i,this.Fs),this.Gs(t,e,n.Vt),this.Js())}}class Zt extends Gt{constructor(t,e){super(t,e,!0)}Gs(t,e,i){e.Qs(this.zs,Z(this.Ls)),t.te(this.zs,i,Z(this.Ls))}ie(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>{const i=e.Vt[3];return this.se(e.ee,i,t)})}}class te extends Zt{constructor(t,e){super(t,e),this.js=new nt,this.re=new jt,this.he=new Ht,this.js.Z([this.re,this.he])}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){const t=this.Es.W();this.re.J({fs:t.lineType,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,vs:null,ps:t.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:t.lineVisible?t.lineType:void 0,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class ee extends rt{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(t){this.zt=t}K(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;this.ae=this._e(i),this.ae>=2&&Math.max(1,Math.floor(i))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(i)):this.ae;let r=null;const s=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*i);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const t=this.zt.In[o];r!==t.ce&&(e.fillStyle=t.ce,r=t.ce);const l=Math.floor(.5*this.oe),a=Math.round(t.nt*i),u=a-l,c=this.oe,h=u+c-1,d=Math.min(t.de,t.fe),f=Math.max(t.de,t.fe),p=Math.round(d*n)-l,m=Math.round(f*n)+l,b=Math.max(m-p,this.oe);e.fillRect(u,p,c,b);const y=Math.ceil(1.5*this.ae);if(s){if(this.zt.ve){const i=a-y;let r=Math.max(p,Math.round(t.pe*n)-l),s=r+c-1;s>p+b-1&&(s=p+b-1,r=s-c+1),e.fillRect(i,r,u-i,s-r+1)}const i=a+y;let r=Math.max(p,Math.round(t.me*n)-l),s=r+c-1;s>p+b-1&&(s=p+b-1,r=s-c+1),e.fillRect(h+1,r,i-h,s-r+1)}}}_e(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(D(this.zt).le,t)))}}class ie extends Gt{constructor(t,e){super(t,e,!1)}Gs(t,e,i){e.Qs(this.zs,Z(this.Ls)),t.be(this.zs,i,Z(this.Ls))}we(t,e,i){return{ot:t,ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>this.se(e.ee,e,t))}}class ne extends ie{constructor(){super(...arguments),this.js=new ee}se(t,e,i){return Object.assign(Object.assign({},this.we(t,e,i)),i.$s(t))}Js(){const t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:t.openVisible,ue:t.thinBars,tt:this.Ls})}}class re extends Pt{constructor(){super(...arguments),this.Ts=new Ut}bs(t,e){const i=this.G;return this.Ts.ws(t,{Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:e.Te,ys:t.bitmapSize.height,vs:i.vs})}}class se extends $t{constructor(){super(...arguments),this.Pe=new Ut}Vs(t,e){const i=this.G;return this.Pe.ws(t,{Ms:e.Re,xs:e.Re,Ss:e.De,ks:e.De,ys:t.bitmapSize.height,vs:i.vs})}}class oe extends Zt{constructor(t,e){super(t,e),this.js=new nt,this.Ve=new re,this.Oe=new se,this.js.Z([this.Ve,this.Oe])}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){const t=this.Es.Ct();if(null===t)return;const e=this.Es.W(),i=this.Es.Dt().Rt(e.baseValue.price,t.Vt),n=this.Ns.St().le();this.Ve.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineType,vs:i,ps:!1,tt:this.Ls,ds:n}),this.Oe.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,vs:i,tt:this.Ls,ds:n})}}class le extends rt{constructor(){super(...arguments),this.zt=null,this.ae=0}J(t){this.zt=t}K(t){if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;const{horizontalPixelRatio:e}=t;this.ae=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),r=Math.floor(t*e),s=Math.min(n,r);return Math.max(Math.floor(e),s)}(this.zt.le,e),this.ae>=2&&Math.floor(e)%2!=this.ae%2&&this.ae--;const i=this.zt.In;this.zt.Be&&this.Ae(t,i,this.zt.tt),this.zt._i&&this.Ie(t,i,this.zt.tt);const n=this.ze(e);(!this.zt._i||this.ae>2*n)&&this.Le(t,i,this.zt.tt)}Ae(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="",l=Math.min(Math.floor(r),Math.floor(this.zt.le*r));l=Math.max(Math.floor(r),Math.min(l,this.ae));const a=Math.floor(.5*l);let u=null;for(let c=i.from;c<i.to;c++){const t=e[c];t.Ee!==o&&(n.fillStyle=t.Ee,o=t.Ee);const i=Math.round(Math.min(t.pe,t.me)*s),h=Math.round(Math.max(t.pe,t.me)*s),d=Math.round(t.de*s),f=Math.round(t.fe*s);let p=Math.round(r*t.nt)-a;const m=p+l-1;null!==u&&(p=Math.max(u+1,p),p=Math.min(p,m));const b=m-p+1;n.fillRect(p,d,b,i-d),n.fillRect(p,h+1,b,f-h),u=m}}ze(t){let e=Math.floor(1*t);this.ae<=2*e&&(e=Math.floor(.5*(this.ae-1)));const i=Math.max(Math.floor(t),e);return this.ae<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}Ie(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const l=this.ze(r);let a=null;for(let u=i.from;u<i.to;u++){const t=e[u];t.Ne!==o&&(n.fillStyle=t.Ne,o=t.Ne);let i=Math.round(t.nt*r)-Math.floor(.5*this.ae);const c=i+this.ae-1,h=Math.round(Math.min(t.pe,t.me)*s),d=Math.round(Math.max(t.pe,t.me)*s);if(null!==a&&(i=Math.max(a+1,i),i=Math.min(i,c)),this.zt.le*r>2*l)ht(n,i,h,c-i+1,d-h+1,l);else{const t=c-i+1;n.fillRect(i,h,t,d-h+1)}a=c}}Le(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const l=this.ze(r);for(let a=i.from;a<i.to;a++){const t=e[a];let i=Math.round(Math.min(t.pe,t.me)*s),u=Math.round(Math.max(t.pe,t.me)*s),c=Math.round(t.nt*r)-Math.floor(.5*this.ae),h=c+this.ae-1;if(t.ce!==o){const e=t.ce;n.fillStyle=e,o=e}this.zt._i&&(c+=l,i+=l,h-=l,u-=l),i>u||n.fillRect(c,i,h-c+1,u-i+1)}}}class ae extends ie{constructor(){super(...arguments),this.js=new le}se(t,e,i){return Object.assign(Object.assign({},this.we(t,e,i)),i.$s(t))}Js(){const t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:t.wickVisible,_i:t.borderVisible,tt:this.Ls})}}class ue{constructor(t,e){this.Fe=t,this.Li=e}X(t,e,i){this.Fe.draw(t,this.Li,e,i)}}class ce extends Gt{constructor(t,e,i){super(t,e,!1),this.wn=i,this.js=new ue(this.wn.renderer(),e=>{const i=t.Ct();return null===i?null:t.Dt().Rt(e,i.Vt)})}We(t){return this.wn.priceValueBuilder(t)}je(t){return this.wn.isWhitespace(t)}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>Object.assign(Object.assign({ot:e.ee,nt:NaN},t.$s(e.ee)),{He:e.$e}))}Gs(t,e){e.Qs(this.zs,Z(this.Ls))}Js(){this.wn.update({bars:this.zs.map(he),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function he(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class de extends rt{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(t){this.zt=t,this.Ue=[]}K(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return;this.Ue.length||this.qe(i);const r=Math.max(1,Math.floor(n)),s=Math.round(this.zt.Ye*n)-Math.floor(r/2),o=s+r;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const t=this.zt.it[l],i=this.Ue[l-this.zt.tt.from],a=Math.round(t.st*n);let u,c;e.fillStyle=t.ce,a<=s?(u=a,c=o):(u=s,c=a-Math.floor(r/2)+r),e.fillRect(i.Os,u,i.ui-i.Os+1,c-u)}}qe(t){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return void(this.Ue=[]);const e=Math.ceil(this.zt.le*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.zt.le*t)-e;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const e=this.zt.it[r],n=Math.round(e.nt*t);let s,o;if(i%2){const t=(i-1)/2;s=n-t,o=n+t}else{const t=i/2;s=n-t,o=n+t-1}this.Ue[r-this.zt.tt.from]={Os:s,ui:o,Ze:n,Xe:e.nt*t,ot:e.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const t=this.Ue[r-this.zt.tt.from],i=this.Ue[r-this.zt.tt.from-1];t.ot===i.ot+1&&t.Os-i.ui!==e+1&&(i.Ze>i.Xe?i.ui=t.Os-e-1:t.Os=i.ui+e+1)}let n=Math.ceil(this.zt.le*t);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const t=this.Ue[r-this.zt.tt.from];t.ui<t.Os&&(t.ui=t.Os);const e=t.ui-t.Os+1;n=Math.min(e,n)}if(e>0&&n<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const t=this.Ue[r-this.zt.tt.from];t.ui-t.Os+1>n&&(t.Ze>t.Xe?t.ui-=1:t.Os+=1)}}}class fe extends Zt{constructor(){super(...arguments),this.js=new de}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){const t={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,D(this.Es.Ct()).Vt)};this.js.J(t)}}class pe extends Zt{constructor(){super(...arguments),this.js=new Ht}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){const t=this.Es.W(),e={it:this.zs,Nt:t.lineStyle,fs:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(e)}}const me=/[2-9]/g;class be{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=t}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(t,e,i){return this.sr(t,e,i).width}Mi(t,e,i){const n=this.sr(t,e,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}sr(t,e,i){const n=i||me,r=String(e).replace(n,"0");if(this.tr.has(r))return z(this.tr.get(r)).er;if(this.Ke===this.ir){const t=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(t),this.Je++,this.Ke--}t.save(),t.textBaseline="middle";const s=t.measureText(r);return t.restore(),0===s.width&&e.length||(this.tr.set(r,{er:s,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),s}}class ye{constructor(t){this.hr=null,this.k=null,this.lr="right",this.ar=t}_r(t,e,i){this.hr=t,this.k=e,this.lr=i}X(t){null!==this.k&&null!==this.hr&&this.hr.X(t,this.k,this.ar,this.lr)}}class ve{constructor(t,e,i){this.ur=t,this.ar=new be(50),this.cr=e,this.F=i,this.j=-1,this.Wt=new ye(this.ar)}gt(){const t=this.F.dr(this.cr);if(null===t)return null;const e=t.vr(this.cr)?t.pr():this.cr.Dt();if(null===e)return null;const i=t.mr(e);if("overlay"===i)return null;const n=this.F.br();return n.P!==this.j&&(this.j=n.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),n,i),this.Wt}}class ge extends rt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}wr(t,e){var i;if(!(null===(i=this.zt)||void 0===i?void 0:i.yt))return null;const{st:n,et:r,gr:s}=this.zt;return e>=n-r-7&&e<=n+r+7?{Mr:this.zt,gr:s}:null}K(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.zt)return;if(!1===this.zt.yt)return;const s=Math.round(this.zt.st*r);s<0||s>i.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*n),I(e,this.zt.Nt),N(e,s,0,i.width))}}class we{constructor(t){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new ge,this.ft=!0,this.Es=t,this.Ns=t.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class _e extends we{constructor(t){super(t)}yr(){this.Sr.yt=!1;const t=this.Es.Dt(),e=t.Cr().Cr;if(2!==e&&3!==e)return;const i=this.Es.W();if(!i.baseLineVisible||!this.Es.yt())return;const n=this.Es.Ct();null!==n&&(this.Sr.yt=!0,this.Sr.st=t.Rt(n.Vt,n.Vt),this.Sr.V=i.baseLineColor,this.Sr.et=i.baseLineWidth,this.Sr.Nt=i.baseLineStyle)}}class Se extends rt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}$e(){return this.zt}K(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;const r=this.zt;if(null===r)return;const s=Math.max(1,Math.floor(i)),o=s%2/2,l=Math.round(r.Xe.x*i)+o,a=r.Xe.y*n;e.fillStyle=r.Tr,e.beginPath();const u=Math.max(2,1.5*r.Pr)*i;e.arc(l,a,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.Rr,e.beginPath(),e.arc(l,a,r.ht*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=r.Dr,e.beginPath(),e.arc(l,a,r.ht*i+s/2,0,2*Math.PI,!1),e.stroke()}}const xe=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function Te(t,e,i,n){return function(t,e){if("transparent"===t)return t;const i=j(t),n=i[3];return"rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(e*n,")")}(t,i+(n-i)*e)}function Ee(t,e){const i=t%2600/2600;let n;for(const a of xe)if(i>=a.Vr&&i<=a.Or){n=a;break}O(void 0!==n,"Last price animation internal logic error");const r=(i-n.Vr)/(n.Or-n.Vr);return{Rr:Te(e,r,n.Ir,n.zr),Dr:Te(e,r,n.Lr,n.Er),ht:(s=r,o=n.Br,l=n.Ar,o+(l-o)*s)};var s,o,l}class Me{constructor(t){this.Wt=new Se,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=t}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),2===this.jr.W().lastPriceAnimation){const t=performance.now(),e=this.Wr-t;if(e>0)return void(e<650&&(this.Wr+=2600));this.Fr=t,this.Wr=t+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return 0!==this.jr.W().lastPriceAnimation}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.jr.$t().St(),e=t.Xs(),i=this.jr.Ct();if(null===e||null===i)return;const n=this.jr.Zr(!0);if(n.Xr||!e.Kr(n.ee))return;const r={x:t.It(n.ee),y:this.jr.Dt().Rt(n._t,i.Vt)},s=n.V,o=this.jr.W().lineWidth,l=Ee(this.Gr(),s);this.Wt.J({Tr:s,Pr:o,Rr:l.Rr,Dr:l.Dr,ht:l.ht,Xe:r})}Yr(){const t=this.Wt.$e();if(null!==t){const e=Ee(this.Gr(),t.Tr);t.Rr=e.Rr,t.Dr=e.Dr,t.ht=e.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function Ce(t,e){return Vt(Math.min(Math.max(t,12),30)*e)}function ke(t,e){switch(t){case"arrowDown":case"arrowUp":return Ce(e,1);case"circle":return Ce(e,.8);case"square":return Ce(e,.7)}}function Ie(t){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(Ce(t,1))}function Ne(t){return Math.max(Ce(t,.1),3)}function Oe(t,e,i){return e?t:i?Math.ceil(t/2):0}function ze(t,e,i,n,r){const s=ke("square",i),o=(s-1)/2,l=t-o,a=e-o;return n>=l&&n<=l+s&&r>=a&&r<=a+s}function De(t,e,i,n){const r=(ke("arrowUp",n)-1)/2*i.Jr,s=(Vt(n/2)-1)/2*i.Jr;e.beginPath(),t?(e.moveTo(i.nt-r,i.st),e.lineTo(i.nt,i.st-r),e.lineTo(i.nt+r,i.st),e.lineTo(i.nt+s,i.st),e.lineTo(i.nt+s,i.st+r),e.lineTo(i.nt-s,i.st+r),e.lineTo(i.nt-s,i.st)):(e.moveTo(i.nt-r,i.st),e.lineTo(i.nt,i.st+r),e.lineTo(i.nt+r,i.st),e.lineTo(i.nt+s,i.st),e.lineTo(i.nt+s,i.st-r),e.lineTo(i.nt-s,i.st-r),e.lineTo(i.nt-s,i.st)),e.fill()}class Le extends rt{constructor(){super(...arguments),this.zt=null,this.ar=new be,this.j=-1,this.H="",this.Qr=""}J(t){this.zt=t}_r(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Qr=et(t,e),this.ar.nr())}wr(t,e){if(null===this.zt||null===this.zt.tt)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const n=this.zt.it[i];if(Be(n,t,e))return{Mr:n.th,gr:n.gr}}return null}K(t,e,i){let{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;if(null!==this.zt&&null!==this.zt.tt){n.textBaseline="middle",n.font=this.Qr;for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){const e=this.zt.it[t];void 0!==e.Kt&&(e.Kt.Hi=this.ar.xi(n,e.Kt.ih),e.Kt.At=this.j,e.Kt.nt=e.nt-e.Kt.Hi/2),Ae(e,n,r,s)}}}}function Ae(t,e,i,n){e.fillStyle=t.V,void 0!==t.Kt&&function(t,e,i,n,r,s){t.save(),t.scale(r,s),t.fillText(e,i,n),t.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,i,n),function(t,e,i){if(0!==t.Ks){switch(t.nh){case"arrowDown":return void De(!1,e,i,t.Ks);case"arrowUp":return void De(!0,e,i,t.Ks);case"circle":return void function(t,e,i){const n=(ke("circle",i)-1)/2;t.beginPath(),t.arc(e.nt,e.st,n*e.Jr,0,2*Math.PI,!1),t.fill()}(e,i,t.Ks);case"square":return void function(t,e,i){const n=ke("square",i),r=(n-1)*e.Jr/2,s=e.nt-r,o=e.st-r;t.fillRect(s,o,n*e.Jr,n*e.Jr)}(e,i,t.Ks)}t.nh}}(t,e,function(t,e,i){const n=Math.max(1,Math.floor(e))%2/2;return{nt:Math.round(t.nt*e)+n,st:t.st*i,Jr:e}}(t,i,n))}function Be(t,e,i){return!(void 0===t.Kt||!function(t,e,i,n,r,s){const o=n/2;return r>=t&&r<=t+i&&s>=e-o&&s<=e+o}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,i))||function(t,e,i){if(0===t.Ks)return!1;switch(t.nh){case"arrowDown":case"arrowUp":return function(t,e,i,n,r,s){return ze(e,i,n,r,s)}(0,t.nt,t.st,t.Ks,e,i);case"circle":return function(t,e,i,n,r){const s=2+ke("circle",i)/2,o=t-n,l=e-r;return Math.sqrt(o*o+l*l)<=s}(t.nt,t.st,t.Ks,e,i);case"square":return ze(t.nt,t.st,t.Ks,e,i)}}(t,e,i)}function Pe(t,e,i,n,r,s,o,l,a){const u=X(i)?i:i.Se,c=X(i)?i:i.Me,h=X(i)?i:i.xe,d=X(e.size)?Math.max(e.size,0):1,f=Ie(l.le())*d,p=f/2;switch(t.Ks=f,e.position){case"inBar":return t.st=o.Rt(u,a),void(void 0!==t.Kt&&(t.Kt.st=t.st+p+s+.6*r));case"aboveBar":return t.st=o.Rt(c,a)-p-n.sh,void 0!==t.Kt&&(t.Kt.st=t.st-p-.6*r,n.sh+=1.2*r),void(n.sh+=f+s);case"belowBar":return t.st=o.Rt(h,a)+p+n.eh,void 0!==t.Kt&&(t.Kt.st=t.st+p+s+.6*r,n.eh+=1.2*r),void(n.eh+=f+s)}e.position}class Re{constructor(t,e){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new Le,this.jr=t,this.$i=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.hh=!0,"data"===t&&(this.rh=!0,this.oh=null)}gt(t){if(!this.jr.yt())return null;this.ft&&this._h();const e=this.$i.W().layout;return this.Wt._r(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const t=this.$i.St().le(),e=Ne(t),i=1.5*Ie(t)+2*e,n=this.fh();this.ah={above:Oe(i,n.aboveBar,n.inBar),below:Oe(i,n.belowBar,n.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return null===this.oh&&(this.oh=this.jr.dh().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const t=this.jr.Dt(),e=this.$i.St(),i=this.jr.dh();this.rh&&(this.zt.it=i.map(t=>({ot:t.time,nt:0,st:0,Ks:0,nh:t.shape,V:t.color,th:t.th,gr:t.id,Kt:void 0})),this.rh=!1);const n=this.$i.W().layout;this.zt.tt=null;const r=e.Xs();if(null===r)return;const s=this.jr.Ct();if(null===s)return;if(0===this.zt.it.length)return;let o=NaN;const l=Ne(e.le()),a={sh:l,eh:l};this.zt.tt=Jt(this.zt.it,r,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){const r=i[u];r.time!==o&&(a.sh=l,a.eh=l,o=r.time);const c=this.zt.it[u];c.nt=e.It(r.time),void 0!==r.text&&r.text.length>0&&(c.Kt={ih:r.text,nt:0,st:0,Hi:0,At:0});const h=this.jr.ph(r.time);null!==h&&Pe(c,r,h,a,n.fontSize,l,t,e,s.Vt)}this.ft=!1}}class Fe extends we{constructor(t){super(t)}yr(){const t=this.Sr;t.yt=!1;const e=this.Es.W();if(!e.priceLineVisible||!this.Es.yt())return;const i=this.Es.Zr(0===e.priceLineSource);i.Xr||(t.yt=!0,t.st=i.ki,t.V=this.Es.mh(i.V),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class Ve extends yt{constructor(t){super(),this.jt=t}zi(t,e,i){t.yt=!1,e.yt=!1;const n=this.jt;if(!n.yt())return;const r=n.W(),s=r.lastValueVisible,o=""!==n.bh(),l=0===r.seriesLastValueMode,a=n.Zr(!1);if(a.Xr)return;s&&(t.Kt=this.wh(a,s,l),t.yt=0!==t.Kt.length),(o||l)&&(e.Kt=this.gh(a,s,o,l),e.yt=e.Kt.length>0);const u=n.mh(a.V),c=$(u);i.t=c.t,i.ki=a.ki,e.Ot=n.$t().Bt(a.ki/n.Dt().At()),t.Ot=u,t.V=c.i,e.V=c.i}gh(t,e,i,n){let r="";const s=this.jt.bh();return i&&0!==s.length&&(r+="".concat(s," ")),e&&n&&(r+=this.jt.Dt().Mh()?t.xh:t.Sh),r.trim()}wh(t,e,i){return e?i?this.jt.Dt().Mh()?t.Sh:t.xh:t.Kt:""}}function Ue(t,e,i,n){const r=Number.isFinite(e),s=Number.isFinite(i);return r&&s?t(e,i):r||s?r?e:i:n}class je{constructor(t,e){this.kh=t,this.yh=e}Ch(t){return null!==t&&this.kh===t.kh&&this.yh===t.yh}Th(){return new je(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(t){return null===t?this:new je(Ue(Math.min,this.Ph(),t.Ph(),-1/0),Ue(Math.max,this.Rh(),t.Rh(),1/0))}Vh(t){if(!X(t))return;if(0===this.yh-this.kh)return;const e=.5*(this.yh+this.kh);let i=this.yh-e,n=this.kh-e;i*=t,n*=t,this.yh=e+i,this.kh=e+n}Oh(t){X(t)&&(this.yh+=t,this.kh+=t)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(t){return null===t?null:new je(t.minValue,t.maxValue)}}class We{constructor(t,e){this.Ih=t,this.zh=e||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return null===this.Ih?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(t){return null===t?null:new We(je.Ah(t.priceRange),t.margins)}}class $e extends we{constructor(t,e){super(t),this.Nh=e}yr(){const t=this.Sr;t.yt=!1;const e=this.Nh.W();if(!this.Es.yt()||!e.lineVisible)return;const i=this.Nh.Fh();null!==i&&(t.yt=!0,t.st=i,t.V=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.gr=this.Nh.W().id)}}class He extends yt{constructor(t,e){super(),this.jr=t,this.Nh=e}zi(t,e,i){t.yt=!1,e.yt=!1;const n=this.Nh.W(),r=n.axisLabelVisible,s=""!==n.title,o=this.jr;if(!r||!o.yt())return;const l=this.Nh.Fh();if(null===l)return;s&&(e.Kt=n.title,e.yt=!0),e.Ot=o.$t().Bt(l/o.Dt().At()),t.Kt=this.Wh(n.price),t.yt=!0;const a=$(n.axisLabelColor||n.color);i.t=a.t;const u=n.axisLabelTextColor||a.i;t.V=u,e.V=u,i.ki=l}Wh(t){const e=this.jr.Ct();return null===e?"":this.jr.Dt().Fi(t,e.Vt)}}class Ke{constructor(t,e){this.jr=t,this.cn=e,this.jh=new $e(t,this),this.ur=new He(t,this),this.Hh=new ve(this.ur,t,t.$t())}$h(t){K(this.cn,t),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const t=this.jr,e=t.Dt();if(t.$t().St().Ni()||e.Ni())return null;const i=t.Ct();return null===i?null:e.Rt(this.cn.price,i.Vt)}}class Xe extends St{constructor(t){super(),this.$i=t}$t(){return this.$i}}const Ye={Bar:(t,e,i,n)=>{var r;const s=e.upColor,o=e.downColor,l=D(t(i,n)),a=L(l.Vt[0])<=L(l.Vt[3]);return{ce:null!==(r=l.V)&&void 0!==r?r:a?s:o}},Candlestick:(t,e,i,n)=>{var r,s,o;const l=e.upColor,a=e.downColor,u=e.borderUpColor,c=e.borderDownColor,h=e.wickUpColor,d=e.wickDownColor,f=D(t(i,n)),p=L(f.Vt[0])<=L(f.Vt[3]);return{ce:null!==(r=f.V)&&void 0!==r?r:p?l:a,Ne:null!==(s=f.Ot)&&void 0!==s?s:p?u:c,Ee:null!==(o=f.Xh)&&void 0!==o?o:p?h:d}},Custom:(t,e,i,n)=>{var r;return{ce:null!==(r=D(t(i,n)).V)&&void 0!==r?r:e.color}},Area:(t,e,i,n)=>{var r,s,o,l;const a=D(t(i,n));return{ce:null!==(r=a.lt)&&void 0!==r?r:e.lineColor,lt:null!==(s=a.lt)&&void 0!==s?s:e.lineColor,Ps:null!==(o=a.Ps)&&void 0!==o?o:e.topColor,Rs:null!==(l=a.Rs)&&void 0!==l?l:e.bottomColor}},Baseline:(t,e,i,n)=>{var r,s,o,l,a,u;const c=D(t(i,n));return{ce:c.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:null!==(r=c.Re)&&void 0!==r?r:e.topLineColor,De:null!==(s=c.De)&&void 0!==s?s:e.bottomLineColor,ke:null!==(o=c.ke)&&void 0!==o?o:e.topFillColor1,ye:null!==(l=c.ye)&&void 0!==l?l:e.topFillColor2,Ce:null!==(a=c.Ce)&&void 0!==a?a:e.bottomFillColor1,Te:null!==(u=c.Te)&&void 0!==u?u:e.bottomFillColor2}},Line:(t,e,i,n)=>{var r,s;const o=D(t(i,n));return{ce:null!==(r=o.V)&&void 0!==r?r:e.color,lt:null!==(s=o.V)&&void 0!==s?s:e.color}},Histogram:(t,e,i,n)=>{var r;return{ce:null!==(r=D(t(i,n)).V)&&void 0!==r?r:e.color}}};class qe{constructor(t){this.Kh=(t,e)=>void 0!==e?e.Vt:this.jr.In().Gh(t),this.jr=t,this.Jh=Ye[t.Qh()]}$s(t,e){return this.Jh(this.Kh,this.jr.W(),t,e)}}var Qe;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Qe||(Qe={}));const Je=30;class Ge{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return 0===this.Ks()}Kr(t){return null!==this.hl(t,0)}Gh(t){return this.ll(t)}ll(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this.hl(t,e);return null===i?null:Object.assign(Object.assign({},this.al(i)),{ee:this.rl(i)})}ne(){return this.tl}ol(t,e,i){if(this.Ni())return null;let n=null;for(const r of i)n=Ze(n,this._l(t,e,r));return n}J(t){this.nl.clear(),this.il.clear(),this.tl=t}rl(t){return this.tl[t].ee}al(t){return this.tl[t]}hl(t,e){const i=this.ul(t);if(null===i&&0!==e)switch(e){case-1:return this.cl(t);case 1:return this.dl(t);default:throw new TypeError("Unknown search mode")}return i}cl(t){let e=this.fl(t);return e>0&&(e-=1),e!==this.tl.length&&this.rl(e)<t?e:null}dl(t){const e=this.vl(t);return e!==this.tl.length&&t<this.rl(e)?e:null}ul(t){const e=this.fl(t);return e===this.tl.length||t<this.tl[e].ee?null:e}fl(t){return Xt(this.tl,t,(t,e)=>t.ee<e)}vl(t){return Yt(this.tl,t,(t,e)=>t.ee>e)}pl(t,e,i){let n=null;for(let r=t;r<e;r++){const t=this.tl[r].Vt[i];Number.isNaN(t)||(null===n?n={ml:t,bl:t}:(t<n.ml&&(n.ml=t),t>n.bl&&(n.bl=t)))}return n}_l(t,e,i){if(this.Ni())return null;let n=null;const r=D(this.el()),s=D(this.An()),o=Math.max(t,r),l=Math.min(e,s),a=Math.ceil(o/Je)*Je,u=Math.max(a,Math.floor(l/Je)*Je);{const t=this.fl(o),r=this.vl(Math.min(l,a,e));n=Ze(n,this.pl(t,r,i))}let c=this.il.get(i);void 0===c&&(c=new Map,this.il.set(i,c));for(let h=Math.max(a+1,o);h<u;h+=Je){const t=Math.floor(h/Je);let e=c.get(t);if(void 0===e){const n=this.fl(t*Je),r=this.vl((t+1)*Je-1);e=this.pl(n,r,i),c.set(t,e)}n=Ze(n,e)}{const t=this.fl(u),e=this.vl(l);n=Ze(n,this.pl(t,e,i))}return n}}function Ze(t,e){return null===t?e:null===e?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class ti{constructor(t){this.wl=t}X(t,e,i){this.wl.draw(t)}gl(t,e,i){var n,r;null===(r=(n=this.wl).drawBackground)||void 0===r||r.call(n,t)}}class ei{constructor(t){this.tr=null,this.wn=t}gt(){var t;const e=this.wn.renderer();if(null===e)return null;if((null===(t=this.tr)||void 0===t?void 0:t.Ml)===e)return this.tr.xl;const i=new ti(e);return this.tr={Ml:e,xl:i},i}Sl(){var t,e,i;return null!==(i=null===(e=(t=this.wn).zOrder)||void 0===e?void 0:e.call(t))&&void 0!==i?i:"normal"}}function ii(t){var e,i,n,r,s;return{Kt:t.text(),ki:t.coordinate(),Si:null===(e=t.fixedCoordinate)||void 0===e?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:null===(n=null===(i=t.visible)||void 0===i?void 0:i.call(t))||void 0===n||n,hi:null===(s=null===(r=t.tickVisible)||void 0===r?void 0:r.call(t))||void 0===s||s}}class ni{constructor(t,e){this.Wt=new wt,this.kl=t,this.yl=e}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},ii(this.kl))),this.Wt}}class ri extends yt{constructor(t,e){super(),this.kl=t,this.Li=e}zi(t,e,i){const n=ii(this.kl);i.t=n.t,t.V=n.V;const r=2/12*this.Li.P();i.wi=r,i.gi=r,i.ki=n.ki,i.Si=n.Si,t.Kt=n.Kt,t.yt=n.yt,t.hi=n.hi}}class si{constructor(t,e){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=t,this.jr=e}Ol(){return this.Vl}Vn(){var t,e;null===(e=(t=this.Vl).updateAllViews)||void 0===e||e.call(t)}Pn(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).paneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Cl)||void 0===n?void 0:n.Ml)===r)return this.Cl.xl;const s=r.map(t=>new ei(t));return this.Cl={Ml:r,xl:s},s}Qi(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).timeAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Tl)||void 0===n?void 0:n.Ml)===r)return this.Tl.xl;const s=this.jr.$t().St(),o=r.map(t=>new ni(t,s));return this.Tl={Ml:r,xl:o},o}Rn(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).priceAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Pl)||void 0===n?void 0:n.Ml)===r)return this.Pl.xl;const s=this.jr.Dt(),o=r.map(t=>new ri(t,s));return this.Pl={Ml:r,xl:o},o}Bl(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).priceAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Rl)||void 0===n?void 0:n.Ml)===r)return this.Rl.xl;const s=r.map(t=>new ei(t));return this.Rl={Ml:r,xl:s},s}Al(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).timeAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Dl)||void 0===n?void 0:n.Ml)===r)return this.Dl.xl;const s=r.map(t=>new ei(t));return this.Dl={Ml:r,xl:s},s}Il(t,e){var i,n,r;return null!==(r=null===(n=(i=this.Vl).autoscaleInfo)||void 0===n?void 0:n.call(i,t,e))&&void 0!==r?r:null}wr(t,e){var i,n,r;return null!==(r=null===(n=(i=this.Vl).hitTest)||void 0===n?void 0:n.call(i,t,e))&&void 0!==r?r:null}}function oi(t,e,i,n){t.forEach(t=>{e(t).forEach(t=>{t.Sl()===i&&n.push(t)})})}function li(t){return t.Pn()}function ai(t){return t.Bl()}function ui(t){return t.Al()}class ci extends Xe{constructor(t,e,i,n,r){super(t),this.zt=new Ge,this.jh=new Fe(this),this.zl=[],this.Ll=new _e(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=e,this.$l=i;const s=new Ve(this);this.rn=[s],this.Hh=new ve(s,this,t),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(this.El=new Me(this)),this.Ul(),this.ql(r)}S(){null!==this.jl&&clearTimeout(this.jl)}mh(t){return this.cn.priceLineColor||t}Zr(t){const e={Xr:!0},i=this.Dt();if(this.$t().St().Ni()||i.Ni()||this.zt.Ni())return e;const n=this.$t().St().Xs(),r=this.Ct();if(null===n||null===r)return e;let s,o;if(t){const t=this.zt.sl();if(null===t)return e;s=t,o=t.ee}else{const t=this.zt.ll(n.ui(),-1);if(null===t)return e;if(s=this.zt.Gh(t.ee),null===s)return e;o=t.ee}const l=s.Vt[3],a=this.Us().$s(o,{Vt:s}),u=i.Rt(l,r.Vt);return{Xr:!1,_t:l,Kt:i.Fi(l,r.Vt),xh:i.Yl(l),Sh:i.Zl(l,r.Vt),V:a.ce,ki:u,ee:o}}Us(){return null!==this.Nl||(this.Nl=new qe(this)),this.Nl}W(){return this.cn}$h(t){const e=t.priceScaleId;void 0!==e&&e!==this.cn.priceScaleId&&this.$t().Xl(this,e),K(this.cn,t),void 0!==t.priceFormat&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(t,e){this.zt.J(t),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),null!==this.El&&(e&&e.ta?this.El.$r():0===t.length&&this.El.Hr());const i=this.$t().dr(this);this.$t().ia(i),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(t){this.Fl=t,this.Ql();const e=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(e),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(t){const e=new Ke(this,t);return this.zl.push(e),this.$t().Gl(this),e}ra(t){const e=this.zl.indexOf(t);-1!==e&&this.zl.splice(e,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const t=this.ha();return null===t?null:{Vt:t.Vt[3],la:t.ot}}ha(){const t=this.$t().St().Xs();if(null===t)return null;const e=t.Os();return this.zt.ll(e,1)}In(){return this.zt}ph(t){const e=this.zt.Gh(t);return null===e?null:"Bar"===this.$l||"Candlestick"===this.$l||"Custom"===this.$l?{ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3]}:e.Vt[3]}aa(t){const e=[];oi(this.Hl,li,"top",e);const i=this.El;return null!==i&&i.yt()?(null===this.jl&&i.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),i.Ur(),e.unshift(i),e):e}Pn(){const t=[];this._a()||t.push(this.Ll),t.push(this.wn,this.jh,this.dn);const e=this.zl.map(t=>t.qh());return t.push(...e),oi(this.Hl,li,"normal",t),t}ua(){return this.ca(li,"bottom")}da(t){return this.ca(ai,t)}fa(t){return this.ca(ui,t)}va(t,e){return this.Hl.map(i=>i.wr(t,e)).filter(t=>null!==t)}Ji(t){return[this.Hh,...this.zl.map(t=>t.Yh())]}Rn(t,e){if(e!==this.Yi&&!this._a())return[];const i=[...this.rn];for(const n of this.zl)i.push(n.Zh());return this.Hl.forEach(t=>{i.push(...t.Rn())}),i}Qi(){const t=[];return this.Hl.forEach(e=>{t.push(...e.Qi())}),t}Il(t,e){if(void 0!==this.cn.autoscaleInfoProvider){const i=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(t,e);return null===i?null:i.Bh()});return We.Ah(i)}return this.pa(t,e)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var t;this.wn.bt(),this.dn.bt();for(const e of this.rn)e.bt();for(const e of this.zl)e.bt();this.jh.bt(),this.Ll.bt(),null===(t=this.El)||void 0===t||t.bt(),this.Hl.forEach(t=>t.Vn())}Dt(){return D(super.Dt())}kt(t){if("Line"!==this.$l&&"Area"!==this.$l&&"Baseline"!==this.$l||!this.cn.crosshairMarkerVisible)return null;const e=this.zt.Gh(t);return null===e?null:{_t:e.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(t)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(t){this.Hl.push(new si(t,this))}ya(t){this.Hl=this.Hl.filter(e=>e.Ol()!==t)}Ca(){if(this.wn instanceof ce!=0)return t=>this.wn.We(t)}Ta(){if(this.wn instanceof ce!=0)return t=>this.wn.je(t)}_a(){return!Et(this.Dt().Pa())}pa(t,e){if(!Y(t)||!Y(e)||this.zt.Ni())return null;const i="Line"===this.$l||"Area"===this.$l||"Baseline"===this.$l||"Histogram"===this.$l?[3]:[2,1],n=this.zt.ol(t,e,i);let r=null!==n?new je(n.ml,n.bl):null;if("Histogram"===this.Qh()){const t=this.cn.base,e=new je(t,t);r=null!==r?r.ts(e):e}let s=this.dn.uh();return this.Hl.forEach(i=>{const n=i.Il(t,e);if(null==n?void 0:n.priceRange){const t=new je(n.priceRange.minValue,n.priceRange.maxValue);r=null!==r?r.ts(t):t}var o,l,a,u;(null==n?void 0:n.margins)&&(o=s,l=n.margins,s={above:Math.max(null!==(a=null==o?void 0:o.above)&&void 0!==a?a:0,l.above),below:Math.max(null!==(u=null==o?void 0:o.below)&&void 0!==u?u:0,l.below)})}),new We(r,s)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(t){switch(this.$l){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.Us().$s(t).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new Nt(this.cn.priceFormat.precision);break;case"percent":this.wa=new It(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.wa=new kt(t,this.cn.priceFormat.minMove*t)}}null!==this.Yi&&this.Yi.Ra()}Ql(){const t=this.$t().St();if(!t.Da()||this.zt.Ni())return void(this.Wl=[]);const e=D(this.zt.el());this.Wl=this.Fl.map((i,n)=>{const r=D(t.Va(i.time,!0)),s=r<e?1:-1;return{time:D(this.zt.ll(r,s)).ee,position:i.position,shape:i.shape,color:i.color,id:i.id,th:n,text:i.text,size:i.size,originalTime:i.originalTime}})}ql(t){switch(this.dn=new Re(this,this.$t()),this.$l){case"Bar":this.wn=new ne(this,this.$t());break;case"Candlestick":this.wn=new ae(this,this.$t());break;case"Line":this.wn=new pe(this,this.$t());break;case"Custom":this.wn=new ce(this,this.$t(),z(t));break;case"Area":this.wn=new te(this,this.$t());break;case"Baseline":this.wn=new oe(this,this.$t());break;case"Histogram":this.wn=new fe(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(t,e){const i=[];return oi(this.Hl,t,e,i),i}}class hi{constructor(t){this.cn=t}Oa(t,e,i){let n=t;if(0===this.cn.mode)return n;const r=i.vn(),s=r.Ct();if(null===s)return n;const o=r.Rt(t,s),l=i.Ba().filter(t=>t instanceof ci).reduce((t,n)=>{if(i.vr(n)||!n.yt())return t;const r=n.Dt(),s=n.In();if(r.Ni()||!s.Kr(e))return t;const o=s.Gh(e);if(null===o)return t;const l=L(n.Ct());return t.concat([r.Rt(o.Vt[3],l.Vt)])},[]);if(0===l.length)return n;l.sort((t,e)=>Math.abs(t-o)-Math.abs(e-o));const a=l[0];return n=r.pn(a,s),n}}class di extends rt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.zt)return;const s=Math.max(1,Math.floor(n));e.lineWidth=s,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(e,()=>{const t=D(this.zt);if(t.Aa){e.strokeStyle=t.Ia,I(e,t.za),e.beginPath();for(const r of t.La){const t=Math.round(r.Ea*n);e.moveTo(t,-s),e.lineTo(t,i.height+s)}e.stroke()}if(t.Na){e.strokeStyle=t.Fa,I(e,t.Wa),e.beginPath();for(const n of t.ja){const t=Math.round(n.Ea*r);e.moveTo(-s,t),e.lineTo(i.width+s,t)}e.stroke()}})}}class fi{constructor(t){this.Wt=new di,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,e={Na:t.horzLines.visible,Aa:t.vertLines.visible,Fa:t.horzLines.color,Ia:t.vertLines.color,Wa:t.horzLines.style,za:t.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(t=>({Ea:t.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class pi{constructor(t){this.wn=new fi(t)}qh(){return this.wn}}const mi={$a:4,Ua:1e-4};function bi(t,e){const i=100*(t-e)/e;return e<0?-i:i}function yi(t,e){const i=bi(t.Ph(),e),n=bi(t.Rh(),e);return new je(i,n)}function vi(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function gi(t,e){const i=vi(t.Ph(),e),n=vi(t.Rh(),e);return new je(i,n)}function wi(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.Ua)+e.$a;return t<0?-n:n}function _i(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.$a)-e.Ua;return t<0?-n:n}function Si(t,e){if(null===t)return null;const i=wi(t.Ph(),e),n=wi(t.Rh(),e);return new je(i,n)}function xi(t,e){if(null===t)return null;const i=_i(t.Ph(),e),n=_i(t.Rh(),e);return new je(i,n)}function Ti(t){if(null===t)return mi;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return mi;const i=Math.ceil(Math.abs(Math.log10(e))),n=mi.$a+i;return{$a:n,Ua:1/Math.pow(10,n)}}class Ei{constructor(t,e){if(this.qa=t,this.Ya=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let t=this.qa;1!==t;){if(t%2==0)this.Za.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),t/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(t,e,i){const n=0===this.qa?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),s=0,o=this.Ya[0];for(;;){const t=Ft(r,n,1e-14)&&r>n+1e-14,e=Ft(r,i*o,1e-14),l=Ft(r,1,1e-14);if(!(t&&e&&l))break;r/=o,o=this.Ya[++s%this.Ya.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.Za.length>0&&(l=r,Math.abs(l-1)<1e-14))for(s=0,o=this.Za[0];Ft(r,i*o,1e-14)&&r>n+1e-14;)r/=o,o=this.Za[++s%this.Za.length];var l;return r}}class Mi{constructor(t,e,i,n){this.Ka=[],this.Li=t,this.qa=e,this.Ga=i,this.Ja=n}Xa(t,e){if(t<e)throw new Error("high < low");const i=this.Li.At(),n=(t-e)*this.Qa()/i,r=new Ei(this.qa,[2,2.5,2]),s=new Ei(this.qa,[2,2,2.5]),o=new Ei(this.qa,[2.5,2,2]),l=[];return l.push(r.Xa(t,e,n),s.Xa(t,e,n),o.Xa(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(l)}io(){const t=this.Li,e=t.Ct();if(null===e)return void(this.Ka=[]);const i=t.At(),n=this.Ga(i-1,e),r=this.Ga(0,e),s=this.Li.W().entireTextOnly?this.no()/2:0,o=s,l=i-1-s,a=Math.max(n,r),u=Math.min(n,r);if(a===u)return void(this.Ka=[]);let c=this.Xa(a,u),h=a%c;h+=h<0?c:0;const d=a>=u?1:-1;let f=null,p=0;for(let m=a-h;m>u;m-=c){const i=this.Ja(m,e,!0);null!==f&&Math.abs(i-f)<this.Qa()||i<o||i>l||(p<this.Ka.length?(this.Ka[p].Ea=i,this.Ka[p].so=t.eo(m)):this.Ka.push({Ea:i,so:t.eo(m)}),p++,f=i,t.ro()&&(c=this.Xa(m*d,u)))}this.Ka.length=p}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function Ci(t){return t.slice().sort((t,e)=>D(t.Xi())-D(e.Xi()))}var ki;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(ki||(ki={}));const Ii=new It,Ni=new kt(100,1);class Oi{constructor(t,e,i,n){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new H,this.vo=new H,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=Ni,this.xo=Ti(null),this.So=t,this.cn=e,this.ko=i,this.yo=n,this.Co=new Mi(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(t){if(K(this.cn,t),this.Ra(),void 0!==t.mode&&this.Ro({Cr:t.mode}),void 0!==t.scaleMargins){const e=z(t.scaleMargins.top),i=z(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(i<0||i>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(i));if(e+i>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+i));this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return 1===this.cn.mode}Mh(){return 2===this.cn.mode}Oo(){return 3===this.cn.mode}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(t){const e=this.Cr();let i=null;void 0!==t.Wn&&(this.cn.autoScale=t.Wn),void 0!==t.Cr&&(this.cn.mode=t.Cr,2!==t.Cr&&3!==t.Cr||(this.cn.autoScale=!0),this.oo._o=!1),1===e.Cr&&t.Cr!==e.Cr&&(function(t,e){if(null===t)return!1;const i=_i(t.Ph(),e),n=_i(t.Rh(),e);return isFinite(i)&&isFinite(n)}(this.Ih,this.xo)?(i=xi(this.Ih,this.xo),null!==i&&this.Ao(i)):this.cn.autoScale=!0),1===t.Cr&&t.Cr!==e.Cr&&(i=Si(this.Ih,this.xo),null!==i&&this.Ao(i));const n=e.Cr!==this.cn.mode;n&&(2===e.Cr||this.Mh())&&this.Ra(),n&&(3===e.Cr||this.Oo())&&this.Ra(),void 0!==t.Bo&&e.Bo!==t.Bo&&(this.cn.invertScale=t.Bo,this.Io()),this.vo.m(e,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(t){this.ho!==t&&(this.ho=t,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const t=this.At()-this.No()-this.Fo();return this.lo=t,t}Lh(){return this.Wo(),this.Ih}Ao(t,e){const i=this.Ih;(e||null===i&&null!==t||null!==i&&!i.Ch(t))&&(this.bo=null,this.Ih=t)}Ni(){return this.Wo(),0===this.ho||!this.Ih||this.Ih.Ni()}jo(t){return this.Bo()?t:this.At()-1-t}Rt(t,e){return this.Mh()?t=bi(t,e):this.Oo()&&(t=vi(t,e)),this.Po(t,e)}te(t,e,i){this.Wo();const n=this.Fo(),r=D(this.Lh()),s=r.Ph(),o=r.Rh(),l=this.Eo()-1,a=this.Bo(),u=l/(o-s),c=void 0===i?0:i.from,h=void 0===i?t.length:i.to,d=this.Ho();for(let f=c;f<h;f++){const i=t[f],r=i._t;if(isNaN(r))continue;let o=r;null!==d&&(o=d(i._t,e));const l=n+u*(o-s),c=a?l:this.ho-1-l;i.st=c}}be(t,e,i){this.Wo();const n=this.Fo(),r=D(this.Lh()),s=r.Ph(),o=r.Rh(),l=this.Eo()-1,a=this.Bo(),u=l/(o-s),c=void 0===i?0:i.from,h=void 0===i?t.length:i.to,d=this.Ho();for(let f=c;f<h;f++){const i=t[f];let r=i.ge,o=i.Me,l=i.xe,c=i.Se;null!==d&&(r=d(i.ge,e),o=d(i.Me,e),l=d(i.xe,e),c=d(i.Se,e));let h=n+u*(r-s),p=a?h:this.ho-1-h;i.pe=p,h=n+u*(o-s),p=a?h:this.ho-1-h,i.de=p,h=n+u*(l-s),p=a?h:this.ho-1-h,i.fe=p,h=n+u*(c-s),p=a?h:this.ho-1-h,i.me=p}}pn(t,e){const i=this.To(t,e);return this.$o(i,e)}$o(t,e){let i=t;return this.Mh()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.Oo()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let t=[];for(let e=0;e<this.po.length;e++){const i=this.po[e];null===i.Xi()&&i.Ki(e+1),t.push(i)}return t=Ci(t),this.mo=t,this.mo}qo(t){-1===this.po.indexOf(t)&&(this.po.push(t),this.Ra(),this.Yo())}Zo(t){const e=this.po.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.po.splice(e,1),0===this.po.length&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let t=null;for(const e of this.po){const i=e.Ct();null!==i&&(null===t||i.la<t.la)&&(t=i)}return null===t?null:t.Vt}Bo(){return this.cn.invertScale}Ha(){const t=null===this.Ct();if(null!==this.bo&&(t||this.bo.Xo===t))return this.bo.Ha;this.Co.io();const e=this.Co.Ha();return this.bo={Ha:e,Xo:t},this.fo.m(),e}Ko(){return this.fo}Go(t){this.Mh()||this.Oo()||null===this.wo&&null===this.ao&&(this.Ni()||(this.wo=this.ho-t,this.ao=D(this.Lh()).Th()))}Jo(t){if(this.Mh()||this.Oo())return;if(null===this.wo)return;this.Ro({Wn:!1}),(t=this.ho-t)<0&&(t=0);let e=(this.wo+.2*(this.ho-1))/(t+.2*(this.ho-1));const i=D(this.ao).Th();e=Math.max(e,.1),i.Vh(e),this.Ao(i)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(t){this.Vo()||null===this.Mo&&null===this.ao&&(this.Ni()||(this.Mo=t,this.ao=D(this.Lh()).Th()))}i_(t){if(this.Vo())return;if(null===this.Mo)return;const e=D(this.Lh()).Dh()/(this.Eo()-1);let i=t-this.Mo;this.Bo()&&(i*=-1);const n=i*e,r=D(this.ao).Th();r.Oh(n),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||null!==this.Mo&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(t,e){switch(this.cn.mode){case 2:return this.s_(bi(t,e));case 3:return this.ba().format(vi(t,e));default:return this.Wh(t)}}eo(t){switch(this.cn.mode){case 2:return this.s_(t);case 3:return this.ba().format(t);default:return this.Wh(t)}}Yl(t){return this.Wh(t,D(this.e_()).ba())}Zl(t,e){return t=bi(t,e),this.s_(t,Ii)}r_(){return this.po}h_(t){this.oo={uo:t,_o:!1}}Vn(){this.po.forEach(t=>t.Vn())}Ra(){this.bo=null;const t=this.e_();let e=100;null!==t&&(e=Math.round(1/t.ma())),this.wa=Ni,this.Mh()?(this.wa=Ii,e=100):this.Oo()?(this.wa=new kt(100,1),e=100):null!==t&&(this.wa=t.ba()),this.Co=new Mi(this,e,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(t,e){if(this.Wo(),this.Ni())return 0;t=this.ro()&&t?wi(t,this.xo):t;const i=D(this.Lh()),n=this.Fo()+(this.Eo()-1)*(t-i.Ph())/i.Dh();return this.jo(n)}To(t,e){if(this.Wo(),this.Ni())return 0;const i=this.jo(t),n=D(this.Lh()),r=n.Ph()+n.Dh()*((i-this.Fo())/(this.Eo()-1));return this.ro()?_i(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const t=this.oo.uo;if(null===t)return;let e=null;const i=this.r_();let n=0,r=0;for(const l of i){if(!l.yt())continue;const i=l.Ct();if(null===i)continue;const s=l.Il(t.Os(),t.ui());let o=s&&s.Lh();if(null!==o){switch(this.cn.mode){case 1:o=Si(o,this.xo);break;case 2:o=yi(o,i.Vt);break;case 3:o=gi(o,i.Vt)}if(e=null===e?o:e.ts(D(o)),null!==s){const t=s.Eh();null!==t&&(n=Math.max(n,t.above),r=Math.max(r,t.below))}}}if(n===this.co&&r===this.do||(this.co=n,this.do=r,this.bo=null,this.Do()),null!==e){if(e.Ph()===e.Rh()){const t=this.e_(),i=5*(null===t||this.Mh()||this.Oo()?1:t.ma());this.ro()&&(e=xi(e,this.xo)),e=new je(e.Ph()-i,e.Rh()+i),this.ro()&&(e=Si(e,this.xo))}if(this.ro()){const t=xi(e,this.xo),i=Ti(t);if(s=i,o=this.xo,s.$a!==o.$a||s.Ua!==o.Ua){const n=null!==this.ao?xi(this.ao,this.xo):null;this.xo=i,e=Si(t,i),null!==n&&(this.ao=Si(n,i))}}this.Ao(e)}else null===this.Ih&&(this.Ao(new je(-.5,.5)),this.xo=Ti(null));var s,o;this.oo._o=!0}Ho(){return this.Mh()?bi:this.Oo()?vi:this.ro()?t=>wi(t,this.xo):null}a_(t,e,i){return void 0===e?(void 0===i&&(i=this.ba()),i.format(t)):e(t)}Wh(t,e){return this.a_(t,this.yo.priceFormatter,e)}s_(t,e){return this.a_(t,this.yo.percentageFormatter,e)}}class zi{constructor(t,e){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new H,this.yl=t,this.$i=e,this.d_=new pi(this);const i=e.W();this.f_=this.v_("left",i.leftPriceScale),this.p_=this.v_("right",i.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(i)}b_(t){if(t.leftPriceScale&&this.f_.$h(t.leftPriceScale),t.rightPriceScale&&this.p_.$h(t.rightPriceScale),t.localization&&(this.f_.Ra(),this.p_.Ra()),t.overlayPriceScales){const e=Array.from(this.o_.values());for(const i of e){const e=D(i[0].Dt());e.$h(t.overlayPriceScales),t.localization&&e.Ra()}}}w_(t){switch(t){case"left":return this.f_;case"right":return this.p_}return this.o_.has(t)?z(this.o_.get(t))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(t=>{t.S&&t.S()}),this.c_.m()}M_(){return this.u_}x_(t){this.u_=t}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(t){this.__=t,this.k_()}Lo(t){this.ho=t,this.f_.Lo(t),this.p_.Lo(t),this.po.forEach(e=>{if(this.vr(e)){const i=e.Dt();null!==i&&i.Lo(t)}}),this.k_()}Ba(){return this.po}vr(t){const e=t.Dt();return null===e||this.f_!==e&&this.p_!==e}qo(t,e,i){const n=void 0!==i?i:this.C_().y_+1;this.T_(t,e,n)}Zo(t){const e=this.po.indexOf(t);O(-1!==e,"removeDataSource: invalid data source"),this.po.splice(e,1);const i=D(t.Dt()).Pa();if(this.o_.has(i)){const e=z(this.o_.get(i)),n=e.indexOf(t);-1!==n&&(e.splice(n,1),0===e.length&&this.o_.delete(i))}const n=t.Dt();n&&n.Ba().indexOf(t)>=0&&n.Zo(t),null!==n&&(n.Yo(),this.P_(n)),this.mo=null}mr(t){return t===this.f_?"left":t===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(t,e){t.Go(e)}O_(t,e){t.Jo(e),this.k_()}B_(t){t.Qo()}A_(t,e){t.t_(e)}I_(t,e){t.i_(e),this.k_()}z_(t){t.n_()}k_(){this.po.forEach(t=>{t.Vn()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&0!==this.p_.Ba().length?t=this.p_:this.$i.W().leftPriceScale.visible&&0!==this.f_.Ba().length?t=this.f_:0!==this.po.length&&(t=this.po[0].Dt()),null===t&&(t=this.p_),t}pr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.p_:this.$i.W().leftPriceScale.visible&&(t=this.f_),t}P_(t){null!==t&&t.Vo()&&this.L_(t)}E_(t){const e=this.yl.Xs();t.Ro({Wn:!0}),null!==e&&t.h_(e),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(t=>{this.vr(t)&&this.P_(t.Dt())}),this.k_(),this.$i.Uh()}Uo(){return null===this.mo&&(this.mo=Ci(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(t){const e=t.r_();if(e&&e.length>0&&!this.yl.Ni()){const e=this.yl.Xs();null!==e&&t.h_(e)}t.Vn()}C_(){const t=this.Uo();if(0===t.length)return{H_:0,y_:0};let e=0,i=0;for(let n=0;n<t.length;n++){const r=t[n].Xi();null!==r&&(r<e&&(e=r),r>i&&(i=r))}return{H_:e,y_:i}}T_(t,e,i){let n=this.w_(e);if(null===n&&(n=this.v_(e,this.$i.W().overlayPriceScales)),this.po.push(t),!Et(e)){const i=this.o_.get(e)||[];i.push(t),this.o_.set(e,i)}n.qo(t),t.Gi(n),t.Ki(i),this.P_(n),this.mo=null}m_(t,e,i){e.Cr!==i.Cr&&this.L_(t)}v_(t,e){const i=Object.assign({visible:!0,autoScale:!0},J(e)),n=new Oi(t,i,this.$i.W().layout,this.$i.W().localization);return n.Lo(this.At()),n}}class Di{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=t,this.q_=e,this.ir=i}Y_(t){const e=t.time,i=this.q_.cacheKey(e),n=this.tr.get(i);if(void 0!==n)return n.Z_;if(this.Ke===this.ir){const t=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(z(t)),this.Je++,this.Ke--}const r=this.U_(t);return this.tr.set(i,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,i),this.Ke++,this.Ge++,r}}class Li{constructor(t,e){O(t<=e,"right should be >= left"),this.X_=t,this.K_=e}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(t){return this.X_<=t&&t<=this.K_}Ch(t){return this.X_===t.Os()&&this.K_===t.ui()}}function Ai(t,e){return null===t||null===e?t===e:t.Ch(e)}class Bi{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(t){this.Q_=t,this.tr=null}iu(t,e){this.nu(e),this.tr=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this.J_.get(e.timeWeight);void 0===n&&(n=[],this.J_.set(e.timeWeight,n)),n.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}su(t,e){const i=Math.ceil(e/t);return null!==this.tr&&this.tr.eu===i||(this.tr={Ha:this.ru(i),eu:i}),this.tr.Ha}nu(t){if(0===t)return void this.J_.clear();const e=[];this.J_.forEach((i,n)=>{t<=i[0].index?e.push(n):i.splice(Xt(i,t,e=>e.index<t),1/0)});for(const i of e)this.J_.delete(i)}ru(t){let e=[];for(const i of Array.from(this.J_.keys()).sort((t,e)=>e-t)){if(!this.J_.get(i))continue;const n=e;e=[];const r=n.length;let s=0;const o=z(this.J_.get(i)),l=o.length;let a=1/0,u=-1/0;for(let i=0;i<l;i++){const l=o[i],c=l.index;for(;s<r;){const t=n[s],i=t.index;if(!(i<c)){a=i;break}s++,e.push(t),u=i,a=1/0}if(a-c>=t&&c-u>=t)e.push(l),u=c;else if(this.Q_)return n}for(;s<r;s++)e.push(n[s])}return e}}class Pi{constructor(t){this.hu=t}lu(){return null===this.hu?null:new Li(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new Pi(null)}}function Ri(t,e){return t.weight>e.weight?t:e}class Fi{constructor(t,e,i,n){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new Bi,this.du=new Map,this.fu=Pi.ou(),this.vu=!0,this.pu=new H,this.mu=new H,this.bu=new H,this.wu=null,this.gu=null,this.Mu=[],this.cn=e,this.yo=i,this.xu=e.rightOffset,this.Su=e.barSpacing,this.$i=t,this.q_=n,this.ku(),this.cu.tu(e.uniformDistribution)}W(){return this.cn}yu(t){K(this.yo,t),this.Cu(),this.ku()}$h(t,e){var i;K(this.cn,t),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),void 0!==t.barSpacing&&this.$i.Gn(t.barSpacing),void 0!==t.rightOffset&&this.$i.Jn(t.rightOffset),void 0!==t.minBarSpacing&&this.$i.Gn(null!==(i=t.barSpacing)&&void 0!==i?i:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(t){var e,i;return null!==(i=null===(e=this.uu[t])||void 0===e?void 0:e.time)&&void 0!==i?i:null}Ui(t){var e;return null!==(e=this.uu[t])&&void 0!==e?e:null}Va(t,e){if(this.uu.length<1)return null;if(this.q_.key(t)>this.q_.key(this.uu[this.uu.length-1].time))return e?this.uu.length-1:null;const i=Xt(this.uu,this.q_.key(t),(t,e)=>this.q_.key(t.time)<e);return this.q_.key(t)<this.q_.key(this.uu[i].time)?e?i:null:i}Ni(){return 0===this.__||0===this.uu.length||null===this._u}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const t=this.Xs();if(null===t)return null;const e={from:t.Os(),to:t.ui()};return this.Ou(e)}Ou(t){const e=Math.round(t.from),i=Math.round(t.to),n=D(this.Bu()),r=D(this.Au());return{from:D(this.Ui(Math.max(n,e))),to:D(this.Ui(Math.min(r,i)))}}Iu(t){return{from:D(this.Va(t.from,!0)),to:D(this.Va(t.to,!0))}}Hi(){return this.__}S_(t){if(!isFinite(t)||t<=0)return;if(this.__===t)return;const e=this.Du(),i=this.__;if(this.__=t,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==i){const e=this.Su*t/i;this.Su=e}if(this.cn.fixLeftEdge&&null!==e&&e.Os()<=0){const e=i-t;this.xu-=Math.round(e/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(t){if(this.Ni()||!Y(t))return 0;const e=this.Eu()+this.xu-t;return this.__-(e+.5)*this.Su-1}Qs(t,e){const i=this.Eu(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let s=n;s<r;s++){const e=t[s].ot,n=i+this.xu-e,r=this.__-(n+.5)*this.Su-1;t[s].nt=r}}Nu(t){return Math.ceil(this.Fu(t))}Jn(t){this.vu=!0,this.xu=t,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(t){this.ju(t),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(null!==this.gu)return this.gu;const t=this.Su,e=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(e/t),n=D(this.Xs()),r=Math.max(n.Os(),n.Os()-i),s=Math.max(n.ui(),n.ui()-i),o=this.cu.su(t,e),l=this.Bu()+i,a=this.Au()-i,u=this.$u(),c=this.cn.fixLeftEdge||u,h=this.cn.fixRightEdge||u;let d=0;for(const f of o){if(!(r<=f.index&&f.index<=s))continue;let t;d<this.Mu.length?(t=this.Mu[d],t.coord=this.It(f.index),t.label=this.Uu(f),t.weight=f.weight):(t={needAlignCoordinate:!1,coord:this.It(f.index),label:this.Uu(f),weight:f.weight},this.Mu.push(t)),this.Su>e/2&&!u?t.needAlignCoordinate=!1:t.needAlignCoordinate=c&&f.index<=l||h&&f.index>=a,d++}return this.Mu.length=d,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(t){this.vu=!0,this._u=t,this.Lu(),this.Tu()}Zu(t,e){const i=this.Fu(t),n=this.le(),r=n+e*(n/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(i-this.Fu(t)))}Go(t){this.Mo&&this.n_(),null===this.wo&&null===this.wu&&(this.Ni()||(this.wo=t,this.Xu()))}Jo(t){if(null===this.wu)return;const e=Rt(this.__-t,0,this.__),i=Rt(this.__-D(this.wo),0,this.__);0!==e&&0!==i&&this.Gn(this.wu.le*e/i)}Qo(){null!==this.wo&&(this.wo=null,this.Ku())}t_(t){null===this.Mo&&null===this.wu&&(this.Ni()||(this.Mo=t,this.Xu()))}i_(t){if(null===this.Mo)return;const e=(this.Mo-t)/this.le();this.xu=D(this.wu).Hu+e,this.vu=!0,this.Lu()}n_(){null!==this.Mo&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.xu,n=performance.now();this.$i.Zn({Qu:t=>(t-n)/e>=1,tc:r=>{const s=(r-n)/e;return s>=1?t:i+(t-i)*s}})}bt(t,e){this.vu=!0,this.uu=t,this.cu.iu(t,e),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(t){const e=t.G_();this.ju(this.__/e),this.xu=t.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const t=this.Bu(),e=this.Au();null!==t&&null!==e&&this.rc(new Li(t,e+this.cn.rightOffset))}lc(t){const e=new Li(t.from,t.to);this.rc(e)}qi(t){return void 0!==this.yo.timeFormatter?this.yo.timeFormatter(t.originalTime):this.q_.formatHorzItem(t.time)}$u(){const{handleScroll:t,handleScale:e}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Bu(){return 0===this.uu.length?null:0}Au(){return 0===this.uu.length?null:this.uu.length-1}ac(t){return(this.__-1-t)/this.Su}Fu(t){const e=this.ac(t),i=this.Eu()+this.xu-e;return Math.round(1e6*i)/1e6}ju(t){const e=this.Su;this.Su=t,this.zu(),e!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(Pi.ou());const t=this.Eu(),e=this.__/this.Su,i=this.xu+t,n=new Li(i-e+1,i);this._c(new Pi(n))}zu(){const t=this.uc();if(this.Su<t&&(this.Su=t,this.vu=!0),0!==this.__){const t=.5*this.__;this.Su>t&&(this.Su=t,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this.uu.length?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const t=this.cc();null!==t&&this.xu<t&&(this.xu=t,this.vu=!0);const e=this.dc();this.xu>e&&(this.xu=e,this.vu=!0)}cc(){const t=this.Bu(),e=this._u;return null===t||null===e?null:t-e-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(t){let e=this.du.get(t.weight);return void 0===e&&(e=new Di(t=>this.fc(t),this.q_),this.du.set(t.weight,e)),e.Y_(t)}fc(t){return this.q_.formatTickmark(t,this.yo)}_c(t){const e=this.fu;this.fu=t,Ai(e.lu(),this.fu.lu())||this.pu.m(),Ai(e.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const t=this.Bu();if(null===t)return;const e=this.Xs();if(null===e)return;const i=e.Os()-t;if(i<0){const t=this.xu-i-1;this.Jn(t)}this.zu()}Pu(){this.Lu(),this.zu()}}class Vi{X(t,e,i){t.useMediaCoordinateSpace(t=>this.K(t,e,i))}gl(t,e,i){t.useMediaCoordinateSpace(t=>this.vc(t,e,i))}vc(t,e,i){}}class Ui extends Vi{constructor(t){super(),this.mc=new Map,this.zt=t}K(t){}vc(t){if(!this.zt.yt)return;const{context:e,mediaSize:i}=t;let n=0;for(const s of this.zt.bc){if(0===s.Kt.length)continue;e.font=s.R;const t=this.wc(e,s.Kt);t>i.width?s.Zu=i.width/t:s.Zu=1,n+=s.gc*s.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((i.height-n)/2,0);break;case"bottom":r=Math.max(i.height-n,0)}e.fillStyle=this.zt.V;for(const s of this.zt.bc){e.save();let t=0;switch(this.zt.xc){case"left":e.textAlign="left",t=s.gc/2;break;case"center":e.textAlign="center",t=i.width/2;break;case"right":e.textAlign="right",t=i.width-1-s.gc/2}e.translate(t,r),e.textBaseline="top",e.font=s.R,e.scale(s.Zu,s.Zu),e.fillText(s.Kt,0,s.Sc),e.restore(),r+=s.gc*s.Zu}}wc(t,e){const i=this.kc(t.font);let n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n}kc(t){let e=this.mc.get(t);return void 0===e&&(e=new Map,this.mc.set(t,e)),e}}class ji{constructor(t){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new Ui(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.V=t.color,e.xc=t.horzAlign,e.Mc=t.vertAlign,e.bc=[{Kt:t.text,R:et(t.fontSize,t.fontFamily,t.fontStyle),gc:1.2*t.fontSize,Sc:0,Zu:0}])}}class Wi extends St{constructor(t,e){super(),this.cn=e,this.wn=new ji(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var $i,Hi,Ki,Xi,Yi;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}($i||($i={}));class qi{constructor(t,e,i){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new H,this.Rc=new H,this.Dc=null,this.Vc=t,this.cn=e,this.q_=i,this.Oc=new it(this),this.yl=new Fi(this,e.timeScale,this.cn.localization,i),this.vt=new Tt(this,e.crosshair),this.Bc=new hi(e.crosshair),this.Ac=new Wi(this,e.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(Mt.es())}Uh(){this.Nc(Mt.ss())}oa(){this.Nc(new Mt(1))}Gl(t){const e=this.Fc(t);this.Nc(e)}Wc(){return this.Tc}jc(t){const e=this.Tc;this.Tc=t,null!==e&&this.Gl(e.Hc),null!==t&&this.Gl(t.Hc)}W(){return this.cn}$h(t){K(this.cn,t),this.yc.forEach(e=>e.b_(t)),void 0!==t.timeScale&&this.yl.$h(t.timeScale),void 0!==t.localization&&this.yl.yu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(t,e){if("left"===t)return void this.$h({leftPriceScale:e});if("right"===t)return void this.$h({rightPriceScale:e});const i=this.Uc(t);null!==i&&(i.Dt.$h(e),this.Pc.m())}Uc(t){for(const e of this.yc){const i=e.w_(t);if(null!==i)return{Ht:e,Dt:i}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(t,e){t.Lo(e),this.Wu()}S_(t){this.__=t,this.yl.S_(this.__),this.yc.forEach(e=>e.S_(t)),this.Wu()}Ic(t){const e=new zi(this.yl,this);void 0!==t?this.yc.splice(t,0,e):this.yc.push(e);const i=void 0===t?this.yc.length-1:t,n=Mt.es();return n.Nn(i,{Fn:0,Wn:!0}),this.Nc(n),e}V_(t,e,i){t.V_(e,i)}O_(t,e,i){t.O_(e,i),this.Jl(),this.Nc(this.Gc(t,2))}B_(t,e){t.B_(e),this.Nc(this.Gc(t,2))}A_(t,e,i){e.Vo()||t.A_(e,i)}I_(t,e,i){e.Vo()||(t.I_(e,i),this.Jl(),this.Nc(this.Gc(t,2)))}z_(t,e){e.Vo()||(t.z_(e),this.Nc(this.Gc(t,2)))}E_(t,e){t.E_(e),this.Nc(this.Gc(t,2))}Jc(t){this.yl.Go(t)}Qc(t,e){const i=this.St();if(i.Ni()||0===e)return;const n=i.Hi();t=Math.max(1,Math.min(t,n)),i.Zu(t,e),this.Wu()}td(t){this.nd(0),this.sd(t),this.ed()}rd(t){this.yl.Jo(t),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(t){this.yl.t_(t)}sd(t){this.yl.i_(t),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(t,e,i,n,r){this.vt.gn(t,e);let s=NaN,o=this.yl.Nu(t);const l=this.yl.Xs();null!==l&&(o=Math.min(Math.max(l.Os(),o),l.ui()));const a=n.vn(),u=a.Ct();null!==u&&(s=a.pn(e,u)),s=this.Bc.Oa(s,o,n),this.vt.kn(o,s,n),this.oa(),r||this.Rc.m(this.vt.xt(),{x:t,y:e},i)}ad(t,e,i){const n=i.vn(),r=n.Ct(),s=n.Rt(t,D(r)),o=this.yl.Va(e,!0),l=this.yl.It(D(o));this.ld(l,s,null,i,!0)}od(t){this.Zc().Cn(),this.oa(),t||this.Rc.m(null,null,null)}Jl(){const t=this.vt.Ht();if(null!==t){const e=this.vt.xn(),i=this.vt.Sn();this.ld(e,i,null,t)}this.vt.Vn()}_d(t,e,i){const n=this.yl.mn(0);void 0!==e&&void 0!==i&&this.yl.bt(e,i);const r=this.yl.mn(0),s=this.yl.Eu(),o=this.yl.Xs();if(null!==o&&null!==n&&null!==r){const e=o.Kr(s),l=this.q_.key(n)>this.q_.key(r),a=null!==t&&t>s&&!l,u=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,c=e&&(!(void 0===i)||u)&&this.yl.W().shiftVisibleRangeOnNewBar;if(a&&!c){const e=t-s;this.yl.Jn(this.yl.Hu()-e)}}this.yl.Yu(t)}ia(t){null!==t&&t.F_()}dr(t){const e=this.yc.find(e=>e.Uo().includes(t));return void 0===e?null:e}Wu(){this.Ac.Vn(),this.yc.forEach(t=>t.F_()),this.Jl()}S(){this.yc.forEach(t=>t.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(t,e,i){const n=this.yc[0],r=this.fd(e,t,n,i);return this.Cc.push(r),1===this.Cc.length?this.Kl():this.Uh(),r}vd(t){const e=this.dr(t),i=this.Cc.indexOf(t);O(-1!==i,"Series not found"),this.Cc.splice(i,1),D(e).Zo(t),t.S&&t.S()}Xl(t,e){const i=D(this.dr(t));i.Zo(t);const n=this.Uc(e);if(null===n){const n=t.Xi();i.qo(t,e,n)}else{const r=n.Ht===i?t.Xi():void 0;n.Ht.qo(t,e,r)}}hc(){const t=Mt.ss();t.$n(),this.Nc(t)}pd(t){const e=Mt.ss();e.Yn(t),this.Nc(e)}Kn(){const t=Mt.ss();t.Kn(),this.Nc(t)}Gn(t){const e=Mt.ss();e.Gn(t),this.Nc(e)}Jn(t){const e=Mt.ss();e.Jn(t),this.Nc(e)}Zn(t){const e=Mt.ss();e.Zn(t),this.Nc(e)}Un(){const t=Mt.ss();t.Un(),this.Nc(t)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(t){const e=this.Ec,i=this.zc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Dc||this.Dc.Ps!==i||this.Dc.Rs!==e)this.Dc={Ps:i,Rs:e,wd:new Map};else{const e=this.Dc.wd.get(t);if(void 0!==e)return e}const n=function(t,e,i){const[n,r,s,o]=j(t),[l,a,u,c]=j(e),h=[B(n+i*(l-n)),B(r+i*(a-r)),B(s+i*(u-s)),P(o+i*(c-o))];return"rgba(".concat(h[0],", ").concat(h[1],", ").concat(h[2],", ").concat(h[3],")")}(i,e,t/100);return this.Dc.wd.set(t,n),n}Gc(t,e){const i=new Mt(e);if(null!==t){const n=this.yc.indexOf(t);i.Nn(n,{Fn:e})}return i}Fc(t,e){return void 0===e&&(e=2),this.Gc(this.dr(t),e)}Nc(t){this.Vc&&this.Vc(t),this.yc.forEach(t=>t.j_().qh().bt())}fd(t,e,i,n){const r=new ci(this,t,e,i,n),s=void 0!==t.priceScaleId?t.priceScaleId:this.md();return i.qo(r,s),Et(s)||r.$h(t),r}Lc(t){const e=this.cn.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}}function Qi(t){return!X(t)&&!q(t)}function Ji(t){return X(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(Hi||(Hi={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Ki||(Ki={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Xi||(Xi={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Yi||(Yi={}));const Gi=t=>t.getUTCFullYear();class Zi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.gd=t,this.Md=e}Y_(t){return function(t,e,i){return e.replace(/yyyy/g,(t=>Ct(Gi(t),4))(t)).replace(/yy/g,(t=>Ct(Gi(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>Ct((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>Ct((t=>t.getUTCDate())(t),2))(t))}(t,this.gd,this.Md)}}class tn{constructor(t){this.xd=t||"%h:%m:%s"}Y_(t){return this.xd.replace("%h",Ct(t.getUTCHours(),2)).replace("%m",Ct(t.getUTCMinutes(),2)).replace("%s",Ct(t.getUTCSeconds(),2))}}const en={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class nn{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object.assign(Object.assign({},en),t);this.Td=new Zi(e.Sd,e.Cd),this.Pd=new tn(e.kd),this.Rd=e.yd}Y_(t){return"".concat(this.Td.Y_(t)).concat(this.Rd).concat(this.Pd.Y_(t))}}function rn(t){return 60*t*60*1e3}function sn(t){return 60*t*1e3}const on=[{Dd:1e3,Vd:10},{Dd:sn(1),Vd:20},{Dd:sn(5),Vd:21},{Dd:sn(30),Vd:22},{Dd:rn(1),Vd:30},{Dd:rn(3),Vd:31},{Dd:rn(6),Vd:32},{Dd:rn(12),Vd:33}];function ln(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=on.length-1;i>=0;--i)if(Math.floor(e.getTime()/on[i].Dd)!==Math.floor(t.getTime()/on[i].Dd))return on[i].Vd;return 0}function an(t){let e=t;if(q(t)&&(e=cn(t)),!Qi(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(i.getTime()/1e3),Bd:e}}function un(t){if(!Ji(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function cn(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function hn(t){q(t.time)&&(t.time=cn(t.time))}class dn{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(hn)}(t):hn(t)}createConverterToInternalObj(t){return D(function(t){return 0===t.length?null:Qi(t[0].time)||q(t[0].time)?an:un}(t))}key(t){return"object"==typeof t&&"Od"in t?t.Od:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.Bd?new Date(1e3*e.Od).getTime():new Date(Date.UTC(e.Bd.year,e.Bd.month-1,e.Bd.day)).getTime()}convertHorzItemToInternal(t){return Ji(e=t)?un(e):Qi(e)?an(e):an(cn(e));var e}updateFormatter(t){if(!this.cn)return;const e=t.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new nn({Sd:e,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:t.locale}):this.Ad=new Zi(e,t.locale)}formatHorzItem(t){const e=t;return this.Ad.Y_(new Date(1e3*e.Od))}formatTickmark(t,e){const i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),n=this.cn.timeScale;if(void 0!==n.tickMarkFormatter){const r=n.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==r)return r}return function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const r=void 0===t.Bd?new Date(1e3*t.Od):new Date(Date.UTC(t.Bd.year,t.Bd.month-1,t.Bd.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,n)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Ri,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t.length)return;let i=0===e?null:t[e-1].time.Od,n=null!==i?new Date(1e3*i):null,r=0;for(let s=e;s<t.length;++s){const e=t[s],o=new Date(1e3*e.time.Od);null!==n&&(e.timeWeight=ln(o,n)),r+=e.time.Od-(i||e.time.Od),i=e.time.Od,n=o}if(0===e&&t.length>1){const e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].time.Od-e));t[0].timeWeight=ln(new Date(1e3*t[0].time.Od),i)}}(t,e)}static Id(t){return K({localization:{dateFormat:"dd MMM 'yy"}},null!=t?t:{})}}const fn="undefined"!=typeof window;function pn(){return!!fn&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function mn(){return!!fn&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function bn(t){return t+t%2}function yn(t,e){return t.zd-e.zd}function vn(t,e,i){const n=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(n)*Math.min(Math.abs(n),i)}class gn{constructor(t,e,i,n){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=t,this.Ud=e,this.qd=i,this.rs=n}Yd(t,e){if(null!==this.Ld){if(this.Ld.ot===e)return void(this.Ld.zd=t);if(Math.abs(this.Ld.zd-t)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:e,zd:t}}Vr(t,e){if(null===this.Ld||null===this.Ed)return;if(e-this.Ld.ot>50)return;let i=0;const n=vn(this.Ld,this.Ed,this.Ud),r=yn(this.Ld,this.Ed),s=[n],o=[r];if(i+=r,null!==this.Nd){const t=vn(this.Ed,this.Nd,this.Ud);if(Math.sign(t)===Math.sign(n)){const e=yn(this.Ed,this.Nd);if(s.push(t),o.push(e),i+=e,null!==this.Fd){const t=vn(this.Nd,this.Fd,this.Ud);if(Math.sign(t)===Math.sign(n)){const e=yn(this.Nd,this.Fd);s.push(t),o.push(e),i+=e}}}}let l=0;for(let a=0;a<s.length;++a)l+=o[a]/i*s[a];Math.abs(l)<this.$d||(this.Wd={zd:t,ot:e},this.Hd=l,this.jd=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(l),this.qd))}tc(t){const e=D(this.Wd),i=t-e.ot;return e.zd+this.Hd*(Math.pow(this.qd,i)-1)/Math.log(this.qd)}Qu(t){return null===this.Wd||this.Zd(t)===this.jd}Zd(t){const e=t-D(this.Wd).ot;return Math.min(e,this.jd)}}class wn{constructor(t,e){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=t,this.Qd=e,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return W(j(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href="https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart".concat(this.rf()),this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark","dark"===this.Gd),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function _n(t,e){const i=D(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=function(t,e){if("device-pixel-content-box"===e.type)return new p(t,e.transform,e.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return n.resizeCanvasElement(e),n}function Sn(t){var e;t.width=1,t.height=1,null===(e=t.getContext("2d"))||void 0===e||e.clearRect(0,0,1,1)}function xn(t,e,i,n){t.gl&&t.gl(e,i,n)}function Tn(t,e,i,n){t.X(e,i,n)}function En(t,e,i,n){const r=t(i,n);for(const s of r){const t=s.gt();null!==t&&e(t)}}class Mn{constructor(t,e,i){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!mn(),this.Af=t=>{this.If(t)},this.zf=t=>{if(this.Lf(t)){const e=this.Ef(t);if(++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(In(t),this.cf);i<30&&!this.wf&&this.Wf(e,this.Hf.jf),this.$f()}}else{const e=this.Ef(t);if(++this.hf,this.lf&&this.hf>1){const{Nf:i}=this.Ff(In(t),this.af);i<5&&!this.bf&&this.Uf(e,this.Hf.qf),this.Yf()}}},this.Zf=t,this.Hf=e,this.cn=i,this.Xf()}S(){null!==this.gf&&(this.gf(),this.gf=null),null!==this.Mf&&(this.Mf(),this.Mf=null),null!==this.Sf&&(this.Sf(),this.Sf=null),null!==this.kf&&(this.kf(),this.kf=null),null!==this.yf&&(this.yf(),this.yf=null),null!==this.xf&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(t){this.Sf&&this.Sf();const e=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",e)},this.Zf.addEventListener("mousemove",e),this.Lf(t))return;const i=this.Ef(t);this.Uf(i,this.Hf.Qf),this.Bf=!0}Yf(){null!==this.lf&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){null!==this.uf&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(t){if(this.Df||null!==this.pf)return;if(this.Lf(t))return;const e=this.Ef(t);this.Uf(e,this.Hf.tv),this.Bf=!0}iv(t){const e=On(t.changedTouches,D(this.Of));if(null===e)return;if(this.Vf=Nn(t),null!==this.Cf)return;if(this.Rf)return;this.Pf=!0;const i=this.Ff(In(e),D(this.pf)),{nv:n,sv:r,Nf:s}=i;if(this.mf||!(s<5)){if(!this.mf){const t=.5*n,e=r>=t&&!this.cn.ev(),i=t>r&&!this.cn.rv();e||i||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const i=this.Ef(t,e);this.Wf(i,this.Hf.hv),kn(t)}}}lv(t){if(0!==t.button)return;const e=this.Ff(In(t),D(this.vf)),{Nf:i}=e;if(i>=5&&(this.bf=!0,this.Yf()),this.bf){const e=this.Ef(t);this.Uf(e,this.Hf.av)}}Ff(t,e){const i=Math.abs(e.nt-t.nt),n=Math.abs(e.st-t.st);return{nv:i,sv:n,Nf:i+n}}ov(t){let e=On(t.changedTouches,D(this.Of));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.Of=null,this.Vf=Nn(t),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const i=this.Ef(t,e);if(this.Wf(i,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:t}=this.Ff(In(e),this.cf);t<30&&!this.wf&&this.Wf(i,this.Hf.jf),this.$f()}else this.wf||(this.Wf(i,this.Hf.uv),this.Hf.uv&&kn(t));0===this._f&&kn(t),0===t.touches.length&&this.ff&&(this.ff=!1,kn(t))}If(t){if(0!==t.button)return;const e=this.Ef(t);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),pn()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(t))if(this.Uf(e,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:i}=this.Ff(In(t),this.af);i<5&&!this.bf&&this.Uf(e,this.Hf.qf),this.Yf()}else this.bf||this.Uf(e,this.Hf.dv)}Kf(){null!==this.df&&(clearTimeout(this.df),this.df=null)}fv(t){if(null!==this.Of)return;const e=t.changedTouches[0];this.Of=e.identifier,this.Vf=Nn(t);const i=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=In(e),this.yf&&(this.yf(),this.yf=null);{const e=this.iv.bind(this),n=this.ov.bind(this);this.yf=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,t),240)}const n=this.Ef(t,e);this.Wf(n,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=In(e))}mv(t){if(0!==t.button)return;const e=this.Zf.ownerDocument.documentElement;pn()&&e.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=In(t),this.kf&&(this.kf(),this.kf=null);{const t=this.lv.bind(this),i=this.If.bind(this);this.kf=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.Df=!0,this.Lf(t))return;const i=this.Ef(t);this.Uf(i,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=In(t))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const t=this.Zf.ownerDocument,e=t=>{this.Hf.wv&&(t.composed&&this.Zf.contains(t.composedPath()[0])||t.target&&this.Zf.contains(t.target)||this.Hf.wv())};this.Mf=()=>{t.removeEventListener("touchstart",e)},this.gf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}mn()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),function(t){fn&&void 0!==window.chrome&&t.addEventListener("mousedown",t=>{if(1===t.button)return t.preventDefault(),!1})}(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){void 0===this.Hf.xv&&void 0===this.Hf.Sv&&void 0===this.Hf.kv||(this.Zf.addEventListener("touchstart",t=>this.yv(t.touches),{passive:!0}),this.Zf.addEventListener("touchmove",t=>{if(2===t.touches.length&&null!==this.Cf&&void 0!==this.Hf.Sv){const e=Cn(t.touches[0],t.touches[1])/this.Tf;this.Hf.Sv(this.Cf,e),kn(t)}},{passive:!1}),this.Zf.addEventListener("touchend",t=>{this.yv(t.touches)}))}yv(t){1===t.length&&(this.Pf=!1),2!==t.length||this.Pf||this.ff?this.Cv():this.Tv(t)}Tv(t){const e=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Tf=Cn(t[0],t[1]),void 0!==this.Hf.xv&&this.Hf.xv(),this.Kf()}Cv(){null!==this.Cf&&(this.Cf=null,void 0!==this.Hf.kv&&this.Hf.kv())}gv(t){if(this.Sf&&this.Sf(),this.Lf(t))return;if(!this.Bf)return;const e=this.Ef(t);this.Uf(e,this.Hf.Pv),this.Bf=!mn()}vv(t){const e=On(t.touches,D(this.Of));if(null===e)return;const i=this.Ef(t,e);this.Wf(i,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:Nn(t)<this.Vf+500}Wf(t,e){e&&e.call(this.Hf,t)}Uf(t,e){e&&e.call(this.Hf,t)}Ef(t,e){const i=e||t,n=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Dv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Vv:t.type,Ov:i.target,Bv:t.view,Av:()=>{"touchstart"!==t.type&&kn(t)}}}}function Cn(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function kn(t){t.cancelable&&t.preventDefault()}function In(t){return{nt:t.pageX,st:t.pageY}}function Nn(t){return t.timeStamp||performance.now()}function On(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}function zn(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function Dn(t,e,i){for(const n of t){const t=n.gt();if(null!==t&&t.wr){const r=t.wr(e,i);if(null!==r)return{Bv:n,Iv:r}}}return null}function Ln(t,e){return i=>{var n,r,s,o;return(null!==(r=null===(n=i.Dt())||void 0===n?void 0:n.Pa())&&void 0!==r?r:"")!==e?[]:null!==(o=null===(s=i.da)||void 0===s?void 0:s.call(i,t))&&void 0!==o?o:[]}}function An(t,e,i,n){if(!t.length)return;let r=0;const s=i/2,o=t[0].At(n,!0);let l=1===e?s-(t[0].Vi()-o/2):t[0].Vi()-o/2-s;l=Math.max(0,l);for(let a=1;a<t.length;a++){const s=t[a],o=t[a-1],u=o.At(n,!1),c=s.Vi(),h=o.Vi();if(1===e?c>h-u:c<h+u){const n=h-u*e;s.Oi(n);const o=n-e*u/2;if((1===e?o<0:o>i)&&l>0){const n=1===e?-1-o:o-i,s=Math.min(n,l);for(let i=r;i<t.length;i++)t[i].Oi(t[i].Vi()+e*s);l-=s}}else r=a,l=1===e?h-u-c:c-(h+u)}}class Bn{constructor(t,e,i,n){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new be(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=t,this.cn=e,this.ko=e.layout,this.Oc=i,this.qv="left"===n,this.Yv=Ln("normal",n),this.Zv=Ln("top",n),this.Xv=Ln("bottom",n),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=_n(this.Kv,h({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=_n(this.Kv,h({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const o={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new Mn(this.Jv.canvasElement,o,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Sn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Sn(this.Gv.canvasElement),this.Gv.dispose(),null!==this.Li&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const t=this.Oc.W();return this.Qr!==t.R&&(this.Fv.nr(),this.Qr=t.R),t}op(){if(null===this.Li)return 0;let t=0;const e=this.ap(),i=D(this.Gv.canvasElement.getContext("2d"));i.save();const n=this.Li.Ha();i.font=this._p(),n.length>0&&(t=Math.max(this.Fv.xi(i,n[0].so),this.Fv.xi(i,n[n.length-1].so)));const r=this.up();for(let a=r.length;a--;){const e=this.Fv.xi(i,r[a].Kt());e>t&&(t=e)}const s=this.Li.Ct();if(null!==s&&null!==this.Ev&&2!==(o=this.cn.crosshair).mode&&o.horzLine.visible&&o.horzLine.labelVisible){const e=this.Li.pn(1,s),n=this.Li.pn(this.Ev.height-2,s);t=Math.max(t,this.Fv.xi(i,this.Li.Fi(Math.floor(Math.min(e,n))+.11111111111111,s)),this.Fv.xi(i,this.Li.Fi(Math.ceil(Math.max(e,n))-.11111111111111,s)))}var o;i.restore();const l=t||34;return bn(Math.ceil(e.C+e.T+e.A+e.I+5+l))}cp(t){null!==this.Ev&&d(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width="".concat(t.width,"px"),this.Kv.style.height="".concat(t.height,"px"))}dp(){return D(this.Ev).width}Gi(t){this.Li!==t&&(null!==this.Li&&this.Li.Ko().p(this),this.Li=t,t.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const t=this.tn.fp();this.tn.$v().$t().E_(t,D(this.Dt()))}vp(t){if(null===this.Ev)return;if(1!==t){this.pp(),this.Gv.applySuggestedBitmapSize();const t=y(this.Gv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t)}),this.tn.bp(t,this.Xv),this.wp(t),this.tn.bp(t,this.Yv),this.gp(t))}this.Jv.applySuggestedBitmapSize();const e=y(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.Mp(e),this.tn.bp(e,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(t,e,i){const n=this.xp();n.width>0&&n.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}bt(){var t;null===(t=this.Li)||void 0===t||t.Ha()}Qv(t){if(null===this.Li||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!0,e.V_(i,this.Li,t.localY)}tp(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),i=this.tn.fp(),n=this.Li;e.O_(i,n,t.localY)}ip(){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.$v().$t(),e=this.tn.fp(),i=this.Li;this.Nv&&(this.Nv=!1,t.B_(e,i))}np(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!1,e.B_(i,this.Li)}sp(t){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(t){null!==this.Li&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(t){this.kp(0)}up(){const t=[],e=null===this.Li?void 0:this.Li;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].Rn(this.tn.fp(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this.tn.fp().Uo()),t}mp(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.tn.fp().$t(),o=s.q(),l=s.bd();o===l?dt(e,0,0,n,r,o):mt(e,0,0,n,r,o,l)}Ie(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n}=t;if(null===this.Ev||null===this.Li||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const r=Math.max(1,Math.floor(this.ap().C*n));let s;s=this.qv?i.width-r:0,e.fillRect(s,0,r,i.height)}wp(t){if(null===this.Ev||null===this.Li)return;const e=this.Li.Ha(),i=this.Li.W(),n=this.ap(),r=this.qv?this.Ev.width-n.T:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:s,horizontalPixelRatio:o,verticalPixelRatio:l}=t;s.fillStyle=i.borderColor;const a=Math.max(1,Math.floor(l)),u=Math.floor(.5*l),c=Math.round(n.T*o);s.beginPath();for(const i of e)s.rect(Math.floor(r*o),Math.round(i.Ea*l)-u,c,a);s.fill()}),t.useMediaCoordinateSpace(t=>{let{context:s}=t;var o;s.font=this._p(),s.fillStyle=null!==(o=i.textColor)&&void 0!==o?o:this.ko.textColor,s.textAlign=this.qv?"right":"left",s.textBaseline="middle";const l=this.qv?Math.round(r-n.A):Math.round(r+n.T+n.A),a=e.map(t=>this.Fv.Mi(s,t.so));for(let i=e.length;i--;){const t=e[i];s.fillText(t.so,l,t.Ea+a[i])}})}pp(){if(null===this.Ev||null===this.Li)return;const t=[],e=this.Li.Uo().slice(),i=this.tn.fp(),n=this.ap();this.Li===i.pr()&&this.tn.fp().Uo().forEach(t=>{i.vr(t)&&e.push(t)});const r=this.Li;e.forEach(e=>{e.Rn(i,r).forEach(e=>{e.Oi(null),e.Bi()&&t.push(e)})}),t.forEach(t=>t.Oi(t.ki())),this.Li.W().alignLabels&&this.yp(t,n)}yp(t,e){if(null===this.Ev)return;const i=this.Ev.height/2,n=t.filter(t=>t.ki()<=i),r=t.filter(t=>t.ki()>i);n.sort((t,e)=>e.ki()-t.ki()),r.sort((t,e)=>t.ki()-e.ki());for(const s of t){const t=Math.floor(s.At(e)/2),i=s.ki();i>-t&&i<t&&s.Oi(t),i>this.Ev.height-t&&i<this.Ev.height+t&&s.Oi(this.Ev.height-t)}An(n,1,this.Ev.height,e),An(r,-1,this.Ev.height,e)}gp(t){if(null===this.Ev)return;const e=this.up(),i=this.ap(),n=this.qv?"right":"left";e.forEach(e=>{e.Ai()&&e.gt(D(this.Li)).X(t,i,this.Fv,n)})}Mp(t){if(null===this.Ev||null===this.Li)return;const e=this.tn.$v().$t(),i=[],n=this.tn.fp(),r=e.Zc().Rn(n,this.Li);r.length&&i.push(r);const s=this.ap(),o=this.qv?"right":"left";i.forEach(e=>{e.forEach(e=>{e.gt(D(this.Li)).X(t,s,this.Fv,o)})})}kp(t){this.Kv.style.cursor=1===t?"ns-resize":"default"}fo(){const t=this.op();this.Wv<t&&this.tn.$v().$t().Kl(),this.Wv=t}_p(){return et(this.ko.fontSize,this.ko.fontFamily)}}function Pn(t,e){var i,n;return null!==(n=null===(i=t.ua)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function Rn(t,e){var i,n;return null!==(n=null===(i=t.Pn)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function Fn(t,e){var i,n;return null!==(n=null===(i=t.Ji)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function Vn(t,e){var i,n;return null!==(n=null===(i=t.aa)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}class Un{constructor(t,e){this.Ev=h({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new H,this.Op=new H,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||null===this.Np||this.$i().Uh()},this.Uv=()=>{this.jv||null===this.Np||this.$i().Uh()},this.Qd=t,this.Np=e,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(i),this.Gv=_n(i,h({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const n=this.Gv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jv=_n(i,h({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new Mn(this.Jv.canvasElement,this,{ev:()=>null===this.Ip&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>null===this.Ip&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){null!==this.Cp&&this.Cp.S(),null!==this.Tp&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Sn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Sn(this.Gv.canvasElement),this.Gv.dispose(),null!==this.Np&&this.Np.W_().p(this),this.hp.S()}fp(){return D(this.Np)}qp(t){var e,i;null!==this.Np&&this.Np.W_().p(this),this.Np=t,null!==this.Np&&this.Np.W_().l(Un.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=null!==(e=this.Pp)&&void 0!==e?e:new wn(this.Wp,this.Qd),this.Pp.bt()):(null===(i=this.Pp)||void 0===i||i.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(null!==this.Np&&(this.Zp(),0!==this.$i().wt().length)){if(null!==this.Cp){const t=this.Np.R_();this.Cp.Gi(D(t))}if(null!==this.Tp){const t=this.Np.D_();this.Tp.Gi(D(t))}}}Xp(){null!==this.Cp&&this.Cp.bt(),null!==this.Tp&&this.Tp.bt()}M_(){return null!==this.Np?this.Np.M_():0}x_(t){this.Np&&this.Np.x_(t)}Qf(t){if(!this.Np)return;this.Kp();const e=t.localX,i=t.localY;this.Gp(e,i,t)}bv(t){this.Kp(),this.Jp(),this.Gp(t.localX,t.localY,t)}tv(t){var e;if(!this.Np)return;this.Kp();const i=t.localX,n=t.localY;this.Gp(i,n,t);const r=this.wr(i,n);this.Qd.Qp(null!==(e=null==r?void 0:r.Lv)&&void 0!==e?e:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(t){null!==this.Np&&(this.Kp(),this.tm(t))}qf(t){null!==this.Np&&this.im(this.Op,t)}jf(t){this.qf(t)}av(t){this.Kp(),this.nm(t),this.Gp(t.localX,t.localY,t)}cv(t){null!==this.Np&&(this.Kp(),this.Ap=!1,this.sm(t))}uv(t){null!==this.Np&&this.tm(t)}Rv(t){if(this.Ap=!0,null===this.Ip){const e={x:t.localX,y:t.localY};this.rm(e,e,t)}}Pv(t){null!==this.Np&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(t,e){if(!this.Qd.W().handleScale.pinch)return;const i=5*(e-this.Bp);this.Bp=e,this.$i().Qc(t.nt,i)}pv(t){this.Ap=!1,this.zp=null!==this.Ip,this.Jp();const e=this.$i().Zc();null!==this.Ip&&e.yt()&&(this.Lp={x:e.Yt(),y:e.Zt()},this.Ip={x:t.localX,y:t.localY})}hv(t){if(null===this.Np)return;const e=t.localX,i=t.localY;if(null===this.Ip)this.nm(t);else{this.zp=!1;const n=D(this.Lp),r=n.x+(e-this.Ip.x),s=n.y+(i-this.Ip.y);this.Gp(r,s,t)}}_v(t){0===this.$v().W().trackingMode.exitMode&&(this.zp=!0),this.om(),this.sm(t)}wr(t,e){const i=this.Np;return null===i?null:function(t,e,i){const n=t.Uo(),r=function(t,e,i){var n,r;let s,o;for(const u of t){const t=null!==(r=null===(n=u.va)||void 0===n?void 0:n.call(u,e,i))&&void 0!==r?r:[];for(const e of t)l=e.zOrder,(!(a=null==s?void 0:s.zOrder)||"top"===l&&"top"!==a||"normal"===l&&"bottom"===a)&&(s=e,o=u)}var l,a;return s&&o?{zv:s,Hc:o}:null}(n,e,i);if("top"===(null==r?void 0:r.zv.zOrder))return zn(r);for(const s of n){if(r&&r.Hc===s&&"bottom"!==r.zv.zOrder&&!r.zv.isBackground)return zn(r);const n=Dn(s.Pn(t),e,i);if(null!==n)return{Hc:s,Bv:n.Bv,Iv:n.Iv};if(r&&r.Hc===s&&"bottom"!==r.zv.zOrder&&r.zv.isBackground)return zn(r)}return(null==r?void 0:r.zv)?zn(r):null}(i,t,e)}_m(t,e){D("left"===e?this.Cp:this.Tp).cp(h({width:t,height:this.Ev.height}))}um(){return this.Ev}cp(t){d(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Wp.style.width=t.width+"px",this.Wp.style.height=t.height+"px")}dm(){const t=D(this.Np);t.P_(t.R_()),t.P_(t.D_());for(const e of t.Ba())if(t.vr(e)){const i=e.Dt();null!==i&&t.P_(i),e.Vn()}}xp(){return this.Gv.bitmapSize}Sp(t,e,i){const n=this.xp();n.width>0&&n.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}vp(t){if(0===t)return;if(null===this.Np)return;if(t>1&&this.dm(),null!==this.Cp&&this.Cp.vp(t),null!==this.Tp&&this.Tp.vp(t),1!==t){this.Gv.applySuggestedBitmapSize();const t=y(this.Gv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.mp(t)}),this.Np&&(this.fm(t,Pn),this.vm(t),this.pm(t),this.fm(t,Rn),this.fm(t,Fn)))}this.Jv.applySuggestedBitmapSize();const e=y(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.bm(e),this.fm(e,Vn))}wm(){return this.Cp}gm(){return this.Tp}bp(t,e){this.fm(t,e)}Fp(){null!==this.Np&&this.Np.W_().p(this),this.Np=null}tm(t){this.im(this.Vp,t)}im(t,e){const i=e.localX,n=e.localY;t.M()&&t.m(this.$i().St().Nu(i),{x:i,y:n},e)}mp(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.$i(),o=s.q(),l=s.bd();o===l?dt(e,0,0,n,r,l):mt(e,0,0,n,r,o,l)}vm(t){const e=D(this.Np).j_().qh().gt();null!==e&&e.X(t,!1)}pm(t){const e=this.$i().Yc();this.Mm(t,Rn,xn,e),this.Mm(t,Rn,Tn,e)}bm(t){this.Mm(t,Rn,Tn,this.$i().Zc())}fm(t,e){const i=D(this.Np).Uo();for(const n of i)this.Mm(t,e,xn,n);for(const n of i)this.Mm(t,e,Tn,n)}Mm(t,e,i,n){const r=D(this.Np),s=r.$t().Wc(),o=null!==s&&s.Hc===n,l=null!==s&&o&&void 0!==s.Iv?s.Iv.Mr:void 0;En(e,e=>i(e,t,o,l),n,r)}Zp(){if(null===this.Np)return;const t=this.Qd,e=this.Np.R_().W().visible,i=this.Np.D_().W().visible;e||null===this.Cp||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),i||null===this.Tp||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const n=t.$t().ud();e&&null===this.Cp&&(this.Cp=new Bn(this,t.W(),n,"left"),this.jp.appendChild(this.Cp.lp())),i&&null===this.Tp&&(this.Tp=new Bn(this,t.W(),n,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(t){return t.Dv&&this.Ap||null!==this.Ip}Sm(t){return Math.max(0,Math.min(t,this.Ev.width-1))}km(t){return Math.max(0,Math.min(t,this.Ev.height-1))}Gp(t,e,i){this.$i().ld(this.Sm(t),this.km(e),i,D(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(t,e,i){this.Ip=t,this.zp=!1,this.Gp(e.x,e.y,i);const n=this.$i().Zc();this.Lp={x:n.Yt(),y:n.Zt()}}$i(){return this.Qd.$t()}sm(t){if(!this.Dp)return;const e=this.$i(),i=this.fp();if(e.z_(i,i.vn()),this.Rp=null,this.Dp=!1,e.ed(),null!==this.Ep){const t=performance.now(),i=e.St();this.Ep.Vr(i.Hu(),t),this.Ep.Qu(t)||e.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)D(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(t){if(null===this.Np)return;const e=this.$i(),i=e.St();if(i.Ni())return;const n=this.Qd.W(),r=n.handleScroll,s=n.kineticScroll;if((!r.pressedMouseMove||t.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Dv))return;const o=this.Np.vn(),l=performance.now();if(null!==this.Rp||this.xm(t)||(this.Rp={x:t.clientX,y:t.clientY,Od:l,ym:t.localX,Cm:t.localY}),null!==this.Rp&&!this.Dp&&(this.Rp.x!==t.clientX||this.Rp.y!==t.clientY)){if(t.Dv&&s.touch||!t.Dv&&s.mouse){const t=i.le();this.Ep=new gn(.2/t,7/t,.997,15/t),this.Ep.Yd(i.Hu(),this.Rp.Od)}else this.Ep=null;o.Ni()||e.A_(this.Np,o,t.localY),e.nd(t.localX),this.Dp=!0}this.Dp&&(o.Ni()||e.I_(this.Np,o,t.localY),e.sd(t.localX),null!==this.Ep&&this.Ep.Yd(i.Hu(),l))}}class jn{constructor(t,e,i,n,r){this.ft=!0,this.Ev=h({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv="left"===t,this.Oc=i.ud,this.cn=e,this.Tm=n,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=_n(this.Kv,h({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Sn(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(t){d(this.Ev,t)||(this.Ev=t,this.Gv.resizeCanvasElement(t),this.Kv.style.width="".concat(t.width,"px"),this.Kv.style.height="".concat(t.height,"px"),this.ft=!0)}vp(t){if(t<3&&!this.ft)return;if(0===this.Ev.width||0===this.Ev.height)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const e=y(this.Gv);null!==e&&e.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t)})}xp(){return this.Gv.bitmapSize}Sp(t,e,i){const n=this.xp();n.width>0&&n.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}Ie(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const s=Math.floor(this.Oc.W().C*n),o=Math.floor(this.Oc.W().C*r),l=this.qv?i.width-s:0;e.fillRect(l,0,s,o)}mp(t){let{context:e,bitmapSize:i}=t;dt(e,0,0,i.width,i.height,this.Pm())}}function Wn(t){return e=>{var i,n;return null!==(n=null===(i=e.fa)||void 0===i?void 0:i.call(e,t))&&void 0!==n?n:[]}}const $n=Wn("normal"),Hn=Wn("top"),Kn=Wn("bottom");class Xn{constructor(t,e){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=h({width:0,height:0}),this.Om=new H,this.Fv=new be(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=t,this.q_=e,this.cn=t.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=_n(this.Im,h({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=_n(this.Im,h({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const n=this.Jv.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new Mn(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),null!==this.Rm&&this.Rm.S(),null!==this.Dm&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Sn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Sn(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(t){if(this.Vm)return;this.Vm=!0;const e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.Jc(t.localX)}pv(t){this.bv(t)}wv(){const t=this.Qd.$t();!t.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&t.hd())}av(t){const e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.rd(t.localX)}hv(t){this.av(t)}cv(){this.Vm=!1;const t=this.Qd.$t();t.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||t.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(t,e,i){d(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width="".concat(t.width,"px"),this.Kv.style.height="".concat(t.height,"px"),this.Om.m(t)),null!==this.Rm&&this.Rm.cp(h({width:e,height:t.height})),null!==this.Dm&&this.Dm.cp(h({width:i,height:t.height}))}Wm(){const t=this.jm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(t,e,i){const n=this.xp();n.width>0&&n.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}vp(t){if(0===t)return;if(1!==t){this.Gv.applySuggestedBitmapSize();const e=y(this.Gv);null!==e&&(e.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t),this.$m(e,Kn)}),this.wp(e),this.$m(e,$n)),null!==this.Rm&&this.Rm.vp(t),null!==this.Dm&&this.Dm.vp(t)}this.Jv.applySuggestedBitmapSize();const e=y(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],e),this.$m(e,Hn))}$m(t,e){const i=this.Qd.$t().wt();for(const n of i)En(e,e=>xn(e,t,!1,void 0),n,void 0);for(const n of i)En(e,e=>Tn(e,t,!1,void 0),n,void 0)}mp(t){let{context:e,bitmapSize:i}=t;dt(e,0,0,i.width,i.height,this.Qd.$t().bd())}Ie(t){let{context:e,bitmapSize:i,verticalPixelRatio:n}=t;if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const t=Math.max(1,Math.floor(this.jm().C*n));e.fillRect(0,0,i.width,t)}}wp(t){const e=this.Qd.$t().St(),i=e.Ha();if(!i||0===i.length)return;const n=this.q_.maxTickMarkWeight(i),r=this.jm(),s=e.W();s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:e,horizontalPixelRatio:n,verticalPixelRatio:s}=t;e.strokeStyle=this.qm(),e.fillStyle=this.qm();const o=Math.max(1,Math.floor(n)),l=Math.floor(.5*n);e.beginPath();const a=Math.round(r.T*s);for(let r=i.length;r--;){const t=Math.round(i[r].coord*n);e.rect(t-l,0,o,a)}e.fill()}),t.useMediaCoordinateSpace(t=>{let{context:e}=t;const s=r.C+r.T+r.L+r.P/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.$(),e.font=this._p();for(const r of i)if(r.weight<n){const t=r.needAlignCoordinate?this.Ym(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}this.Qd.W().timeScale.allowBoldLabels&&(e.font=this.Zm());for(const r of i)if(r.weight>=n){const t=r.needAlignCoordinate?this.Ym(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}})}Ym(t,e,i){const n=this.Fv.xi(t,i),r=n/2,s=Math.floor(e-r)+.5;return s<0?e+=Math.abs(0-s):s+n>this.Ev.width&&(e-=Math.abs(this.Ev.width-(s+n))),e}Um(t,e){const i=this.jm();for(const n of t)for(const t of n.Qi())t.gt().X(e,i)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return et(this.j(),this.cn.fontFamily)}Zm(){return et(this.j(),this.cn.fontFamily,"bold")}jm(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new be,Hm:0});const t=this.k,e=this._p();if(t.R!==e){const i=this.j();t.P=i,t.R=e,t.L=3*i/12,t.B=3*i/12,t.ji=9*i/12,t.N=0,t.Hm=4*i/12,t.Wi.nr()}return this.k}kp(t){this.Kv.style.cursor=1===t?"ew-resize":"default"}zm(){const t=this.Qd.$t(),e=t.W();e.leftPriceScale.visible||null===this.Rm||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),e.rightPriceScale.visible||null===this.Dm||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const i={ud:this.Qd.$t().ud()},n=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,r=()=>t.bd();e.leftPriceScale.visible&&null===this.Rm&&(this.Rm=new jn("left",e,i,n,r),this.Bm.appendChild(this.Rm.lp())),e.rightPriceScale.visible&&null===this.Dm&&(this.Dm=new jn("right",e,i,n,r),this.Am.appendChild(this.Dm.lp()))}}const Yn=!!fn&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!fn&&((null===(qn=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===qn?void 0:qn.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);var qn;class Qn{constructor(t,e,i){var n;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new H,this.Op=new H,this.Rc=new H,this.ib=null,this.nb=null,this.Jd=t,this.cn=e,this.q_=i,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(n=this.Xd).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),Jn(this.cn)&&this.hb(!0),this.$i=new qi(this.Vc.bind(this),this.cn,i),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new Xn(this,this.q_),this.sb.appendChild(this.ab.lp());const r=e.autoSize&&this.ob();let s=this.cn.width,o=this.cn.height;if(r||0===s||0===o){const e=t.getBoundingClientRect();s=s||e.width,o=o||e.height}this._b(s,o),this.ub(),t.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),0!==this.Km&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const t of this.Xm)this.sb.removeChild(t.lp()),t.lm().p(this),t.am().p(this),t.S();this.Xm=[],D(this.ab).S(),null!==this.Xd.parentElement&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.ho===e&&this.__===t)return;const n=function(t){const e=Math.floor(t.width),i=Math.floor(t.height);return h({width:e-e%2,height:i-i%2})}(h({width:t,height:e}));this.ho=n.height,this.__=n.width;const r=this.ho+"px",s=this.__+"px";D(this.Xd).style.height=r,D(this.Xd).style.width=s,this.sb.style.height=r,this.sb.style.width=s,i?this.mb(Mt.es(),performance.now()):this.$i.Kl()}vp(t){void 0===t&&(t=Mt.es());for(let e=0;e<this.Xm.length;e++)this.Xm[e].vp(t.Hn(e).Fn);this.cn.timeScale.visible&&this.ab.vp(t.jn())}$h(t){const e=Jn(this.cn);this.$i.$h(t);const i=Jn(this.cn);i!==e&&this.hb(i),this.cb(),this.bb(t)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){null!==this.Qm&&(this.mb(this.Qm,performance.now()),this.Qm=null);const t=this.gb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=D(e.getContext("2d"));return this.gb(i),e}Mb(t){return("left"!==t||this.xb())&&("right"!==t||this.Sb())?0===this.Xm.length?0:D("left"===t?this.Xm[0].wm():this.Xm[0].gm()).dp():0}kb(){return this.cn.autoSize&&null!==this.ib}yb(){return this.Xd}Qp(t){this.nb=t,this.nb?this.yb().style.setProperty("cursor",t):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return z(this.Xm[0]).um()}bb(t){(void 0!==t.autoSize||!this.ib||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.ib&&this.ob(),!1===t.autoSize&&null!==this.ib&&this.pb(),t.autoSize||void 0===t.width&&void 0===t.height||this._b(t.width||this.__,t.height||this.ho))}gb(t){let e=0,i=0;const n=this.Xm[0],r=(e,i)=>{let n=0;for(let r=0;r<this.Xm.length;r++){const s=this.Xm[r],o=D("left"===e?s.wm():s.gm()),l=o.xp();null!==t&&o.Sp(t,i,n),n+=l.height}};this.xb()&&(r("left",0),e+=D(n.wm()).xp().width);for(let o=0;o<this.Xm.length;o++){const n=this.Xm[o],r=n.xp();null!==t&&n.Sp(t,e,i),i+=r.height}e+=n.xp().width,this.Sb()&&(r("right",e),e+=D(n.gm()).xp().width);const s=(e,i,n)=>{D("left"===e?this.ab.Lm():this.ab.Em()).Sp(D(t),i,n)};if(this.cn.timeScale.visible){const e=this.ab.xp();if(null!==t){let r=0;this.xb()&&(s("left",r,i),r=D(n.wm()).xp().width),this.ab.Sp(t,r,i),r+=e.width,this.Sb()&&s("right",r,i)}i+=e.height}return h({width:e,height:i})}Pb(){let t=0,e=0,i=0;for(const h of this.Xm)this.xb()&&(e=Math.max(e,D(h.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(i=Math.max(i,D(h.gm()).op(),this.cn.rightPriceScale.minimumWidth)),t+=h.M_();e=bn(e),i=bn(i);const n=this.__,r=this.ho,s=Math.max(n-e-i,0),o=this.cn.timeScale.visible;let l=o?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var a;l=(a=l)+a%2;const u=0+l,c=r<u?0:r-u,d=c/t;let f=0;for(let p=0;p<this.Xm.length;++p){const t=this.Xm[p];t.qp(this.$i.qc()[p]);let n=0,r=0;r=p===this.Xm.length-1?c-f:Math.round(t.M_()*d),n=Math.max(r,2),f+=n,t.cp(h({width:s,height:n})),this.xb()&&t._m(e,"left"),this.Sb()&&t._m(i,"right"),t.fp()&&this.$i.Kc(t.fp(),n)}this.ab.Fm(h({width:o?s:0,height:l}),o?e:0,o?i:0),this.$i.S_(s),this.Gm!==e&&(this.Gm=e),this.Jm!==i&&(this.Jm=i)}hb(t){t?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Yn?1/window.devicePixelRatio:1}rb(t){if(!(0!==t.deltaX&&this.cn.handleScroll.mouseWheel||0!==t.deltaY&&this.cn.handleScale.mouseWheel))return;const e=this.Rb(t),i=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==n&&this.cn.handleScale.mouseWheel){const e=Math.sign(n)*Math.min(1,Math.abs(n)),i=t.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(i,e)}0!==i&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*i)}mb(t,e){var i;const n=t.jn();3===n&&this.Db(),3!==n&&2!==n||(this.Vb(t),this.Ob(t,e),this.ab.bt(),this.Xm.forEach(t=>{t.Xp()}),3===(null===(i=this.Qm)||void 0===i?void 0:i.jn())&&(this.Qm.ts(t),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,e),t=this.Qm,this.Qm=null)),this.vp(t)}Ob(t,e){for(const i of t.Qn())this.ns(i,e)}Vb(t){const e=this.$i.qc();for(let i=0;i<e.length;i++)t.Hn(i).Wn&&e[i].N_()}ns(t,e){const i=this.$i.St();switch(t.qn){case 0:i.hc();break;case 1:i.lc(t.Vt);break;case 2:i.Gn(t.Vt);break;case 3:i.Jn(t.Vt);break;case 4:i.qu();break;case 5:t.Vt.Qu(e)||i.Jn(t.Vt.tc(e))}}Vc(t){null!==this.Qm?this.Qm.ts(t):this.Qm=t,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(t=>{if(this.tb=!1,this.Km=0,null!==this.Qm){const e=this.Qm;this.Qm=null,this.mb(e,t);for(const i of e.Qn())if(5===i.qn&&!i.Vt.Qu(t)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const t=this.$i.qc(),e=t.length,i=this.Xm.length;for(let n=e;n<i;n++){const t=z(this.Xm.pop());this.sb.removeChild(t.lp()),t.lm().p(this),t.am().p(this),t.S()}for(let n=i;n<e;n++){const e=new Un(this,t[n]);e.lm().l(this.Bb.bind(this),this),e.am().l(this.Ab.bind(this),this),this.Xm.push(e),this.sb.insertBefore(e.lp(),this.ab.lp())}for(let n=0;n<e;n++){const e=t[n],i=this.Xm[n];i.fp()!==e?i.qp(e):i.Up()}this.cb(),this.Pb()}Ib(t,e,i){var n;const r=new Map;let s;if(null!==t&&this.$i.wt().forEach(e=>{const i=e.In().ll(t);null!==i&&r.set(e,i)}),null!==t){const e=null===(n=this.$i.St().Ui(t))||void 0===n?void 0:n.originalTime;void 0!==e&&(s=e)}const o=this.$t().Wc(),l=null!==o&&o.Hc instanceof ci?o.Hc:void 0,a=null!==o&&void 0!==o.Iv?o.Iv.gr:void 0;return{zb:s,ee:null!=t?t:void 0,Lb:null!=e?e:void 0,Eb:l,Nb:r,Fb:a,Wb:null!=i?i:void 0}}Bb(t,e,i){this.Vp.m(()=>this.Ib(t,e,i))}Ab(t,e,i){this.Op.m(()=>this.Ib(t,e,i))}lb(t,e,i){this.Rc.m(()=>this.Ib(t,e,i))}cb(){const t=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=t}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(t=>{const e=t.find(t=>t.target===this.Jd);e&&this._b(e.contentRect.width,e.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){null!==this.ib&&this.ib.disconnect(),this.ib=null}}function Jn(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Gn(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}function Zn(t,e,i,n){const r=i.value,s={ee:e,ot:t,Vt:[r,r,r,r],zb:n};return void 0!==i.color&&(s.V=i.color),s}function tr(t,e,i,n){const r=i.value,s={ee:e,ot:t,Vt:[r,r,r,r],zb:n};return void 0!==i.lineColor&&(s.lt=i.lineColor),void 0!==i.topColor&&(s.Ps=i.topColor),void 0!==i.bottomColor&&(s.Rs=i.bottomColor),s}function er(t,e,i,n){const r=i.value,s={ee:e,ot:t,Vt:[r,r,r,r],zb:n};return void 0!==i.topLineColor&&(s.Re=i.topLineColor),void 0!==i.bottomLineColor&&(s.De=i.bottomLineColor),void 0!==i.topFillColor1&&(s.ke=i.topFillColor1),void 0!==i.topFillColor2&&(s.ye=i.topFillColor2),void 0!==i.bottomFillColor1&&(s.Ce=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(s.Te=i.bottomFillColor2),s}function ir(t,e,i,n){const r={ee:e,ot:t,Vt:[i.open,i.high,i.low,i.close],zb:n};return void 0!==i.color&&(r.V=i.color),r}function nr(t,e,i,n){const r={ee:e,ot:t,Vt:[i.open,i.high,i.low,i.close],zb:n};return void 0!==i.color&&(r.V=i.color),void 0!==i.borderColor&&(r.Ot=i.borderColor),void 0!==i.wickColor&&(r.Xh=i.wickColor),r}function rr(t,e,i,n,r){const s=z(r)(i),o=Math.max(...s),l=Math.min(...s),a=s[s.length-1],u=[a,o,l,a],c=i,{time:h,color:d}=c;return{ee:e,ot:t,Vt:u,zb:n,$e:Gn(c,["time","color"]),V:d}}function sr(t){return void 0!==t.Vt}function or(t,e){return void 0!==e.customValues&&(t.jb=e.customValues),t}function lr(t){return(e,i,n,r,s,o)=>function(t,e){return e?e(t):void 0===(i=t).open&&void 0===i.value;var i}(n,o)?or({ot:e,ee:i,zb:r},n):or(t(e,i,n,r,s),n)}function ar(t){return{Candlestick:lr(nr),Bar:lr(ir),Area:lr(tr),Baseline:lr(er),Histogram:lr(Zn),Line:lr(Zn),Custom:lr(rr)}[t]}function ur(t){return{ee:0,Hb:new Map,la:t}}function cr(t,e){if(void 0!==t&&0!==t.length)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function hr(t){let e;return t.forEach(t=>{void 0===e&&(e=t.zb)}),z(e)}class dr{constructor(t){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=t}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(t,e){let i=0!==this.qb.size,n=!1;const r=this.Yb.get(t);if(void 0!==r)if(1===this.Yb.size)i=!1,n=!0,this.qb.clear();else for(const l of this.Xb)l.pointData.Hb.delete(t)&&(n=!0);let s=[];if(0!==e.length){const i=e.map(t=>t.time),r=this.q_.createConverterToInternalObj(e),o=ar(t.Qh()),l=t.Ca(),a=t.Ta();s=e.map((e,s)=>{const u=r(e.time),c=this.q_.key(u);let h=this.qb.get(c);void 0===h&&(h=ur(u),this.qb.set(c,h),n=!0);const d=o(u,h.ee,e,i[s],l,a);return h.Hb.set(t,d),d})}i&&this.Gb(),this.Jb(t,s);let o=-1;if(n){const t=[];this.qb.forEach(e=>{t.push({timeWeight:0,time:e.la,pointData:e,originalTime:hr(e.Hb)})}),t.sort((t,e)=>this.q_.key(t.time)-this.q_.key(e.time)),o=this.Qb(t)}return this.tw(t,o,function(t,e,i){const n=cr(t,i),r=cr(e,i);if(void 0!==n&&void 0!==r)return{ta:n.Ub>=r.Ub&&n.$b>=r.$b}}(this.Yb.get(t),r,this.q_))}vd(t){return this.Kb(t,[])}iw(t,e){const i=e;!function(t){void 0===t.zb&&(t.zb=t.time)}(i),this.q_.preprocessData(e);const n=this.q_.createConverterToInternalObj([e])(e.time),r=this.Zb.get(t);if(void 0!==r&&this.q_.key(n)<this.q_.key(r))throw new Error("Cannot update oldest data, last time=".concat(r,", new time=").concat(n));let s=this.qb.get(this.q_.key(n));const o=void 0===s;void 0===s&&(s=ur(n),this.qb.set(this.q_.key(n),s));const l=ar(t.Qh()),a=t.Ca(),u=t.Ta(),c=l(n,s.ee,e,i.zb,a,u);s.Hb.set(t,c),this.nw(t,c);const h={ta:sr(c)};if(!o)return this.tw(t,-1,h);const d={timeWeight:0,time:s.la,pointData:s,originalTime:hr(s.Hb)},f=Xt(this.Xb,this.q_.key(d.time),(t,e)=>this.q_.key(t.time)<e);this.Xb.splice(f,0,d);for(let p=f;p<this.Xb.length;++p)fr(this.Xb[p].pointData,p);return this.q_.fillWeightsForPoints(this.Xb,f),this.tw(t,f,h)}nw(t,e){let i=this.Yb.get(t);void 0===i&&(i=[],this.Yb.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||this.q_.key(e.ot)>this.q_.key(n.ot)?sr(e)&&i.push(e):sr(e)?i[i.length-1]=e:i.splice(-1,1),this.Zb.set(t,e.ot)}Jb(t,e){0!==e.length?(this.Yb.set(t,e.filter(sr)),this.Zb.set(t,e[e.length-1].ot)):(this.Yb.delete(t),this.Zb.delete(t))}Gb(){for(const t of this.Xb)0===t.pointData.Hb.size&&this.qb.delete(this.q_.key(t.time))}Qb(t){let e=-1;for(let i=0;i<this.Xb.length&&i<t.length;++i){const n=this.Xb[i],r=t[i];if(this.q_.key(n.time)!==this.q_.key(r.time)){e=i;break}r.timeWeight=n.timeWeight,fr(r.pointData,i)}if(-1===e&&this.Xb.length!==t.length&&(e=Math.min(this.Xb.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)fr(t[i].pointData,i);return this.q_.fillWeightsForPoints(t,e),this.Xb=t,e}sw(){if(0===this.Yb.size)return null;let t=0;return this.Yb.forEach(e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].ee))}),t}tw(t,e,i){const n={ew:new Map,St:{Eu:this.sw()}};if(-1!==e)this.Yb.forEach((e,r)=>{n.ew.set(r,{$e:e,rw:r===t?i:void 0})}),this.Yb.has(t)||n.ew.set(t,{$e:[],rw:i}),n.St.hw=this.Xb,n.St.lw=e;else{const e=this.Yb.get(t);n.ew.set(t,{$e:e||[],rw:i})}return n}}function fr(t,e){t.ee=e,t.Hb.forEach(t=>{t.ee=e})}function pr(t){const e={value:t.Vt[3],time:t.zb};return void 0!==t.jb&&(e.customValues=t.jb),e}function mr(t){const e=pr(t);return void 0!==t.V&&(e.color=t.V),e}function br(t){const e=pr(t);return void 0!==t.lt&&(e.lineColor=t.lt),void 0!==t.Ps&&(e.topColor=t.Ps),void 0!==t.Rs&&(e.bottomColor=t.Rs),e}function yr(t){const e=pr(t);return void 0!==t.Re&&(e.topLineColor=t.Re),void 0!==t.De&&(e.bottomLineColor=t.De),void 0!==t.ke&&(e.topFillColor1=t.ke),void 0!==t.ye&&(e.topFillColor2=t.ye),void 0!==t.Ce&&(e.bottomFillColor1=t.Ce),void 0!==t.Te&&(e.bottomFillColor2=t.Te),e}function vr(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return void 0!==t.jb&&(e.customValues=t.jb),e}function gr(t){const e=vr(t);return void 0!==t.V&&(e.color=t.V),e}function wr(t){const e=vr(t),{V:i,Ot:n,Xh:r}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==r&&(e.wickColor=r),e}function _r(t){return{Area:br,Line:mr,Baseline:yr,Histogram:mr,Bar:gr,Candlestick:wr,Custom:Sr}[t]}function Sr(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const xr={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Tr={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Er={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:tt,attributionLogo:!0},Mr={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Cr={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},kr={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:tt,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Ir(){return{width:0,height:0,autoSize:!1,layout:Er,crosshair:xr,grid:Tr,overlayPriceScales:Object.assign({},Mr),leftPriceScale:Object.assign(Object.assign({},Mr),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Mr),{visible:!0}),timeScale:Cr,watermark:kr,localization:{locale:fn?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Nr{constructor(t,e){this.aw=t,this.ow=e}applyOptions(t){this.aw.$t().$c(this.ow,t)}options(){return this.Li().W()}width(){return Et(this.ow)?this.aw.Mb(this.ow):0}Li(){return D(this.aw.$t().Uc(this.ow)).Dt}}function Or(t,e,i){const n=Gn(t,["time","originalTime"]),r=Object.assign({time:e},n);return void 0!==i&&(r.originalTime=i),r}const zr={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Dr{constructor(t){this.Nh=t}applyOptions(t){this.Nh.$h(t)}options(){return this.Nh.W()}_w(){return this.Nh}}class Lr{constructor(t,e,i,n,r){this.uw=new H,this.Es=t,this.cw=e,this.dw=i,this.q_=r,this.fw=n}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(t){const e=this.Es.Ct();return null===e?null:this.Es.Dt().Rt(t,e.Vt)}coordinateToPrice(t){const e=this.Es.Ct();return null===e?null:this.Es.Dt().pn(t,e.Vt)}barsInLogicalRange(t){if(null===t)return null;const e=new Pi(new Li(t.from,t.to)).lu(),i=this.Es.In();if(i.Ni())return null;const n=i.ll(e.Os(),1),r=i.ll(e.ui(),-1),s=D(i.el()),o=D(i.An());if(null!==n&&null!==r&&n.ee>r.ee)return{barsBefore:t.from-s,barsAfter:o-t.to};const l={barsBefore:null===n||n.ee===s?t.from-s:n.ee-s,barsAfter:null===r||r.ee===o?o-t.to:o-r.ee};return null!==n&&null!==r&&(l.from=n.zb,l.to=r.zb),l}setData(t){this.q_,this.Es.Qh(),this.cw.pw(this.Es,t),this.mw("full")}update(t){this.Es.Qh(),this.cw.bw(this.Es,t),this.mw("update")}dataByIndex(t,e){const i=this.Es.In().ll(t,e);return null===i?null:_r(this.seriesType())(i)}data(){const t=_r(this.seriesType());return this.Es.In().ne().map(e=>t(e))}subscribeDataChanged(t){this.uw.l(t)}unsubscribeDataChanged(t){this.uw.v(t)}setMarkers(t){this.q_;const e=t.map(t=>Or(t,this.q_.convertHorzItemToInternal(t.time),t.time));this.Es.na(e)}markers(){return this.Es.sa().map(t=>Or(t,t.originalTime,void 0))}applyOptions(t){this.Es.$h(t)}options(){return J(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(t){const e=K(J(zr),t),i=this.Es.ea(e);return new Dr(i)}removePriceLine(t){this.Es.ra(t._w())}seriesType(){return this.Es.Qh()}attachPrimitive(t){this.Es.ka(t),t.attached&&t.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(t){this.Es.ya(t),t.detached&&t.detached()}mw(t){this.uw.M()&&this.uw.m(t)}}class Ar{constructor(t,e,i){this.ww=new H,this.mu=new H,this.Om=new H,this.$i=t,this.yl=t.St(),this.ab=e,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=i}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(t,e){e?this.yl.Ju(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const t=this.yl.Vu();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.q_.convertHorzItemToInternal(t.from),to:this.q_.convertHorzItemToInternal(t.to)},i=this.yl.Iu(e);this.$i.pd(i)}getVisibleLogicalRange(){const t=this.yl.Du();return null===t?null:{from:t.Os(),to:t.ui()}}setVisibleLogicalRange(t){O(t.from<=t.to,"The from index cannot be after the to index."),this.$i.pd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(t){const e=this.$i.St();return e.Ni()?null:e.It(t)}coordinateToLogical(t){return this.yl.Ni()?null:this.yl.Nu(t)}timeToCoordinate(t){const e=this.q_.convertHorzItemToInternal(t),i=this.yl.Va(e,!1);return null===i?null:this.yl.It(i)}coordinateToTime(t){const e=this.$i.St(),i=e.Nu(t),n=e.Ui(i);return null===n?null:n.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(t){this.ww.l(t)}unsubscribeVisibleTimeRangeChange(t){this.ww.v(t)}subscribeVisibleLogicalRangeChange(t){this.mu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.mu.v(t)}subscribeSizeChange(t){this.Om.l(t)}unsubscribeSizeChange(t){this.Om.v(t)}applyOptions(t){this.yl.$h(t)}options(){return Object.assign(Object.assign({},J(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(t){this.Om.m(t.width,t.height)}}function Br(t){return function(t){if(Q(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;Q(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),Q(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}const e=t.handleScroll;Q(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Pr{constructor(t,e,i){this.Sw=new Map,this.kw=new Map,this.yw=new H,this.Cw=new H,this.Tw=new H,this.Pw=new dr(e);const n=void 0===i?J(Ir()):K(J(Ir()),Br(i));this.q_=e,this.aw=new Qn(t,n,e),this.aw.lm().l(t=>{this.yw.M()&&this.yw.m(this.Rw(t()))},this),this.aw.am().l(t=>{this.Cw.M()&&this.Cw.m(this.Rw(t()))},this),this.aw.Xc().l(t=>{this.Tw.M()&&this.Tw.m(this.Rw(t()))},this);const r=this.aw.$t();this.Dw=new Ar(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(t,e,i){this.autoSizeActive()||this.aw._b(t,e,i)}addCustomSeries(t,e){const i=L(t),n=Object.assign(Object.assign({},T),i.defaultOptions());return this.Vw("Custom",n,e,i)}addAreaSeries(t){return this.Vw("Area",_,t)}addBaselineSeries(t){return this.Vw("Baseline",S,t)}addBarSeries(t){return this.Vw("Bar",g,t)}addCandlestickSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(t),this.Vw("Candlestick",v,t)}addHistogramSeries(t){return this.Vw("Histogram",x,t)}addLineSeries(t){return this.Vw("Line",w,t)}removeSeries(t){const e=z(this.Sw.get(t)),i=this.Pw.vd(e);this.aw.$t().vd(e),this.Ow(i),this.Sw.delete(t),this.kw.delete(e)}pw(t,e){this.Ow(this.Pw.Kb(t,e))}bw(t,e){this.Ow(this.Pw.iw(t,e))}subscribeClick(t){this.yw.l(t)}unsubscribeClick(t){this.yw.v(t)}subscribeCrosshairMove(t){this.Tw.l(t)}unsubscribeCrosshairMove(t){this.Tw.v(t)}subscribeDblClick(t){this.Cw.l(t)}unsubscribeDblClick(t){this.Cw.v(t)}priceScale(t){return new Nr(this.aw,t)}timeScale(){return this.Dw}applyOptions(t){this.aw.$h(Br(t))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const t=this.aw.Tb();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,i){const n=this.Sw.get(i);if(void 0===n)return;const r=this.aw.$t().dr(n);null!==r&&this.aw.$t().ad(t,e,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;!function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}(i.priceFormat);const r=K(J(E),J(e),i),s=this.aw.$t().dd(t,r,n),o=new Lr(s,this,this,this,this.q_);return this.Sw.set(o,s),this.kw.set(s,o),o}Ow(t){const e=this.aw.$t();e._d(t.St.Eu,t.St.hw,t.St.lw),t.ew.forEach((t,e)=>e.J(t.$e,t.rw)),e.Wu()}Bw(t){return z(this.kw.get(t))}Rw(t){const e=new Map;t.Nb.forEach((t,i)=>{const n=i.Qh(),r=_r(n)(t);if("Custom"!==n)O(function(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}(r));else{const t=i.Ta();O(!t||!1===t(r))}e.set(this.Bw(i),r)});const i=void 0!==t.Eb&&this.kw.has(t.Eb)?this.Bw(t.Eb):void 0;return{time:t.zb,logical:t.ee,point:t.Lb,hoveredSeries:i,hoveredObjectId:t.Fb,seriesData:e,sourceEvent:t.Wb}}}function Rr(t,e){return function(t,e,i){let n;if(q(t)){const e=document.getElementById(t);O(null!==e,"Cannot find element in DOM with id=".concat(t)),n=e}else n=t;const r=new Pr(n,e,i);return e.setOptions(r.options()),r}(t,new dn,dn.Id(e))}Object.assign(Object.assign({},E),T);var Fr=i(579);function Vr(t){if(null==t)return null;if("number"===typeof t)return t;if("string"===typeof t){const e=new Date(t);return isNaN(e.getTime())?null:e.getTime()/1e3}if("object"===typeof t&&"year"in t&&"month"in t&&"day"in t){return new Date(t.year,t.month-1,t.day).getTime()/1e3}return null}const Ur='<svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M7 19a2 2 0 100-4 2 2 0 000 4zM7 13a2 2 0 100-4 2 2 0 000 4zM7 7a2 2 0 100-4 2 2 0 000 4zM17 19a2 2 0 100-4 2 2 0 000 4zM17 13a2 2 0 100-4 2 2 0 000 4zM17 7a2 2 0 100-4 2 2 0 000 4z"></path></svg>',jr='<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path></svg>',Wr='<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="20" x2="20" y2="4"></line><circle cx="4" cy="20" r="2" fill="currentColor"></circle><circle cx="20" cy="4" r="2" fill="currentColor"></circle></svg>',$r='<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="20" x2="20" y2="4"></line><path d="M16 4h4v4"></path><circle cx="4" cy="20" r="2" fill="currentColor"></circle></svg>',Hr='<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><line x1="2" y1="12" x2="22" y2="12"></line><circle cx="12" cy="12" r="2" fill="currentColor"></circle></svg>',Kr='<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><rect x="4" y="4" width="16" height="16"></rect><circle cx="4" cy="4" r="2" fill="currentColor"></circle><circle cx="20" cy="20" r="2" fill="currentColor"></circle></svg>',Xr='<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="4" x2="20" y2="4"></line><line x1="4" y1="12" x2="20" y2="12" stroke-dasharray="2,2"></line><line x1="4" y1="20" x2="20" y2="20"></line><line x1="12" y1="4" x2="12" y2="20" stroke-width="1" opacity="0.5"></line></svg>',Yr='<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 12c2 0 3-1 3-3s-1-3-3-3-4 1-6 3l-7 7c-1 1-1 3 0 4s3 1 4 0l7-7"></path></svg>';function qr(t,e){t.querySelectorAll("button[data-mode]").forEach(t=>{const i=(t.getAttribute("data-mode")||"mouse")===e;Object.assign(t.style,{background:i?"#e6f7ff":"transparent",color:i?"#1890ff":"#555",border:i?"1px solid #1890ff":"1px solid transparent"})})}const Qr=(t,e,i)=>{const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),r=function(t){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null==t||Number.isNaN(t)?"--":"number"!==typeof t?String(t):t.toFixed(e)}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:2)};let s='<div style="font-weight:bold;margin-bottom:4px;">\u65e5\u671f\uff1a'.concat(e,"</div>");t.series.forEach(t=>{try{const e=t.api.dataByIndex(i);if(!e)return;let o="--",l="#fff";const a=t.options,u=(t.title||"").trim(),c=/^(K|D|RSI)$/i.test(u),h=/\u5bb6\u6578/.test(u),d=!h&&/\u6210\u4ea4\u91cf|VOLUME|\u91cf|\u5f35|\u8cb7\u8ce3|\u878d\u8cc7|\u878d\u5238/.test(u),f=h||d,p=/\u5927\u6236|\u6563\u6236|%|\uff05/.test(u)&&!c;let m=u.replace(/[%\uff05]/g,"").trim();if(h?(m=m.replace(/\(\u5f35\)/g,"(\u5bb6)"),/\(\u5bb6\)/.test(m)||(m="".concat(m," (\u5bb6)"))):d&&(/\(\u5f35\)/.test(m)||/\u5f35/.test(m)||(m="".concat(m," (\u5f35)"))),void 0!==e.close){l=e.close>=e.open?a.upColor:a.downColor;let n=e.open,s=null;try{const e=t.api.dataByIndex(i-1);e&&"number"===typeof e.close&&(s=e.close)}catch(v){}"number"===typeof s&&Number.isFinite(s)&&0!==s&&(n=s);let u=0;"number"===typeof n&&Number.isFinite(n)&&0!==n&&(u=(e.close-n)/n*100);const c="".concat(u>=0?"+":"").concat(r(u,2),"%");o="\u958b:".concat(r(e.open)," \u9ad8:").concat(r(e.high)," \u4f4e:").concat(r(e.low)," \u6536:").concat(r(e.close),"  \u6f32\u8dcc\u5e45:").concat(c)}else if(void 0!==e.value){if(f){const t="number"===typeof e.value?Math.round(e.value):0;o=n.format(t)}else o=r(e.value,2);p&&"--"!==o&&(o="".concat(o,"%")),e.color?l=e.color:a.color?l=a.color:a.lineColor&&(l=a.lineColor)}const b=/^MA\d+$/i.test(m)?6:12;s+='<div style="display:flex;align-items:center;justify-content:flex-start;gap:'.concat(b,"px;color:").concat(l,'">\n                <span>').concat(m,'</span>\n                <span style="font-family:monospace">').concat(o,"</span>\n              </div>")}catch(v){}}),t.tooltip.innerHTML=s,t.tooltip.style.display="block"},Jr=()=>{const t=(0,s.useRenderData)(),e=t.args.charts||[],i=(0,n.useRef)(null),r=(0,n.useRef)([]),o=(0,n.useRef)([]),l=(0,n.useRef)(null),a=(0,n.useRef)(null),u=(0,n.useRef)([]),h=(0,n.useRef)([]),d=(0,n.useRef)(new Map),f=(0,n.useRef)(null),p=(0,n.useRef)([]),m=(0,n.useRef)(new Map),b=(0,n.useRef)(!1),y=(0,n.useRef)("mouse"),g=(0,n.useRef)("#ffffff"),w=(0,n.useRef)(2),_=(0,n.useRef)(null),S=(0,n.useRef)(null),x=(0,n.useRef)([]),T=(0,n.useRef)(null),E=(0,n.useRef)(null),M=(0,n.useRef)(null),C=(0,n.useRef)(-1),k=(0,n.useRef)(!1),I=(0,n.useRef)(null),N=(0,n.useMemo)(()=>Array(e.length).fill(null).map(()=>n.createRef()),[e.length]),O=(0,n.useMemo)(()=>{var e,i,n;const r=null===(e=t.args)||void 0===e||null===(i=e.charts)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.highlightRange;return r?"".concat(r.start,"|").concat(r.end):""},[t.args]),z=t=>{const e=Vr(t);if(null==e)return-1;const i=Math.round(e),n=d.current.get(i);return"number"===typeof n?n:-1},D=()=>{const t=r.current[0];if(!t||!t.chart||!t.container)return;const e=f.current;if(!e)return;const i=function(t){let e=t.querySelector(".drawing-layer");e||(e=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.classList.add("drawing-layer"),Object.assign(e.style,{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",pointerEvents:"none",zIndex:"850"}),"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(e));return e}(t.container);S.current=i;const n=t.container.clientWidth||1,s=t.container.clientHeight||1;i.setAttribute("viewBox","0 0 ".concat(n," ").concat(s)),i.innerHTML="";const o=t.chart.timeScale();if(b.current)try{var l;const t=null===(l=o.getVisibleLogicalRange)||void 0===l?void 0:l.call(o),r=p.current||[],s=m.current||new Map;if(r.length>0&&t&&null!=t.from&&null!=t.to){const o=Math.max(0,Math.floor(Number(t.from))),l=Math.min(r.length-1,Math.ceil(Number(t.to)));if(l>=o){let t=1/0,a=-1/0;for(let e=o;e<=l;e++){const i=r[e];if(!i)continue;const n="number"===typeof i.low?i.low:null,s="number"===typeof i.high?i.high:null;null!=n&&null!=s&&(t=Math.min(t,n),a=Math.max(a,s))}if(Number.isFinite(t)&&Number.isFinite(a)&&a>t){const u=24,c=(a-t)/u,h=new Array(u).fill(0);for(let e=o;e<=l;e++){const i=r[e];if(!i)continue;const n="number"===typeof i.low?i.low:null,o="number"===typeof i.high?i.high:null;if(null==n||null==o)continue;const l=Vr(i.time);if(null==l)continue;const a=Math.round(l),d=s.get(a);if(null==d||!Number.isFinite(d)||d<=0)continue;const f=Math.min(n,o),p=Math.max(n,o);if(Math.abs(p-f)<1e-9){h[Math.max(0,Math.min(u-1,Math.floor((f-t)/c)))]+=d;continue}const m=p-f,b=Math.max(0,Math.min(u-1,Math.floor((f-t)/c))),y=Math.max(0,Math.min(u-1,Math.floor((p-t)/c)));for(let e=b;e<=y;e++){const i=t+e*c,n=t+(e+1)*c,r=Math.max(0,Math.min(n,p)-Math.max(i,f));r<=0||(h[e]+=d*(r/m))}}const d=Math.max(...h);if(d>0){const r=Math.min(420,.62*n),s=n-6;let o=-1,l=-1,a=-1/0,f=-1/0;for(let t=0;t<u;t++){const e=h[t];e>a?(f=a,l=o,a=e,o=t):e>f&&(f=e,l=t)}for(let n=0;n<u;n++){const a=h[n];if(a<=0)continue;const u=t+n*c,f=t+(n+1)*c,p=e.priceToCoordinate(u),m=e.priceToCoordinate(f);if(null==p||null==m)continue;const b=p,y=m;if(!Number.isFinite(b)||!Number.isFinite(y))continue;const v=Math.min(b,y),g=Math.abs(y-b);if(g<=.5)continue;const w=a/d*r,_=s-w;let S="rgba(33, 150, 243, 0.18)",x="rgba(33, 150, 243, 0.35)";n===o?(S="rgba(244, 67, 54, 0.22)",x="rgba(244, 67, 54, 0.60)"):n===l&&(S="rgba(255, 152, 0, 0.22)",x="rgba(255, 152, 0, 0.60)");const T=document.createElementNS("http://www.w3.org/2000/svg","rect");T.setAttribute("x",String(_)),T.setAttribute("y",String(v)),T.setAttribute("width",String(w)),T.setAttribute("height",String(g)),T.setAttribute("fill",S),T.setAttribute("stroke",x),T.setAttribute("stroke-width","1"),T.setAttribute("vector-effect","non-scaling-stroke"),i.appendChild(T)}}}}}}catch(v){}const a=(t,e,i,n,r,s,o)=>{const l=document.createElementNS("http://www.w3.org/2000/svg","line");return l.setAttribute("x1",String(t)),l.setAttribute("y1",String(e)),l.setAttribute("x2",String(i)),l.setAttribute("y2",String(n)),l.setAttribute("stroke",r),l.setAttribute("stroke-width",String(s)),o&&l.setAttribute("stroke-dasharray","6,4"),l.setAttribute("vector-effect","non-scaling-stroke"),l.setAttribute("stroke-linecap","round"),l},u=(t,e,i,n,r)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","circle");return s.setAttribute("cx",String(t)),s.setAttribute("cy",String(e)),s.setAttribute("r",String(Math.max(3,Math.min(6,n+2)))),s.setAttribute("fill",i),s.setAttribute("opacity",r?"0.65":"0.9"),s.setAttribute("stroke","rgba(0,0,0,0.35)"),s.setAttribute("stroke-width","1"),s},c=(t,r,l)=>{const c=t.color,h=t.width,d="mouse"===y.current&&(l||r);if("brush"===t.mode&&t.points&&t.points.length>0){const n=[];let s=1/0,l=-1/0,a=1/0,u=-1/0;if(t.points.forEach(t=>{const i=o.logicalToCoordinate(t.l),r=e.priceToCoordinate(t.p);if(null!=i&&null!=r){const t=Number(i),e=Number(r);Number.isFinite(t)&&Number.isFinite(e)&&(n.push({x:t,y:e}),t<s&&(s=t),t>l&&(l=t),e<a&&(a=e),e>u&&(u=e))}}),n.length>1){const t=document.createElementNS("http://www.w3.org/2000/svg","path"),e=function(t){const e=t.length;if(0===e)return"";if(1===e)return"M ".concat(t[0].x," ").concat(t[0].y);if(2===e)return"M ".concat(t[0].x," ").concat(t[0].y," L ").concat(t[1].x," ").concat(t[1].y);const i=.5;let n="M ".concat(t[0].x," ").concat(t[0].y);for(let r=0;r<e-1;r++){const e=t[r-1]||t[r],s=t[r],o=t[r+1],l=t[r+2]||o,a=s.x+(o.x-e.x)*(i/6),u=s.y+(o.y-e.y)*(i/6),c=o.x-(l.x-s.x)*(i/6),h=o.y-(l.y-s.y)*(i/6);n+=" C ".concat(a," ").concat(u," ").concat(c," ").concat(h," ").concat(o.x," ").concat(o.y)}return n}(n);if(t.setAttribute("d",e),t.setAttribute("fill","none"),t.setAttribute("stroke",c),t.setAttribute("stroke-width",String(h)),t.setAttribute("stroke-linejoin","round"),t.setAttribute("stroke-linecap","round"),t.setAttribute("shape-rendering","geometricPrecision"),t.setAttribute("vector-effect","non-scaling-stroke"),r&&t.setAttribute("opacity","0.5"),i.appendChild(t),d&&isFinite(s)){const t=document.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("x",String(s-5)),t.setAttribute("y",String(a-5)),t.setAttribute("width",String(l-s+10)),t.setAttribute("height",String(u-a+10)),t.setAttribute("stroke","#2196F3"),t.setAttribute("stroke-width","1"),t.setAttribute("stroke-dasharray","4,4"),t.setAttribute("fill","transparent"),i.appendChild(t)}}return}if("fib"===t.mode){const n="number"===typeof t.l1?o.logicalToCoordinate(t.l1):o.timeToCoordinate(t.t1),s="number"===typeof t.l2?o.logicalToCoordinate(t.l2):o.timeToCoordinate(t.t2),l=e.priceToCoordinate(t.p1),f=e.priceToCoordinate(t.p2);if(null==n||null==s||null==l||null==f)return;const p=Number(n),m=Number(s),b=Number(l),y=Number(f);i.appendChild(a(p,b,m,y,c,1,!0));const v=[0,.236,.382,.5,.618,.786,1],g=t.p2-t.p1;return v.forEach(n=>{const s=t.p1+g*n,o=e.priceToCoordinate(s);if(null!=o){const t=Number(o),e=Math.min(p,m)-20,s=Math.max(p,m)+20,l=a(e,t,s,t,c,1,!1);if(l.setAttribute("opacity","0.7"),i.appendChild(l),d||!r){const r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("x",String(e)),r.setAttribute("y",String(t-2)),r.setAttribute("fill",c),r.setAttribute("font-size","10"),r.textContent=String(n),i.appendChild(r)}}}),void(d&&(i.appendChild(u(p,b,c,h,r)),i.appendChild(u(m,y,c,h,r))))}if("hline"===t.mode){const s=e.priceToCoordinate(t.p1);if(null==s)return;const o=s;if(!Number.isFinite(o))return;return i.appendChild(a(0,o,n,o,c,h,r)),void(d&&i.appendChild(u(10,o,c,h,r)))}const f="number"===typeof t.l1?o.logicalToCoordinate(t.l1):o.timeToCoordinate(t.t1),p="number"===typeof t.l2?o.logicalToCoordinate(t.l2):o.timeToCoordinate(t.t2),m=e.priceToCoordinate(t.p1),b=e.priceToCoordinate(t.p2);if(null==f||null==p||null==m||null==b)return;const v=Number(f),g=Number(p),w=Number(m),_=Number(b);if("line"===t.mode)return i.appendChild(a(v,w,g,_,c,h,r)),void(d&&(i.appendChild(u(v,w,c,h,r)),i.appendChild(u(g,_,c,h,r))));if("ray"===t.mode){const t=n;let e=_;const o=g-v,l=_-w;if(Math.abs(o)<1e-6)i.appendChild(a(v,0,v,s,c,h,r));else{e=w+l/o*(t-v),i.appendChild(a(v,w,t,e,c,h,r))}return void(d&&(i.appendChild(u(v,w,c,h,r)),i.appendChild(u(g,_,c,h,r))))}if("rect"===t.mode){const t=Math.min(v,g),e=Math.max(v,g),n=Math.min(w,_),s=Math.max(w,_),o=Math.max(0,e-t),l=Math.max(0,s-n);return o<=.5||l<=.5?i.appendChild(a(v,w,g,_,c,h,r)):i.appendChild(((t,e,i,n,r,s,o)=>{const l=document.createElementNS("http://www.w3.org/2000/svg","rect");return l.setAttribute("x",String(t)),l.setAttribute("y",String(e)),l.setAttribute("width",String(i)),l.setAttribute("height",String(n)),l.setAttribute("stroke",r),l.setAttribute("stroke-width",String(s)),l.setAttribute("fill","rgba(255,255,255,0.06)"),o&&l.setAttribute("stroke-dasharray","6,4"),l.setAttribute("vector-effect","non-scaling-stroke"),l})(t,n,o,l,c,h,r)),void(d&&(i.appendChild(u(v,w,c,h,r)),i.appendChild(u(g,_,c,h,r))))}};for(let r=0;r<x.current.length;r++){c(x.current[r],!1,r===C.current)}E.current&&c(E.current,!0,!0)},L=()=>{var t;const n=i.current,s=a.current;if(!n||!s)return;const o=null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.highlightRange,l=u.current;if(!o||!o.start||!o.end||!l||0===l.length||0===r.current.length)return void(s.style.display="none");const c=Vr(o.start),h=Vr(o.end);if(null===c||null===h)return void(s.style.display="none");let d=-1;for(let e=0;e<l.length;e++)if(l[e]>=c){d=e;break}let f=-1;for(let e=l.length-1;e>=0;e--)if(l[e]<=h){f=e;break}if(-1===d||-1===f||d>f)return void(s.style.display="none");const p=r.current[0];if(p&&p.chart)try{const t=p.chart.timeScale(),e=t.logicalToCoordinate(d),i=t.logicalToCoordinate(f),r=null!==e&&void 0!==e?e:-1e5,o=null!==i&&void 0!==i?i:-1e5;if(!Number.isFinite(r)||!Number.isFinite(o))return void(s.style.display="none");const l=n.getBoundingClientRect(),a=p.container.getBoundingClientRect(),u=a.left-l.left,c=a.top-l.top;s.style.top="".concat(c,"px"),s.style.height="".concat(a.height,"px"),s.style.bottom="auto";const h=3,m=Math.min(r,o)-h,b=Math.max(r,o)+h,y=u+m,v=b-m;if(!Number.isFinite(y)||!Number.isFinite(v)||v<=0)return void(s.style.display="none");s.style.display="block",s.style.left="".concat(y,"px"),s.style.width="".concat(v,"px")}catch(v){s.style.display="none"}};return(0,n.useEffect)(()=>{const t=t=>{if("Backspace"!==t.key)return;const e=t.target;if(e){const t=(e.tagName||"").toUpperCase();if("INPUT"===t||"TEXTAREA"===t||e.isContentEditable)return}return T.current?(t.preventDefault(),T.current=null,E.current=null,k.current=!1,I.current=null,void D()):C.current>=0&&C.current<x.current.length?(t.preventDefault(),x.current.splice(C.current,1),C.current=-1,void D()):x.current.length>0?(t.preventDefault(),x.current.pop(),void D()):void 0};return window.addEventListener("keydown",t,{capture:!0}),()=>window.removeEventListener("keydown",t,{capture:!0})},[]),(0,n.useEffect)(()=>{if(null===e||void 0===e||!e.length)return;if(N.some(t=>!t.current))return;o.current.forEach(t=>t&&t.remove()),o.current=[],r.current=[],u.current=[],h.current=[],d.current=new Map,f.current=null,p.current=[],m.current=new Map,C.current=-1;const t=i.current;if(t){l.current=function(t){let e=t.querySelector(".global-vline");e||(e=document.createElement("div"),e.className="global-vline",Object.assign(e.style,{position:"absolute",top:"0px",bottom:"0px",width:"1px",background:"rgba(255,255,255,0.3)",display:"none",pointerEvents:"none",zIndex:"900",transform:"translateX(-0.5px)"}),"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(e));return e}(t),a.current=function(t){let e=t.querySelector(".global-mask");e||(e=document.createElement("div"),e.className="global-mask",Object.assign(e.style,{position:"absolute",top:"0px",bottom:"0px",left:"0px",width:"0px",display:"none",pointerEvents:"none",zIndex:"800",background:"rgba(255, 235, 59, 0.15)",borderLeft:"1px solid rgba(255, 235, 59, 0.4)",borderRight:"1px solid rgba(255, 235, 59, 0.4)"}),"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(e));return e}(t),_.current=function(t,e,i,n,r,s,o,l,a){let u=t.querySelector(".draw-toolbar");if(!u){u=document.createElement("div"),u.className="draw-toolbar",Object.assign(u.style,{position:"absolute",top:"20px",left:"100px",zIndex:"1100",display:"flex",gap:"4px",padding:"4px 8px",borderRadius:"20px",background:"#ffffff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",border:"1px solid #e0e0e0",pointerEvents:"auto",userSelect:"none",alignItems:"center",color:"#333"});const c=document.createElement("div");c.innerHTML=Ur,Object.assign(c.style,{cursor:"grab",padding:"4px",display:"flex",alignItems:"center",color:"#999",marginRight:"4px"});let h=!1,d=0,f=0,p=0,m=0;const b=t=>{if(!h||!u)return;t.preventDefault();const e=t.clientX-d,i=t.clientY-f;u.style.left="".concat(p+e,"px"),u.style.top="".concat(m+i,"px")},y=()=>{h=!1,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",y),c&&(c.style.cursor="grab")};c.addEventListener("mousedown",t=>{h=!0,d=t.clientX,f=t.clientY,p=u.offsetLeft,m=u.offsetTop,c.style.cursor="grabbing",document.addEventListener("mousemove",b),document.addEventListener("mouseup",y)}),u.appendChild(c);const v=(t,n,r)=>{const s=document.createElement("button");return s.type="button",s.innerHTML=t,s.title=r,s.setAttribute("data-mode",n),Object.assign(s.style,{width:"32px",height:"32px",padding:"4px",borderRadius:"6px",cursor:"pointer",background:"transparent",border:"1px solid transparent",color:"#555",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"}),s.addEventListener("click",()=>{i(n),qr(u,e())}),s};u.appendChild(v(jr,"mouse","\u6ed1\u9f20")),u.appendChild(v(Wr,"line","\u76f4\u7dda")),u.appendChild(v($r,"ray","\u5ef6\u9577\u7dda")),u.appendChild(v(Hr,"hline","\u6c34\u5e73\u7dda")),u.appendChild(v(Xr,"fib","\u6590\u6ce2\u90a3\u5951\u56de\u64a4")),u.appendChild(v(Yr,"brush","\u7b46\u5237")),u.appendChild(v(Kr,"rect","\u65b9\u6846"));const g=()=>{const t=document.createElement("div");return Object.assign(t.style,{width:"1px",height:"20px",background:"#e0e0e0",margin:"0 6px"}),t};u.appendChild(g());const w=document.createElement("div");Object.assign(w.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",borderRadius:"50%",border:"1px solid #ddd",overflow:"hidden",cursor:"pointer",position:"relative"});const _=document.createElement("input");_.type="color",_.value=n(),Object.assign(_.style,{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",padding:0,border:"none",cursor:"pointer"}),_.addEventListener("input",()=>{r(_.value)}),w.appendChild(_),u.appendChild(w);const S=document.createElement("select");Object.assign(S.style,{height:"24px",fontSize:"12px",borderRadius:"4px",background:"#f5f5f5",color:"#333",border:"1px solid #ddd",padding:"0 2px",cursor:"pointer",outline:"none",marginLeft:"6px"}),[1,2,3,4,5].forEach(t=>{const e=document.createElement("option");e.value=String(t),e.textContent="".concat(t,"px"),S.appendChild(e)}),S.value=String(s()),S.addEventListener("change",()=>{const t=parseInt(S.value,10);Number.isFinite(t)&&o(t)}),u.appendChild(S),u.appendChild(g());const x=document.createElement("button");x.type="button",x.className="vp-toggle",x.title="\u5207\u63db\u5206\u50f9\u5716",x.textContent="VP",Object.assign(x.style,{fontSize:"11px",fontWeight:"bold",padding:"2px 6px",height:"24px",borderRadius:"4px",cursor:"pointer",background:"#f5f5f5",border:"1px solid #ddd",color:"#555"});const T=()=>{const t=l();Object.assign(x.style,{background:t?"#1890ff":"#f5f5f5",color:t?"#fff":"#555",border:t?"1px solid #1890ff":"1px solid #ddd"})};x.addEventListener("click",()=>{a(!l()),T()}),T(),u.appendChild(x),"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(u)}qr(u,e());const c=u.querySelector('input[type="color"]');c&&(c.value=n());const h=u.querySelector("select");h&&(h.value=String(s()));const d=u.querySelector(".vp-toggle");if(d){const t=l();Object.assign(d.style,{background:t?"#1890ff":"#f5f5f5",color:t?"#fff":"#555",border:t?"1px solid #1890ff":"1px solid #ddd"})}return u}(t,()=>y.current,t=>{y.current=t,T.current=null,E.current=null,k.current=!1,I.current=null,D()},()=>g.current,t=>{g.current=t,D()},()=>w.current,t=>{w.current=t,D()},()=>b.current,t=>{b.current=t,D()});const e=()=>{r.current.forEach(t=>t.tooltip.style.display="none"),l.current&&(l.current.style.display="none")};return t.addEventListener("mouseleave",e),()=>t.removeEventListener("mouseleave",e)}},[e.length]),(0,n.useEffect)(()=>{if(null===e||void 0===e||!e.length)return;o.current.forEach(t=>t&&t.remove()),o.current=[],r.current=[],u.current=[],h.current=[],d.current=new Map,f.current=null,p.current=[],m.current=new Map,C.current=-1,M.current=null;const t=[],n=[];let s=null,a=null,b=null;N.forEach((t,i)=>{var n,s,l;const a=t.current;if(!a)return;const b=Rr(a,c(c({height:0===i?360:160,width:a.clientWidth||600},e[i].chart),{},{layout:c({background:{type:"solid",color:"transparent"},textColor:"#d1d4dc"},(null===(n=e[i].chart)||void 0===n?void 0:n.layout)||{}),rightPriceScale:c({visible:!0,minimumWidth:70,borderColor:"rgba(197, 203, 206, 0.8)"},(null===(s=e[i].chart)||void 0===s?void 0:s.rightPriceScale)||{}),timeScale:c({timeVisible:!0,secondsVisible:!1},(null===(l=e[i].chart)||void 0===l?void 0:l.timeScale)||{})}));b.applyOptions({crosshair:{mode:1,vertLine:{visible:!1,labelBackgroundColor:"#4c525e"},horzLine:{visible:!0,labelBackgroundColor:"#4c525e"}}}),o.current[i]=b;const y=function(t){let e=t.querySelector(".floating-tooltip");e||(e=document.createElement("div"),e.className="floating-tooltip",Object.assign(e.style,{position:"absolute",display:"none",padding:"8px 10px",fontSize:"12px",zIndex:"1000",top:"10px",left:"10px",pointerEvents:"none",border:"1px solid rgba(255,255,255,0.15)",borderRadius:"4px",background:"rgba(20, 20, 20, 0.9)",color:"#ececec",boxShadow:"0 2px 5px rgba(0,0,0,0.5)",fontFamily:"monospace"}),"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(e));return e}(a);r.current[i]={chart:b,container:a,tooltip:y,series:[]};for(const o of e[i].series){let t=null;switch(o.type){case"Candlestick":t=b.addCandlestickSeries(o.options);break;case"Histogram":t=b.addHistogramSeries(o.options);break;case"Line":t=b.addLineSeries(o.options);break;case"Area":t=b.addAreaSeries(o.options);break;case"Bar":t=b.addBarSeries(o.options);break;case"Baseline":t=b.addBaselineSeries(o.options)}if(t){var g,w;if("Candlestick"!==o.type)try{t.applyOptions({crosshairMarkerVisible:!1})}catch(v){}if(o.priceScale&&b.priceScale((null===(g=o.options)||void 0===g?void 0:g.priceScaleId)||"").applyOptions(o.priceScale),t.setData(o.data),o.markers&&t.setMarkers(o.markers),0===i&&"Candlestick"===o.type&&Array.isArray(o.data)){p.current=o.data;const e=[],i=[],n=new Map;o.data.forEach(t=>{const r=Vr(t.time);if(null!==r){const s=Math.round(r),o=i.length;e.push(t.time),i.push(r),n.set(s,o)}}),h.current=e,u.current=i,d.current=n,f.current=t}if(1===i&&"Histogram"===o.type&&Array.isArray(o.data)){const t=m.current;o.data.forEach(e=>{const i=Vr(e.time),n="number"===typeof e.value?e.value:null;null!=i&&null!=n&&Number.isFinite(n)&&t.set(Math.round(i),n)})}r.current[i].series.push({api:t,title:t.options().title||(null===(w=o.options)||void 0===w?void 0:w.title)||"",options:t.options()})}}b.timeScale().fitContent()});const S=(t,e,n)=>{const s=l.current,o=i.current;if(!s||!o||!e.point||!e.time)return r.current.forEach(t=>t.tooltip.style.display="none"),void(s&&(s.style.display="none"));try{const t=r.current[n];if(!t||!t.chart)return;const i=t.chart.timeScale().timeToCoordinate(e.time);if(null===i)return;const l=o.getBoundingClientRect(),a=t.container.getBoundingClientRect().left-l.left+i;s.style.left="".concat(a,"px"),s.style.display="block"}catch(v){return}r.current.forEach((i,r)=>{try{if(!i||!i.chart)return;const o=function(t){if(null==t)return"";if("number"===typeof t)return new Date(1e3*t).toISOString().split("T")[0];if("object"===typeof t&&"year"in t){const e=t.year,i=String(t.month).padStart(2,"0"),n=String(t.day).padStart(2,"0");return"".concat(e,"-").concat(i,"-").concat(n)}return String(t)}(e.time),l=t.timeScale().coordinateToLogical(e.point.x);var s;if(null!==l&&Qr(i,o,Math.round(l)),r!==n)if(i.chart)i.chart.setCrosshairPosition(0,e.time,null===(s=i.series[0])||void 0===s?void 0:s.api)}catch(v){}})};r.current.forEach((t,e)=>{t.chart.subscribeCrosshairMove(i=>S(t.chart,i,e))});const O=o.current.filter(t=>null!==t);if(O.length>1){let t=!1;O.forEach(e=>{e.timeScale().subscribeVisibleLogicalRangeChange(i=>{i&&!t&&(t=!0,O.filter(t=>t!==e).forEach(t=>{try{t.timeScale().setVisibleLogicalRange(i)}catch(v){}}),t=!1,requestAnimationFrame(L),requestAnimationFrame(D))})})}else 1===O.length&&O[0].timeScale().subscribeVisibleLogicalRangeChange(()=>{requestAnimationFrame(L),requestAnimationFrame(D)});try{const t=o.current[0],e=u.current.length;if(t&&e>0){const i=Math.max(0,e-60),n=e-1;t.timeScale().setVisibleLogicalRange({from:i,to:n})}}catch(v){}try{const t=o.current[0];if(t){const e=t=>{var e;if(!t||!t.point)return;if("brush"===y.current)return;if(!T.current)return;const i=f.current,n=r.current[0];if(!i||!n||!n.chart)return;const s=T.current,o=s.mode,l=n.chart.timeScale().coordinateToLogical(t.point.x);if(null==l)return;let a=null;try{a=i.coordinateToPrice(t.point.y)}catch(v){a=null}if(null==a||!Number.isFinite(a))return;if("hline"===o)return E.current={mode:"hline",t1:s.t,p1:s.p,t2:s.t,p2:s.p,color:g.current,width:w.current,l1:s.l,l2:s.l},void D();const u="fib"===o?"fib":"ray"===o?"ray":"rect"===o?"rect":"line";E.current={mode:u,t1:s.t,p1:s.p,t2:null!==(e=t.time)&&void 0!==e?e:null,p2:a,color:g.current,width:w.current,l1:s.l,l2:Number(l)},D()};t.subscribeCrosshairMove(e),n.push({chart:t,handler:e})}}catch(v){}try{const e=o.current[0];if(e){const i=t=>{var e;if("mouse"===y.current)return;if(!t||!t.point)return;const i=r.current[0],n=f.current;if(!n||!i||!i.chart)return;const s=i.chart.timeScale().coordinateToLogical(t.point.x);if(null==s)return;let o=null;try{o=n.coordinateToPrice(t.point.y)}catch(v){o=null}if(null==o||!Number.isFinite(o))return;const l=null!==(e=t.time)&&void 0!==e?e:null,a=y.current;if("brush"===a)return;if("hline"===a){T.current=null,E.current=null;const t={mode:"hline",t1:l,p1:o,t2:l,p2:o,color:g.current,width:w.current,l1:Number(s),l2:Number(s)};return x.current.push(t),y.current="mouse",_.current&&qr(_.current,"mouse"),void D()}if(!T.current){T.current={mode:a,t:l,p:o,l:Number(s)};const t="fib"===a?"fib":"ray"===a?"ray":"rect"===a?"rect":"line";return E.current={mode:t,t1:l,p1:o,t2:l,p2:o,color:g.current,width:w.current,l1:Number(s),l2:Number(s)},void D()}const u=T.current;T.current=null;const c={mode:"fib"===u.mode?"fib":"ray"===u.mode?"ray":"rect"===u.mode?"rect":"line",t1:u.t,p1:u.p,t2:l,p2:o,color:g.current,width:w.current,l1:u.l,l2:Number(s)};x.current.push(c),E.current=null,y.current="mouse",_.current&&qr(_.current,"mouse"),D()};e.subscribeClick(i),t.push({chart:e,handler:i})}}catch(v){}try{const t=r.current[0],e=o.current[0],i=f.current;if(t&&t.container&&e&&i){const n=t.container,r=(t,e,i,n,r,s)=>{const o=r-i,l=s-n,a=o*(t-i)+l*(e-n);if(a<=0)return Math.hypot(t-i,e-n);const u=o*o+l*l;if(u<=a)return Math.hypot(t-r,e-s);const c=a/u,h=i+c*o,d=n+c*l;return Math.hypot(t-h,e-d)},o=t=>{const r=e.timeScale(),s=n.clientWidth||1,o=n.clientHeight||1;if("brush"===t.mode&&t.points){let e=1/0,n=-1/0,l=1/0,a=-1/0;return t.points.forEach(t=>{const s=r.logicalToCoordinate(t.l),o=i.priceToCoordinate(t.p);if(null!=s&&null!=o){const t=Number(s),i=Number(o);e=Math.min(e,t),n=Math.max(n,t),l=Math.min(l,i),a=Math.max(a,i)}}),{kind:"rect",rect:{left:e-5,right:n+5,top:l-5,bottom:a+5},w:s,h:o,p1:{x:e,y:l},p2:{x:n,y:a}}}if("hline"===t.mode){const e=i.priceToCoordinate(t.p1);if(null==e)return null;const n=e;return Number.isFinite(n)?{kind:"hline",p1:{x:10,y:n},p2:{x:10,y:n},body:{x1:0,y1:n,x2:s,y2:n},w:s,h:o}:null}const l="number"===typeof t.l1?r.logicalToCoordinate(t.l1):r.timeToCoordinate(t.t1),a="number"===typeof t.l2?r.logicalToCoordinate(t.l2):r.timeToCoordinate(t.t2),u=i.priceToCoordinate(t.p1),c=i.priceToCoordinate(t.p2);if(null==l||null==a||null==u||null==c)return null;const h=Number(l),d=Number(a),f=Number(u),p=Number(c);if("ray"===t.mode){const t=s;let e=p;const i=d-h,n=p-f;if(Math.abs(i)<1e-6)return{kind:"rayV",p1:{x:h,y:f},p2:{x:d,y:p},body:{x1:h,y1:0,x2:h,y2:o},w:s,h:o};return e=f+n/i*(t-h),{kind:"ray",p1:{x:h,y:f},p2:{x:d,y:p},body:{x1:h,y1:f,x2:t,y2:e},w:s,h:o}}if("rect"===t.mode){return{kind:"rect",p1:{x:h,y:f},p2:{x:d,y:p},rect:{left:Math.min(h,d),right:Math.max(h,d),top:Math.min(f,p),bottom:Math.max(f,p)},w:s,h:o}}return{kind:"line",p1:{x:h,y:f},p2:{x:d,y:p},body:{x1:h,y1:f,x2:d,y2:p},w:s,h:o}},l=(t,e)=>{const i=i=>{const n=x.current[i];if(!n)return null;const s=o(n);if(!s)return null;if("brush"===n.mode&&s.rect){const{left:n,right:r,top:o,bottom:l}=s.rect;return t>=n&&t<=r&&e>=o&&e<=l?{idx:i,part:"body",dist:0}:null}const l=Math.hypot(t-s.p1.x,e-s.p1.y),a=Math.hypot(t-s.p2.x,e-s.p2.y);let u=null,c=1/0;if("hline"===n.mode?l<=10&&(u="p1",c=l):(l<=10&&l<c&&(u="p1",c=l),a<=10&&a<c&&(u="p2",c=a)),u)return{idx:i,part:u,dist:c};if("rect"===n.mode&&s.rect){const{left:n,right:o,top:l,bottom:a}=s.rect,u=r(t,e,n,l,o,l),c=r(t,e,o,l,o,a),h=r(t,e,o,a,n,a),d=r(t,e,n,a,n,l),f=Math.min(u,c,h,d);if(f<=7)return{idx:i,part:"body",dist:f}}else if(s.body){const n=s.body,o=r(t,e,n.x1,n.y1,n.x2,n.y2);if(o<=7)return{idx:i,part:"body",dist:o}}else if("hline"===n.mode&&"hline"===s.kind){const t=Math.abs(e-s.p1.y);if(t<=7)return{idx:i,part:"body",dist:t}}return null},n=C.current;if(n>=0&&n<x.current.length){const t=i(n);if(t)return t}let s=null;for(let r=0;r<x.current.length;r++){const t=i(r);t&&((!s||t.dist<s.dist)&&(s=t))}return s};s=t=>{if(!i||!e)return;const r=n.getBoundingClientRect(),s=t.clientX-r.left,o=t.clientY-r.top;if("brush"===y.current){const n=e.timeScale().coordinateToLogical(s),r=i.coordinateToPrice(o);if(null!=n&&null!=r){k.current=!0,I.current={x:s,y:o};const t={mode:"brush",t1:null,p1:0,t2:null,p2:0,color:g.current,width:w.current,points:[{l:Number(n),p:Number(r)}]};x.current.push(t),C.current=x.current.length-1,D()}try{t.stopPropagation()}catch(b){}return}if("mouse"!==y.current)return;if(0===x.current.length)return C.current=-1,void D();const a=l(s,o);if(!a)return C.current=-1,D(),void(n.style.cursor="");C.current=a.idx,D();try{t.preventDefault(),t.stopPropagation()}catch(b){}const u=e.timeScale().coordinateToLogical(s),h=i.coordinateToPrice(o);if(null==u||null==h)return;const d=x.current[a.idx],f=c({},d);f.points&&(f.points=[...f.points]);const p="number"===typeof d.l1?Number(d.l1):z(d.t1),m="number"===typeof d.l2?Number(d.l2):z(d.t2);M.current={idx:a.idx,orig:f,startLogical:Number(u),startPrice:Number(h),origL1:p,origL2:m,part:a.part},n.style.cursor="grabbing"},a=t=>{if(!i||!e)return;const r=n.getBoundingClientRect(),s=t.clientX-r.left,o=t.clientY-r.top;if("brush"===y.current&&k.current){if(I.current){if(Math.hypot(s-I.current.x,o-I.current.y)<5)return}const t=e.timeScale().coordinateToLogical(s),n=i.coordinateToPrice(o);if(null!=t&&null!=n){const e=Number(t),i=Number(n);if(Number.isFinite(e)&&Number.isFinite(i)){const t=x.current[x.current.length-1];if(t&&t.points&&t.points.length>0){const n=t.points,r=n[n.length-1];Math.abs(e-r.l)<1e-9?r.p=i:n.push({l:e,p:i}),I.current={x:s,y:o},D()}}}return}if("mouse"!==y.current)return;if(!M.current){const t=x.current.length>0?l(s,o):null;return t?void(n.style.cursor="body"===t.part?"grab":"pointer"):void(n.style.cursor="")}try{t.preventDefault(),t.stopPropagation()}catch(b){}const a=e.timeScale().coordinateToLogical(s),u=i.coordinateToPrice(o);if(null==a||null==u)return;const h=M.current,d=h.orig,f=c({},x.current[h.idx]),p=Number(a)-h.startLogical,m=Number(u)-h.startPrice;return"brush"===f.mode&&f.points&&d.points?(f.points=d.points.map(t=>({l:t.l+p,p:t.p+m})),x.current[h.idx]=f,void D()):"p1"===h.part||"p2"===h.part?("hline"===d.mode?(f.p1=Number(u),f.p2=f.p1,f.l1=Number(a),f.l2=Number(a)):"p1"===h.part?(f.p1=Number(u),f.l1=Number(a)):(f.p2=Number(u),f.l2=Number(a)),x.current[h.idx]=f,void D()):("hline"===d.mode?(f.p1=d.p1+m,f.p2=f.p1,f.l1=h.origL1+p,f.l2=h.origL2+p):(f.l1=h.origL1+p,f.l2=h.origL2+p,f.p1=d.p1+m,f.p2=d.p2+m),x.current[h.idx]=f,void D())},b=t=>{if(k.current)return k.current=!1,void(I.current=null);if(M.current){try{t.preventDefault(),t.stopPropagation()}catch(e){}M.current=null,n.style.cursor=""}},n.addEventListener("mousedown",s,!0),window.addEventListener("mousemove",a,!0),window.addEventListener("mouseup",b,!0)}}catch(v){}setTimeout(L,100),setTimeout(D,120);const A=new ResizeObserver(()=>{r.current.forEach((t,e)=>{try{t.chart&&t.chart.resize(t.container.clientWidth,0===e?360:160)}catch(v){}}),L(),D()});return i.current&&A.observe(i.current),()=>{A.disconnect(),t.forEach(t=>{let{chart:e,handler:i}=t;try{e.unsubscribeClick(i)}catch(v){}}),n.forEach(t=>{let{chart:e,handler:i}=t;try{e.unsubscribeCrosshairMove(i)}catch(v){}});try{const t=r.current[0];t&&t.container&&s&&t.container.removeEventListener("mousedown",s,!0),a&&window.removeEventListener("mousemove",a,!0),b&&window.removeEventListener("mouseup",b,!0)}catch(v){}r.current=[];const e=[...o.current];o.current=[],e.forEach(t=>{if(t)try{t.remove()}catch(v){}})}},[e]),(0,n.useEffect)(()=>{L()},[O]),(0,Fr.jsx)("div",{ref:i,style:{position:"relative"},children:N.map((t,e)=>(0,Fr.jsx)("div",{ref:t,className:"chart-pane"},e))})};r.render((0,Fr.jsx)(n.StrictMode,{children:(0,Fr.jsx)(s.StreamlitProvider,{children:(0,Fr.jsx)(Jr,{})})}),document.getElementById("root"))})();
//# sourceMappingURL=main.97e361e1.js.map